Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_2_2025_3_30_PM_[Changes]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_2_2025_3_30_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_2_2025_3_30_PM_[Changes]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_2_2025_3_30_PM_[Changes]/shelved.patch	(revision 1486cf98ba68e2e616a45444c2f5a954b448662b)
+++ /dev/null	(revision 1486cf98ba68e2e616a45444c2f5a954b448662b)
@@ -1,3583 +0,0 @@
-Index: app/src/main/java/com/example/finix/ui/savings/SavingsGoalsAdapter.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.finix.ui.savings;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.DiffUtil;\r\nimport androidx.recyclerview.widget.ListAdapter;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.finix.R;\r\nimport com.example.finix.data.SavingsGoal;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport java.util.Locale;\r\nimport java.util.function.Function;\r\n\r\npublic class SavingsGoalsAdapter\r\n        extends ListAdapter<SavingsGoal, SavingsGoalsAdapter.VH> {\r\n\r\n    private final Function<Integer, String> categoryNameResolver;\r\n    private final OnGoalActionListener listener;\r\n\r\n    public interface OnGoalActionListener {\r\n        void onEdit(SavingsGoal goal);\r\n        void onDelete(SavingsGoal goal);\r\n    }\r\n\r\n    public SavingsGoalsAdapter(Function<Integer, String> categoryNameResolver, OnGoalActionListener listener) {\r\n        super(DIFF);\r\n        this.categoryNameResolver = categoryNameResolver;\r\n        this.listener = listener;\r\n    }\r\n\r\n    private static final DiffUtil.ItemCallback<SavingsGoal> DIFF =\r\n            new DiffUtil.ItemCallback<SavingsGoal>() {\r\n                @Override\r\n                public boolean areItemsTheSame(@NonNull SavingsGoal a, @NonNull SavingsGoal b) {\r\n                    return a.getId() == b.getId();\r\n                }\r\n\r\n                @Override\r\n                public boolean areContentsTheSame(@NonNull SavingsGoal a, @NonNull SavingsGoal b) {\r\n                    return a.getCategoryId() == b.getCategoryId()\r\n                            && eq(a.getGoalName(), b.getGoalName())\r\n                            && eq(a.getGoalDescription(), b.getGoalDescription())\r\n                            && a.getTargetAmount() == b.getTargetAmount()\r\n                            && a.getTargetDate() == b.getTargetDate();\r\n                }\r\n\r\n                private boolean eq(String x, String y) {\r\n                    return x == null ? y == null : x.equals(y);\r\n                }\r\n            };\r\n\r\n    @NonNull\r\n    @Override\r\n    public VH onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.item_goal, parent, false);\r\n        return new VH(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull VH h, int position) {\r\n        SavingsGoal g = getItem(position);\r\n\r\n        String catName = categoryNameResolver.apply(g.getCategoryId());\r\n        h.tvGoalName.setText(g.getGoalName());\r\n        h.tvCategory.setText(catName);\r\n\r\n        h.tvAmount.setText(String.format(Locale.getDefault(), \"Rs. %,.2f\", g.getTargetAmount()));\r\n        String date = new SimpleDateFormat(\"dd MMM yyyy\", Locale.getDefault())\r\n                .format(new Date(g.getTargetDate()));\r\n        h.tvDate.setText(date);\r\n\r\n        // Info - small popup dialog instead of Toast\r\n        h.btnInfo.setOnClickListener(v -> {\r\n            String msg = (g.getGoalDescription() == null || g.getGoalDescription().trim().isEmpty())\r\n                    ? \"No description\"\r\n                    : g.getGoalDescription();\r\n\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(v.getContext());\r\n            builder.setTitle(\"Description\");\r\n            builder.setMessage(msg);\r\n            builder.setPositiveButton(\"OK\", (dialog, which) -> dialog.dismiss());\r\n            AlertDialog dialog = builder.create();\r\n            dialog.show();\r\n        });\r\n\r\n        // Edit\r\n        h.btnEdit.setOnClickListener(v -> {\r\n            if (listener != null) listener.onEdit(g);\r\n        });\r\n\r\n        // Delete\r\n        h.btnDelete.setOnClickListener(v -> {\r\n            if (listener != null) listener.onDelete(g);\r\n        });\r\n    }\r\n\r\n    static class VH extends RecyclerView.ViewHolder {\r\n        TextView tvGoalName, tvCategory, tvAmount, tvDate;\r\n        ImageButton btnInfo, btnEdit, btnDelete;\r\n\r\n        VH(@NonNull View v) {\r\n            super(v);\r\n            tvGoalName = v.findViewById(R.id.tvGoalName);\r\n            tvCategory = v.findViewById(R.id.tvCategory);\r\n            tvAmount = v.findViewById(R.id.tvAmount);\r\n            tvDate = v.findViewById(R.id.tvDate);\r\n            btnInfo = v.findViewById(R.id.btnInfo);\r\n            btnEdit = v.findViewById(R.id.btnEditGoal);\r\n            btnDelete = v.findViewById(R.id.btnDeleteGoal);\r\n        }\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/finix/ui/savings/SavingsGoalsAdapter.java b/app/src/main/java/com/example/finix/ui/savings/SavingsGoalsAdapter.java
---- a/app/src/main/java/com/example/finix/ui/savings/SavingsGoalsAdapter.java	(revision aeff7419715d5d540dc246f922fac8ddd8b6be06)
-+++ b/app/src/main/java/com/example/finix/ui/savings/SavingsGoalsAdapter.java	(date 1762060702294)
-@@ -1,26 +1,25 @@
- package com.example.finix.ui.savings;
- 
- import android.app.AlertDialog;
-+import android.content.res.ColorStateList;
- import android.view.LayoutInflater;
- import android.view.View;
- import android.view.ViewGroup;
- import android.widget.ImageButton;
- import android.widget.TextView;
- import androidx.annotation.NonNull;
-+import androidx.core.content.ContextCompat;
- import androidx.recyclerview.widget.DiffUtil;
- import androidx.recyclerview.widget.ListAdapter;
- import androidx.recyclerview.widget.RecyclerView;
--
- import com.example.finix.R;
- import com.example.finix.data.SavingsGoal;
--
- import java.text.SimpleDateFormat;
- import java.util.Date;
- import java.util.Locale;
- import java.util.function.Function;
- 
--public class SavingsGoalsAdapter
--        extends ListAdapter<SavingsGoal, SavingsGoalsAdapter.VH> {
-+public class SavingsGoalsAdapter extends ListAdapter<SavingsGoal, SavingsGoalsAdapter.VH> {
- 
-     private final Function<Integer, String> categoryNameResolver;
-     private final OnGoalActionListener listener;
-@@ -62,6 +61,12 @@
-     public VH onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
-         View v = LayoutInflater.from(parent.getContext())
-                 .inflate(R.layout.item_goal, parent, false);
-+
-+        // üß© Add spacing between cards (16dp)
-+        ViewGroup.MarginLayoutParams params = (ViewGroup.MarginLayoutParams) v.getLayoutParams();
-+        params.setMargins(0, 0, 0, (int) (9 * parent.getContext().getResources().getDisplayMetrics().density));
-+        v.setLayoutParams(params);
-+
-         return new VH(v);
-     }
- 
-@@ -72,13 +77,13 @@
-         String catName = categoryNameResolver.apply(g.getCategoryId());
-         h.tvGoalName.setText(g.getGoalName());
-         h.tvCategory.setText(catName);
-+        h.tvAmount.setText(String.format(Locale.getDefault(), "Rs. %,.0f", g.getTargetAmount()));
- 
--        h.tvAmount.setText(String.format(Locale.getDefault(), "Rs. %,.2f", g.getTargetAmount()));
-         String date = new SimpleDateFormat("dd MMM yyyy", Locale.getDefault())
-                 .format(new Date(g.getTargetDate()));
-         h.tvDate.setText(date);
- 
--        // Info - small popup dialog instead of Toast
-+        // üí¨ Info Dialog (OK button teal_200)
-         h.btnInfo.setOnClickListener(v -> {
-             String msg = (g.getGoalDescription() == null || g.getGoalDescription().trim().isEmpty())
-                     ? "No description"
-@@ -90,14 +95,18 @@
-             builder.setPositiveButton("OK", (dialog, which) -> dialog.dismiss());
-             AlertDialog dialog = builder.create();
-             dialog.show();
-+
-+            // üíö Set OK button color to teal_200
-+            dialog.getButton(AlertDialog.BUTTON_POSITIVE)
-+                    .setTextColor(ContextCompat.getColor(v.getContext(), R.color.teal_200));
-         });
- 
--        // Edit
-+        // ‚úèÔ∏è Edit
-         h.btnEdit.setOnClickListener(v -> {
-             if (listener != null) listener.onEdit(g);
-         });
- 
--        // Delete
-+        // ‚ùå Delete
-         h.btnDelete.setOnClickListener(v -> {
-             if (listener != null) listener.onDelete(g);
-         });
-Index: app/src/main/java/com/example/finix/data/Category.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.finix.data;\r\n\r\nimport androidx.room.ColumnInfo;\r\nimport androidx.room.Entity;\r\nimport androidx.room.PrimaryKey;\r\n\r\n@Entity(tableName = \"categories\")\r\npublic class Category {\r\n\r\n    @PrimaryKey(autoGenerate = true)\r\n    @ColumnInfo(name = \"id\")\r\n    private int id;\r\n\r\n    @ColumnInfo(name = \"name\")\r\n    private String name;\r\n\r\n    public Category(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    // --- Getters & Setters ---\r\n    public int getId() { return id; }\r\n    public void setId(int id) { this.id = id; }\r\n\r\n    public String getName() { return name; }\r\n    public void setName(String name) { this.name = name; }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/finix/data/Category.java b/app/src/main/java/com/example/finix/data/Category.java
---- a/app/src/main/java/com/example/finix/data/Category.java	(revision aeff7419715d5d540dc246f922fac8ddd8b6be06)
-+++ b/app/src/main/java/com/example/finix/data/Category.java	(date 1762076274566)
-@@ -2,6 +2,7 @@
- 
- import androidx.room.ColumnInfo;
- import androidx.room.Entity;
-+import androidx.room.Ignore;
- import androidx.room.PrimaryKey;
- 
- @Entity(tableName = "categories")
-@@ -14,6 +15,12 @@
-     @ColumnInfo(name = "name")
-     private String name;
- 
-+    // 1. Explicit no-arg constructor for Room to use when reading from the database (Fix)
-+    public Category() {
-+        // Required empty public constructor
-+    }
-+
-+    @Ignore
-     public Category(String name) {
-         this.name = name;
-     }
-Index: app/src/main/java/com/example/finix/data/CategoryDAO.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.finix.data;\r\n\r\nimport androidx.room.Dao;\r\nimport androidx.room.Insert;\r\nimport androidx.room.Query;\r\nimport androidx.room.Delete;\r\n\r\nimport java.util.List;\r\n\r\n@Dao\r\npublic interface CategoryDAO {\r\n\r\n    @Insert\r\n    void insert(Category category);\r\n\r\n    @Delete\r\n    void delete(Category category);\r\n\r\n    @Query(\"SELECT * FROM categories ORDER BY name ASC\")\r\n    List<Category> getAllCategories();\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/finix/data/CategoryDAO.java b/app/src/main/java/com/example/finix/data/CategoryDAO.java
---- a/app/src/main/java/com/example/finix/data/CategoryDAO.java	(revision aeff7419715d5d540dc246f922fac8ddd8b6be06)
-+++ b/app/src/main/java/com/example/finix/data/CategoryDAO.java	(date 1762075656303)
-@@ -4,18 +4,38 @@
- import androidx.room.Insert;
- import androidx.room.Query;
- import androidx.room.Delete;
-+import androidx.room.Update; // Needed for the update method
- 
- import java.util.List;
- 
- @Dao
- public interface CategoryDAO {
- 
-+    // Version 1 method: Insert and return the row ID
-     @Insert
--    void insert(Category category);
-+    long insert(Category category);
- 
-+    // Version 2 method: Update an existing category
-+    @Update
-+    void update(Category category);
-+
-+    // Present in both versions
-     @Delete
-     void delete(Category category);
- 
-+    // Present in both versions
-     @Query("SELECT * FROM categories ORDER BY name ASC")
-     List<Category> getAllCategories();
-+
-+    // Version 1 method: Get category by ID
-+    @Query("SELECT * FROM categories WHERE id = :categoryId")
-+    Category getCategoryById(int categoryId);
-+
-+    // Version 2 method: Get category by Name
-+    @Query("SELECT * FROM categories WHERE name = :name COLLATE NOCASE LIMIT 1")
-+    Category getCategoryByName(String name);
-+
-+    // Version 2 method: Search categories by name
-+    @Query("SELECT * FROM categories WHERE name LIKE :query ORDER BY name ASC")
-+    List<Category> searchCategories(String query);
- }
-\ No newline at end of file
-Index: app/src/main/java/com/example/finix/data/SavingsGoal.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.finix.data;\r\n\r\nimport androidx.room.ColumnInfo;\r\nimport androidx.room.Entity;\r\nimport androidx.room.ForeignKey;\r\nimport androidx.room.PrimaryKey;\r\n\r\n@Entity(\r\n        tableName = \"savings_goals\",\r\n        foreignKeys = @ForeignKey(\r\n                entity = Category.class,\r\n                parentColumns = \"id\",\r\n                childColumns = \"category_id\",\r\n                onDelete = ForeignKey.RESTRICT\r\n        )\r\n)\r\npublic class SavingsGoal {\r\n\r\n    @PrimaryKey(autoGenerate = true)\r\n    @ColumnInfo(name = \"goal_id\")\r\n    private int id;\r\n\r\n    @ColumnInfo(name = \"category_id\")\r\n    private int categoryId;\r\n\r\n    @ColumnInfo(name = \"goal_name\")\r\n    private String goalName;\r\n\r\n    @ColumnInfo(name = \"goal_description\")\r\n    private String goalDescription;\r\n\r\n    @ColumnInfo(name = \"target_amount\")\r\n    private double targetAmount;\r\n\r\n    @ColumnInfo(name = \"target_date\")\r\n    private long targetDate;\r\n\r\n    // ‚úÖ Room requires a no-arg constructor\r\n    public SavingsGoal() {}\r\n\r\n    public SavingsGoal(int categoryId, String goalName, String goalDescription, double targetAmount, long targetDate) {\r\n        this.categoryId = categoryId;\r\n        this.goalName = goalName;\r\n        this.goalDescription = goalDescription;\r\n        this.targetAmount = targetAmount;\r\n        this.targetDate = targetDate;\r\n    }\r\n\r\n    // --- Getters & Setters ---\r\n    public int getId() { return id; }\r\n    public void setId(int id) { this.id = id; }\r\n\r\n    public int getCategoryId() { return categoryId; }\r\n    public void setCategoryId(int categoryId) { this.categoryId = categoryId; }\r\n\r\n    public String getGoalName() { return goalName; }\r\n    public void setGoalName(String goalName) { this.goalName = goalName; }\r\n\r\n    public String getGoalDescription() { return goalDescription; }\r\n    public void setGoalDescription(String goalDescription) { this.goalDescription = goalDescription; }\r\n\r\n    public double getTargetAmount() { return targetAmount; }\r\n    public void setTargetAmount(double targetAmount) { this.targetAmount = targetAmount; }\r\n\r\n    public long getTargetDate() { return targetDate; }\r\n    public void setTargetDate(long targetDate) { this.targetDate = targetDate; }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/finix/data/SavingsGoal.java b/app/src/main/java/com/example/finix/data/SavingsGoal.java
---- a/app/src/main/java/com/example/finix/data/SavingsGoal.java	(revision aeff7419715d5d540dc246f922fac8ddd8b6be06)
-+++ b/app/src/main/java/com/example/finix/data/SavingsGoal.java	(date 1762076306446)
-@@ -3,10 +3,13 @@
- import androidx.room.ColumnInfo;
- import androidx.room.Entity;
- import androidx.room.ForeignKey;
-+import androidx.room.Ignore;
-+import androidx.room.Index;
- import androidx.room.PrimaryKey;
- 
- @Entity(
-         tableName = "savings_goals",
-+        indices = {@Index(value = {"category_id"})}, // Fix applied here
-         foreignKeys = @ForeignKey(
-                 entity = Category.class,
-                 parentColumns = "id",
-@@ -38,6 +41,7 @@
-     // ‚úÖ Room requires a no-arg constructor
-     public SavingsGoal() {}
- 
-+    @Ignore
-     public SavingsGoal(int categoryId, String goalName, String goalDescription, double targetAmount, long targetDate) {
-         this.categoryId = categoryId;
-         this.goalName = goalName;
-Index: app/src/main/java/com/example/finix/ui/transactions/TransactionsFragment.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.finix.ui.transactions;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.app.DatePickerDialog;\r\nimport android.app.TimePickerDialog;\r\nimport android.content.DialogInterface;\r\nimport android.graphics.Color;\r\nimport android.graphics.Rect;\r\nimport android.graphics.drawable.ColorDrawable;\r\nimport android.os.Bundle;\r\nimport android.os.CountDownTimer;\r\nimport android.text.InputFilter;\r\nimport android.util.Log; // <-- DEBUGGING: Import Log class\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.*;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.Observer; // Import for explicit observer\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport com.example.finix.R;\r\nimport com.example.finix.data.Transaction;\r\nimport com.example.finix.databinding.FragmentTransactionsBinding;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.*;\r\n\r\npublic class TransactionsFragment extends Fragment {\r\n\r\n    // DEBUGGING: Define a TAG for logging\r\n    private static final String TAG = \"Finix_TransFragment\";\r\n\r\n    private FragmentTransactionsBinding binding;\r\n    private TransactionsViewModel viewModel;\r\n    private TransactionAdapter incomeAdapter, expenseAdapter;\r\n\r\n    // \uD83C\uDD95 NEW: Variable to hold the current list of available month/years\r\n    private final List<String> distinctMonths = new ArrayList<>();\r\n\r\n    // \uD83C\uDD95 NEW: Variable to store the currently selected filter month/year\r\n    private String currentMonthYearFilter = null;\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        Log.d(TAG, \"onResume: Fragment becoming visible. Checking filter status for reload.\");\r\n\r\n        // Check if a month filter is currently active (set either by user or by default logic).\r\n        if (currentMonthYearFilter != null) {\r\n            // If an active filter exists, re-run it to ensure data is fresh and the filter is maintained.\r\n            Log.d(TAG, \"onResume: Re-applying current month filter: \" + currentMonthYearFilter);\r\n            viewModel.filterByMonthYear(currentMonthYearFilter);\r\n        } else {\r\n            // If no filter is active (i.e., \"Show All\" is active), reload all transactions.\r\n            // This also ensures the ViewModel's distinct months are up-to-date, which triggers\r\n            // the logic in updateMonthYearSpinner to set the default current month.\r\n            Log.d(TAG, \"onResume: No month filter active. Reloading all transactions.\");\r\n            viewModel.loadAllTransactions();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n\r\n        Log.d(TAG, \"onCreateView: Starting fragment initialization.\");\r\n\r\n        viewModel = new ViewModelProvider(this).get(TransactionsViewModel.class);\r\n        binding = FragmentTransactionsBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n\r\n        // \uD83D\uDD39 Setup RecyclerViews\r\n        incomeAdapter = new TransactionAdapter();\r\n        expenseAdapter = new TransactionAdapter();\r\n\r\n        LinearLayoutManager incomeLayout = new LinearLayoutManager(getContext());\r\n        LinearLayoutManager expenseLayout = new LinearLayoutManager(getContext());\r\n        binding.recyclerIncome.setLayoutManager(incomeLayout);\r\n        binding.recyclerExpenses.setLayoutManager(expenseLayout);\r\n\r\n        binding.recyclerIncome.setAdapter(incomeAdapter);\r\n        binding.recyclerExpenses.setAdapter(expenseAdapter);\r\n        Log.d(TAG, \"onCreateView: RecyclerViews and adapters initialized.\");\r\n\r\n        // \uD83D\uDD39 Add spacing between items\r\n        try {\r\n            int spacing = getResources().getDimensionPixelSize(R.dimen.transaction_item_spacing);\r\n            RecyclerView.ItemDecoration decoration = new RecyclerView.ItemDecoration() {\r\n                @Override\r\n                public void getItemOffsets(@NonNull Rect outRect, @NonNull View view,\r\n                                           @NonNull RecyclerView parent, @NonNull RecyclerView.State state) {\r\n                    outRect.bottom = spacing;\r\n                }\r\n            };\r\n            binding.recyclerIncome.addItemDecoration(decoration);\r\n            binding.recyclerExpenses.addItemDecoration(decoration);\r\n            Log.d(TAG, \"onCreateView: Item spacing added. Spacing value: \" + spacing);\r\n        } catch (Exception e) {\r\n            Log.e(TAG, \"onCreateView: Failed to get transaction_item_spacing dimension.\", e);\r\n        }\r\n\r\n        // \uD83D\uDD39 Observe transactions\r\n        viewModel.getIncomeTransactions().observe(getViewLifecycleOwner(), list -> {\r\n            Log.d(TAG, \"Income LiveData updated. Count: \" + (list != null ? list.size() : 0));\r\n            incomeAdapter.setTransactions(list);\r\n            updateTransactionVisibility();\r\n        });\r\n        viewModel.getExpenseTransactions().observe(getViewLifecycleOwner(), list -> {\r\n            Log.d(TAG, \"Expense LiveData updated. Count: \" + (list != null ? list.size() : 0));\r\n            expenseAdapter.setTransactions(list);\r\n            updateTransactionVisibility();\r\n        });\r\n\r\n        viewModel.getMessageEvent().observe(getViewLifecycleOwner(), message -> {\r\n            if (message != null) {\r\n                Log.i(TAG, \"MessageEvent received: \" + message);\r\n                showCustomToast(message);\r\n            }\r\n        });\r\n\r\n        // \uD83D\uDD39 Keep category map updated in adapters\r\n        viewModel.getCategoriesLive().observe(getViewLifecycleOwner(), map -> {\r\n            int count = (map != null) ? map.size() : 0;\r\n            Log.d(TAG, \"Category LiveData updated for adapters. Category Count: \" + count);\r\n            if (map != null) {\r\n                incomeAdapter.setCategoryMap(map);\r\n                expenseAdapter.setCategoryMap(map);\r\n                incomeAdapter.notifyDataSetChanged();\r\n                expenseAdapter.notifyDataSetChanged();\r\n            }\r\n        });\r\n\r\n        // \uD83D\uDD39 \uD83C\uDD95 NEW: Observe distinct months/years for the Spinner\r\n        viewModel.getDistinctMonthsLive().observe(getViewLifecycleOwner(), months -> {\r\n            Log.d(TAG, \"Distinct Months LiveData updated. Count: \" + (months != null ? months.size() : 0));\r\n            updateMonthYearSpinner(months);\r\n        });\r\n\r\n        // \uD83D\uDD39 Add transaction\r\n        binding.buttonAddTransaction.setOnClickListener(v -> {\r\n            Log.d(TAG, \"Add Transaction button clicked. Showing Add/Edit dialog.\");\r\n            showAddTransactionDialog(null);\r\n        });\r\n\r\n        // \uD83D\uDD39 \uD83C\uDD95 NEW: Set up Month/Year Spinner Listener\r\n        setupMonthYearSpinner();\r\n\r\n        // \uD83D\uDD39 Filters\r\n        binding.buttonFilterIncome.setOnClickListener(v -> showFilterMenu(\"Income\"));\r\n        binding.buttonFilterExpenses.setOnClickListener(v -> showFilterMenu(\"Expense\"));\r\n\r\n        // \uD83D\uDD39 Edit & Delete buttons inside adapter\r\n        incomeAdapter.setListener(new TransactionAdapter.OnTransactionActionListener() {\r\n            @Override\r\n            public void onEdit(Transaction t) {\r\n                Log.d(TAG, \"Income transaction EDIT clicked for ID: \" + t.getId());\r\n                showAddTransactionDialog(t);\r\n            }\r\n\r\n            @Override\r\n            public void onDelete(Transaction t) {\r\n                Log.d(TAG, \"Income transaction DELETE clicked for ID: \" + t.getId());\r\n                showDeleteConfirmation(t);\r\n            }\r\n        });\r\n\r\n        expenseAdapter.setListener(new TransactionAdapter.OnTransactionActionListener() {\r\n            @Override\r\n            public void onEdit(Transaction t) {\r\n                Log.d(TAG, \"Expense transaction EDIT clicked for ID: \" + t.getId());\r\n                showAddTransactionDialog(t);\r\n            }\r\n\r\n            @Override\r\n            public void onDelete(Transaction t) {\r\n                Log.d(TAG, \"Expense transaction DELETE clicked for ID: \" + t.getId());\r\n                showDeleteConfirmation(t);\r\n            }\r\n        });\r\n\r\n        Log.d(TAG, \"onCreateView: Listeners set up successfully.\");\r\n\r\n        return root;\r\n    }\r\n\r\n    private void onTransactionModified() {\r\n        Log.i(TAG, \"onTransactionModified: Transaction change detected. Re-applying filter or reloading all.\");\r\n\r\n        // Check if a filter is active\r\n        if (currentMonthYearFilter != null) {\r\n            // Re-apply the current filter to refresh the data\r\n            // This will also trigger the distinct month LiveData to update the spinner\r\n            viewModel.filterByMonthYear(currentMonthYearFilter);\r\n            Log.d(TAG, \"onTransactionModified: Re-applied filter: \" + currentMonthYearFilter);\r\n        } else {\r\n            // If \"Show All\" was active, load all to refresh data and distinct month list\r\n            viewModel.loadAllTransactions();\r\n            Log.d(TAG, \"onTransactionModified: Reloaded all transactions (Show All).\");\r\n        }\r\n    }\r\n\r\n    // \uD83C\uDD95 NEW: Setup the Spinner and its listener\r\n    private void setupMonthYearSpinner() {\r\n        binding.spinnerMonthYear.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {\r\n                if (position == 0) {\r\n                    // \"Show All\" selected\r\n                    if (currentMonthYearFilter != null) {\r\n                        Log.i(TAG, \"Spinner selection: Show All.\");\r\n                        viewModel.loadAllTransactions();\r\n                        currentMonthYearFilter = null;\r\n                    }\r\n                } else {\r\n                    // A specific month/year is selected\r\n                    String selectedMonthYear = distinctMonths.get(position - 1);\r\n                    if (!Objects.equals(selectedMonthYear, currentMonthYearFilter)) {\r\n                        Log.i(TAG, \"Spinner selection: Filtering by \" + selectedMonthYear);\r\n                        viewModel.filterByMonthYear(selectedMonthYear);\r\n                        currentMonthYearFilter = selectedMonthYear;\r\n                    }\r\n                }\r\n\r\n                // ‚ùå REMOVED: Custom text color logic is gone\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView<?> parent) {\r\n                // Do nothing\r\n            }\r\n        });\r\n        Log.d(TAG, \"setupMonthYearSpinner: Listener attached.\");\r\n    }\r\n\r\n    // \uD83C\uDD95 UPDATED: Update the Spinner's data and set the default current month filter.\r\n    private void updateMonthYearSpinner(List<String> months) {\r\n        distinctMonths.clear();\r\n        if (months != null) {\r\n            // ASSUMPTION: 'months' list is sorted in descending chronological order (newest month first).\r\n            distinctMonths.addAll(months);\r\n        }\r\n\r\n        // 1. Create the final list for the adapter\r\n        List<String> adapterList = new ArrayList<>();\r\n        adapterList.add(\"Show All\"); // The default, first option\r\n        adapterList.addAll(distinctMonths); // Add the actual month/year values\r\n\r\n        // 2. Create and set the adapter\r\n        ArrayAdapter<String> adapter = new ArrayAdapter<>(requireContext(),\r\n                android.R.layout.simple_spinner_item,\r\n                adapterList);\r\n\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        binding.spinnerMonthYear.setAdapter(adapter);\r\n\r\n        // 3. Set the selection and apply filter if needed\r\n        // Check if there's no current filter AND at least one month is available (adapterList size > 1)\r\n        boolean isInitialDefaultSet = currentMonthYearFilter == null && adapterList.size() > 1;\r\n\r\n        if (isInitialDefaultSet) {\r\n            // --- LOGIC for initial default selection: Select the latest month ---\r\n\r\n            // Select the latest month, which is at index 1 (after \"Show All\").\r\n            final int LATEST_MONTH_INDEX = 1;\r\n            binding.spinnerMonthYear.setSelection(LATEST_MONTH_INDEX);\r\n\r\n            // Manually apply the filter for the default month since setSelection doesn't\r\n            // trigger onItemSelected on initial load.\r\n            String defaultSelection = adapterList.get(LATEST_MONTH_INDEX);\r\n            viewModel.filterByMonthYear(defaultSelection); // Apply filter\r\n            currentMonthYearFilter = defaultSelection;     // Store filter state\r\n\r\n            Log.i(TAG, \"updateMonthYearSpinner: Default selection set to latest month: \" + defaultSelection);\r\n        } else if (currentMonthYearFilter != null) {\r\n            // Maintain the currently active filter (after resume or when a month is selected)\r\n            int index = distinctMonths.indexOf(currentMonthYearFilter);\r\n            if (index != -1) {\r\n                binding.spinnerMonthYear.setSelection(index + 1); // +1 because of \"Show All\"\r\n                Log.d(TAG, \"updateMonthYearSpinner: Maintaining current filter: \" + currentMonthYearFilter + \" at index \" + (index + 1));\r\n            } else {\r\n                // Active filter disappeared (e.g., all transactions in that month were deleted)\r\n                binding.spinnerMonthYear.setSelection(0);\r\n                currentMonthYearFilter = null;\r\n                Log.w(TAG, \"updateMonthYearSpinner: Active filter disappeared. Resetting to 'Show All'.\");\r\n                viewModel.loadAllTransactions(); // Force load all transactions\r\n            }\r\n        } else {\r\n            // Default to \"Show All\" if no transactions exist.\r\n            binding.spinnerMonthYear.setSelection(0);\r\n            Log.d(TAG, \"updateMonthYearSpinner: Defaulting/Resetting to 'Show All'.\");\r\n        }\r\n\r\n        // Hide the spinner if there are no months (only 'Show All')\r\n        binding.spinnerMonthYear.setVisibility(adapterList.size() > 1 ? View.VISIBLE : View.GONE);\r\n        Log.d(TAG, \"updateMonthYearSpinner: Adapter set. Items: \" + adapterList.size());\r\n    }\r\n\r\n    // --- NEW METHOD FOR CUSTOM DELETE CONFIRMATION ---\r\n    private void showDeleteConfirmation(Transaction t) {\r\n        Log.d(TAG, \"showDeleteConfirmation: Preparing dialog for transaction ID: \" + t.getId());\r\n        View popupView = requireActivity().getLayoutInflater().inflate(R.layout.delete_confirmation_popup, null);\r\n\r\n        TextView tvMessage = popupView.findViewById(R.id.deleteMessage);\r\n\r\n        if (tvMessage != null) {\r\n            String categoryName = viewModel.getCategoryMap().getOrDefault(t.getCategoryId(), \"a transaction\");\r\n            String message = \"Are you sure you want to delete the \" + t.getType().toLowerCase() + \" of Rs. \" + String.format(\"%.2f\", t.getAmount()) + \" for '\" + categoryName + \"'?\";\r\n            tvMessage.setText(message);\r\n            Log.d(TAG, \"showDeleteConfirmation: Message set: \" + message);\r\n        }\r\n\r\n        AlertDialog dialog = new AlertDialog.Builder(requireContext()).setView(popupView).create();\r\n        dialog.show();\r\n\r\n        Window window = dialog.getWindow();\r\n        if(window != null){\r\n            int dialogWidth = (int)(requireActivity().getResources().getDisplayMetrics().widthPixels * 0.8);\r\n            window.setLayout(dialogWidth, WindowManager.LayoutParams.WRAP_CONTENT);\r\n            window.setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n            Log.d(TAG, \"showDeleteConfirmation: Dialog size and background set.\");\r\n        }\r\n\r\n        Button cancelBtn = popupView.findViewById(R.id.cancelDeleteBtn);\r\n        Button confirmBtn = popupView.findViewById(R.id.confirmDeleteBtn);\r\n\r\n        cancelBtn.setOnClickListener(v -> {\r\n            Log.d(TAG, \"Delete dialog: Cancel clicked.\");\r\n            dialog.dismiss();\r\n        });\r\n\r\n        confirmBtn.setOnClickListener(v -> {\r\n            Log.i(TAG, \"Delete dialog: Confirm clicked. Deleting transaction ID: \" + t.getId());\r\n            dialog.dismiss();\r\n\r\n            // 1. Initiate the delete operation\r\n            viewModel.deleteTransaction(t);\r\n\r\n            // 2. \uD83C\uDFC6 CRITICAL FIX: Reload the list (with filter) after deletion\r\n            // Use a short delay to ensure the database operation completes before we refresh.\r\n            new CountDownTimer(100, 100) {\r\n                @Override\r\n                public void onTick(long l) {}\r\n\r\n                @Override\r\n                public void onFinish() {\r\n                    onTransactionModified(); // Re-applies the current filter or reloads all\r\n                }\r\n            }.start();\r\n        });\r\n    }\r\n\r\n    // \uD83D\uDD39 Popup for Add/Edit Transaction\r\n    private void showAddTransactionDialog(Transaction transactionToEdit) {\r\n        if (transactionToEdit != null) {\r\n            Log.i(TAG, \"showAddTransactionDialog: Editing existing transaction ID: \" + transactionToEdit.getId());\r\n        } else {\r\n            Log.i(TAG, \"showAddTransactionDialog: Adding new transaction.\");\r\n        }\r\n\r\n        LayoutInflater inflater = LayoutInflater.from(getContext());\r\n        View popupView = inflater.inflate(R.layout.add_edit_transaction_popup, null);\r\n\r\n        // --- View Initialization ---\r\n        TextView tvTitle = popupView.findViewById(R.id.popupTitle);\r\n        tvTitle.setText(transactionToEdit != null ? \"Edit Transaction\" : \"Add Transaction\");\r\n\r\n        EditText etAmount = popupView.findViewById(R.id.etAmount);\r\n        EditText etDescription = popupView.findViewById(R.id.etDescription);\r\n        Button btnSave = popupView.findViewById(R.id.btnSaveTransaction);\r\n        ImageButton btnPickDateTime = popupView.findViewById(R.id.btnPickDateTime);\r\n        TextView tvDateTime = popupView.findViewById(R.id.tvDateTime);\r\n        RadioGroup rgType = popupView.findViewById(R.id.rgType);\r\n\r\n        AutoCompleteTextView actCategory = popupView.findViewById(R.id.actCategory);\r\n        LinearLayout llAddCategory = popupView.findViewById(R.id.llAddNewCategory);\r\n        EditText etNewCategory = popupView.findViewById(R.id.etNewCategory);\r\n        Button btnSaveCategory = popupView.findViewById(R.id.btnSaveCategory);\r\n        Button btnBackCategory = popupView.findViewById(R.id.btnCancelCategory);\r\n\r\n        // \uD83D\uDFE2 ADD CHARACTER LIMITS HERE\r\n        etAmount.setFilters(new InputFilter[] { new InputFilter.LengthFilter(7) });\r\n        etNewCategory.setFilters(new InputFilter[] { new InputFilter.LengthFilter(14) });\r\n        Log.d(TAG, \"Dialog: Input filters (limits) applied.\");\r\n\r\n        // --- Category setup ---\r\n        List<String> categoriesList = new ArrayList<>();\r\n        Map<String, Integer> categoryNameToIdMap = new HashMap<>();\r\n\r\n        // Ensure \"Add New Category\" is the first entry\r\n        categoriesList.add(\"Add New Category\");\r\n\r\n        // Initial pre-population of categories from ViewModel's current state\r\n        Map<Integer, String> currentCategories = viewModel.getCategoryMap();\r\n        if (currentCategories != null) {\r\n            for (Map.Entry<Integer, String> entry : currentCategories.entrySet()) {\r\n                categoriesList.add(entry.getValue());\r\n                categoryNameToIdMap.put(entry.getValue(), entry.getKey());\r\n            }\r\n        }\r\n        Log.d(TAG, \"Dialog: Initial category list size: \" + categoriesList.size());\r\n\r\n\r\n        ArrayAdapter<String> adapter = new ArrayAdapter<>(getContext(),\r\n                android.R.layout.simple_dropdown_item_1line, categoriesList);\r\n        actCategory.setAdapter(adapter);\r\n        actCategory.setThreshold(0);\r\n\r\n        // Force refresh on focus and click!\r\n        actCategory.setOnFocusChangeListener((v, hasFocus) -> {\r\n            if (hasFocus) {\r\n                Log.d(TAG, \"Category AutoCompleteTextView gained focus. Refreshing categories.\");\r\n                refreshCategories(adapter, categoriesList, categoryNameToIdMap, actCategory);\r\n                actCategory.post(() -> {\r\n                    actCategory.showDropDown(); // Always show latest items\r\n                });\r\n            }\r\n        });\r\n\r\n        actCategory.setOnClickListener(v -> {\r\n            if (!actCategory.isPopupShowing()) {\r\n                Log.d(TAG, \"Category AutoCompleteTextView clicked. Refreshing categories.\");\r\n                refreshCategories(adapter, categoriesList, categoryNameToIdMap, actCategory);\r\n                actCategory.post(() -> {\r\n                    actCategory.showDropDown(); // Always show latest items\r\n                });\r\n            }\r\n        });\r\n\r\n        actCategory.setOnItemClickListener((parent, view, position, id) -> {\r\n            String selected = adapter.getItem(position);\r\n            Log.d(TAG, \"Dialog: Category selected: \" + selected);\r\n            if (\"Add New Category\".equals(selected)) {\r\n                llAddCategory.setVisibility(View.VISIBLE);\r\n                actCategory.setVisibility(View.GONE);\r\n                etNewCategory.requestFocus();\r\n                Log.d(TAG, \"Dialog: 'Add New Category' selected. Showing input field.\");\r\n            }\r\n        });\r\n\r\n        // ‚úÖ Add new category - CRITICAL FIX APPLIED HERE\r\n        btnSaveCategory.setOnClickListener(v -> {\r\n            String newCat = etNewCategory.getText().toString().trim();\r\n            if (!newCat.isEmpty()) {\r\n                Log.d(TAG, \"Dialog: Saving new category: \" + newCat);\r\n\r\n                // 1. Add category (ASYNC WRITE to DB, triggers LiveData update)\r\n                viewModel.addCategory(newCat);\r\n                showCustomMessage(\"Information\", \"New Category Added \");\r\n\r\n                // 2. CRITICAL FIX: Wait for LiveData confirmation and perform UI switch/text set\r\n                // This ensures the local lists/map are updated before setting the text.\r\n                onCategoryAdded(newCat, adapter, categoriesList, categoryNameToIdMap,\r\n                        actCategory, llAddCategory, etNewCategory);\r\n\r\n            } else {\r\n                showCustomMessage(\"Error\", \"Category Can not Be Empty \");\r\n                Log.w(TAG, \"Dialog: Attempted to save empty category.\");\r\n            }\r\n        });\r\n\r\n        btnBackCategory.setOnClickListener(v -> {\r\n            llAddCategory.setVisibility(View.GONE);\r\n            actCategory.setVisibility(View.VISIBLE);\r\n            Log.d(TAG, \"Dialog: Cancel Add Category button clicked.\");\r\n        });\r\n\r\n        // --- Date picker setup ---\r\n        btnPickDateTime.setOnClickListener(v -> {\r\n            Log.d(TAG, \"Dialog: Date/Time picker clicked.\");\r\n            final Calendar calendar = Calendar.getInstance();\r\n            SimpleDateFormat format = new SimpleDateFormat(\"yyyy-MM-dd HH:mm\", Locale.getDefault());\r\n\r\n            if (!tvDateTime.getText().toString().isEmpty()) {\r\n                try {\r\n                    calendar.setTime(format.parse(tvDateTime.getText().toString()));\r\n                } catch (Exception e) {\r\n                    Log.e(TAG, \"Dialog: Failed to parse existing date time string.\", e);\r\n                }\r\n            }\r\n\r\n            DatePickerDialog dp = new DatePickerDialog(\r\n                    getContext(),\r\n                    (view, y, m, d) -> {\r\n                        calendar.set(y, m, d);\r\n                        TimePickerDialog tp = new TimePickerDialog(\r\n                                getContext(),\r\n                                (timeView, h, min) -> {\r\n                                    calendar.set(Calendar.HOUR_OF_DAY, h);\r\n                                    calendar.set(Calendar.MINUTE, min);\r\n                                    String selectedDateTime = format.format(calendar.getTime());\r\n                                    tvDateTime.setText(selectedDateTime);\r\n                                    Log.d(TAG, \"Dialog: Selected date/time: \" + selectedDateTime);\r\n                                },\r\n                                calendar.get(Calendar.HOUR_OF_DAY),\r\n                                calendar.get(Calendar.MINUTE),\r\n                                true\r\n                        );\r\n                        tp.show();\r\n                        tp.getButton(DialogInterface.BUTTON_POSITIVE).setTextColor(Color.parseColor(\"#00BFA5\"));\r\n                        tp.getButton(DialogInterface.BUTTON_NEGATIVE).setTextColor(Color.parseColor(\"#FF5252\"));\r\n                    },\r\n                    calendar.get(Calendar.YEAR),\r\n                    calendar.get(Calendar.MONTH),\r\n                    calendar.get(Calendar.DAY_OF_MONTH)\r\n            );\r\n            dp.show();\r\n            dp.getButton(DialogInterface.BUTTON_POSITIVE).setTextColor(Color.parseColor(\"#00BFA5\"));\r\n            dp.getButton(DialogInterface.BUTTON_NEGATIVE).setTextColor(Color.parseColor(\"#FF5252\"));\r\n        });\r\n\r\n        // --- Preload existing transaction data if editing ---\r\n        if (transactionToEdit != null) {\r\n            String categoryName = viewModel.getCategoryMap().get(transactionToEdit.getCategoryId());\r\n            SimpleDateFormat format = new SimpleDateFormat(\"yyyy-MM-dd HH:mm\", Locale.getDefault());\r\n\r\n            etAmount.setText(String.valueOf(transactionToEdit.getAmount()));\r\n            etDescription.setText(transactionToEdit.getDescription());\r\n            actCategory.setText(categoryName);\r\n            tvDateTime.setText(format.format(new Date(transactionToEdit.getDateTime())));\r\n\r\n            int radioId = \"Income\".equals(transactionToEdit.getType()) ? R.id.rbIncome : R.id.rbExpense;\r\n            rgType.check(radioId);\r\n            Log.d(TAG, \"Dialog: Preloaded existing data for Edit mode. Category: \" + categoryName + \", Type ID: \" + radioId);\r\n        }\r\n\r\n        AlertDialog dialog = new AlertDialog.Builder(getContext())\r\n                .setView(popupView)\r\n                .create();\r\n        if (dialog.getWindow() != null)\r\n            dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\r\n\r\n        dialog.show();\r\n        dialog.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE);\r\n        Log.d(TAG, \"Dialog: Add/Edit Transaction dialog shown.\");\r\n\r\n        // --- Save Transaction ---\r\n        btnSave.setOnClickListener(v -> {\r\n            Log.d(TAG, \"Dialog: Save Transaction button clicked.\");\r\n            String amountText = etAmount.getText().toString().trim();\r\n            String desc = etDescription.getText().toString().trim();\r\n            String catName = actCategory.getText().toString().trim();\r\n            String dateText = tvDateTime.getText().toString().trim();\r\n            int checkedTypeId = rgType.getCheckedRadioButtonId();\r\n            String type = checkedTypeId == R.id.rbIncome ? \"Income\" : \"Expense\";\r\n\r\n            // \uD83D\uDD34 Validation Checks\r\n            if (amountText.isEmpty() || catName.isEmpty() || dateText.isEmpty() || desc.isEmpty()) {\r\n                showCustomMessage(\"Error\", \"Fill All Fields\");\r\n                Log.w(TAG, \"Validation Failed: Empty fields detected.\");\r\n                return;\r\n            }\r\n\r\n            if (checkedTypeId == -1) {\r\n                showCustomMessage(\"Error\", \"Please select transaction type (Income or Expense)!\\\"\");\r\n                Log.w(TAG, \"Validation Failed: No transaction type selected.\");\r\n                return;\r\n            }\r\n\r\n            if (!categoryNameToIdMap.containsKey(catName)) {\r\n                if (\"Add New Category\".equals(catName)) {\r\n                    showCustomMessage(\"Error\", \"Please select a valid category or complete adding a new one! \");\r\n                } else {\r\n                    showCustomMessage(\"Error\", \"Invalid category selected! Ensure it's from the list.\");\r\n                }\r\n                Log.w(TAG, \"Validation Failed: Invalid category name: \" + catName);\r\n                return;\r\n            }\r\n\r\n            int categoryId = categoryNameToIdMap.get(catName);\r\n            Log.d(TAG, \"Validation Passed. Category Name: \" + catName + \", ID: \" + categoryId);\r\n\r\n            try {\r\n                double amount = Double.parseDouble(amountText);\r\n                long dateMillis = new SimpleDateFormat(\"yyyy-MM-dd HH:mm\", Locale.getDefault())\r\n                        .parse(dateText).getTime();\r\n\r\n                if (transactionToEdit != null) {\r\n                    // Check for changes in Edit mode\r\n                    boolean noChange =\r\n                            Double.compare(transactionToEdit.getAmount(), amount) == 0 &&\r\n                                    Objects.equals(transactionToEdit.getDescription(), desc) &&\r\n                                    transactionToEdit.getCategoryId() == categoryId &&\r\n                                    transactionToEdit.getDateTime() == dateMillis &&\r\n                                    Objects.equals(transactionToEdit.getType(), type);\r\n\r\n                    if (noChange) {\r\n                        showCustomToast(\"No changes detected!\");\r\n                        dialog.dismiss();\r\n                        Log.i(TAG, \"Edit transaction: No changes detected. Dismissing dialog.\");\r\n                        return;\r\n                    }\r\n\r\n                    // Perform update\r\n                    transactionToEdit.setAmount(amount);\r\n                    transactionToEdit.setDescription(desc);\r\n                    transactionToEdit.setCategoryId(categoryId);\r\n                    transactionToEdit.setDateTime(dateMillis);\r\n                    transactionToEdit.setType(type);\r\n\r\n                    viewModel.updateTransaction(transactionToEdit);\r\n                    showCustomMessage(\"Information\", \"Transaction updated successfully!\");\r\n                    Log.i(TAG, \"Edit transaction: Update initiated for ID: \" + transactionToEdit.getId());\r\n\r\n                    // \uD83C\uDFC6 CRITICAL FIX: Re-apply filter after update\r\n                    onTransactionModified();\r\n\r\n                } else {\r\n                    // Prepare the callback for new save\r\n                    Runnable onSuccess = () -> {\r\n                        dialog.dismiss();\r\n                        onTransactionModified(); // \uD83C\uDFC6 CRITICAL FIX: Re-apply filter after save\r\n                    };\r\n\r\n                    // Perform save\r\n                    // NOTE: The ViewModel's saveTransaction MUST call the onSuccess Runnable\r\n                    // once the transaction is successfully written to the database.\r\n                    viewModel.saveTransaction(amount, type, categoryId, dateMillis, desc, onSuccess);\r\n                    showCustomMessage(\"Information\", \"New transaction added!\");\r\n                    Log.i(TAG, \"New transaction: Save initiated.\");\r\n                    return; // Return here as onSuccess will handle dialog dismissal\r\n                }\r\n\r\n                dialog.dismiss();\r\n            } catch (Exception e) {\r\n                showCustomMessage(\"Error\", \"Invalid amount or date format! \");\r\n                Log.e(TAG, \"Save Failed: Parsing error (Amount/Date).\", e);\r\n            }\r\n        });\r\n    }\r\n\r\n    // --- NEW METHOD: Waits for LiveData update before completing category add UI switch ---\r\n    private void onCategoryAdded(String newCat, ArrayAdapter<String> adapter,\r\n                                 List<String> categoriesList,\r\n                                 Map<String, Integer> categoryNameToIdMap,\r\n                                 AutoCompleteTextView actCategory,\r\n                                 LinearLayout llAddCategory,\r\n                                 EditText etNewCategory) {\r\n\r\n        Log.d(TAG, \"onCategoryAdded: Waiting for LiveData confirmation for '\" + newCat + \"'.\");\r\n\r\n        // Attach a one-time observer that waits for the LiveData to reflect the newly added category.\r\n        Observer<Map<Integer, String>> oneTimeObserver = new Observer<Map<Integer, String>>() {\r\n            @Override\r\n            public void onChanged(Map<Integer, String> map) {\r\n                Log.d(TAG, \"onCategoryAdded Observer: LiveData changed. Size: \" + (map != null ? map.size() : 0));\r\n\r\n                if (map != null && map.containsValue(newCat)) {\r\n\r\n                    // 1. Update local lists and map (Essential for subsequent validation/selection)\r\n                    categoriesList.clear();\r\n                    categoryNameToIdMap.clear();\r\n                    categoriesList.add(\"Add New Category\");\r\n\r\n                    for (Map.Entry<Integer, String> entry : map.entrySet()) {\r\n                        categoriesList.add(entry.getValue());\r\n                        categoryNameToIdMap.put(entry.getValue(), entry.getKey());\r\n                    }\r\n                    adapter.notifyDataSetChanged();\r\n\r\n                    Log.i(TAG, \"onCategoryAdded Observer: Category '\" + newCat + \"' confirmed. Performing UI switch.\");\r\n\r\n                    // 2. Perform the UI switch and set the text on the main thread\r\n                    actCategory.post(() -> {\r\n                        actCategory.setText(newCat);\r\n                        actCategory.setVisibility(View.VISIBLE);\r\n                        llAddCategory.setVisibility(View.GONE);\r\n                        actCategory.clearFocus();\r\n                        etNewCategory.setText(\"\"); // Clear the input field\r\n                    });\r\n\r\n                    // 3. CRUCIAL: Remove the observer after confirmation to avoid unnecessary future calls\r\n                    viewModel.getCategoriesLive().removeObserver(this);\r\n                } else if (map != null) {\r\n                    Log.d(TAG, \"onCategoryAdded Observer: Category not yet present. Waiting...\");\r\n                }\r\n            }\r\n        };\r\n\r\n        // Attach the observer. The viewModel.addCategory() call should soon trigger the update.\r\n        viewModel.getCategoriesLive().observe(getViewLifecycleOwner(), oneTimeObserver);\r\n        // Also call fetch to ensure we don't miss the initial value or a quick update.\r\n        viewModel.fetchLatestCategoryMap();\r\n    }\r\n\r\n\r\n    // \uD83D\uDD39 Helper: Refresh category list when focused\r\n    public void refreshCategories(ArrayAdapter<String> adapter,\r\n                                  List<String> categoriesList,\r\n                                  Map<String, Integer> categoryNameToIdMap,\r\n                                  AutoCompleteTextView actCategory) {\r\n\r\n        Log.d(TAG, \"refreshCategories: Triggering category fetch from ViewModel.\");\r\n\r\n        // 1. Force the ViewModel to fetch/reload the latest categories from its source (e.g., database)\r\n        viewModel.fetchLatestCategoryMap();\r\n\r\n        // 2. Observer to receive the *single* update after the fetch is complete.\r\n        Observer<Map<Integer, String>> categoryObserver = new Observer<Map<Integer, String>>() {\r\n            @Override\r\n            public void onChanged(Map<Integer, String> map) {\r\n                Log.d(TAG, \"refreshCategories: LiveData onChanged triggered.\");\r\n\r\n                if (map == null) {\r\n                    Log.w(TAG, \"refreshCategories: Category map is null. Removing observer.\");\r\n                    viewModel.getCategoriesLive().removeObserver(this);\r\n                    return;\r\n                }\r\n\r\n                // --- Update the local lists and map ---\r\n                categoriesList.clear();\r\n                categoryNameToIdMap.clear();\r\n\r\n                // Add the placeholder\r\n                categoriesList.add(\"Add New Category\");\r\n\r\n                // Populate with fresh data\r\n                for (Map.Entry<Integer, String> entry : map.entrySet()) {\r\n                    categoriesList.add(entry.getValue());\r\n                    categoryNameToIdMap.put(entry.getValue(), entry.getKey());\r\n                }\r\n                Log.d(TAG, \"refreshCategories: Populated with \" + map.size() + \" categories. Total list size: \" + categoriesList.size());\r\n\r\n                // --- Notify and show the dropdown ---\r\n                adapter.notifyDataSetChanged();\r\n\r\n                if (actCategory.getVisibility() == View.VISIBLE) {\r\n                    actCategory.post(actCategory::showDropDown);\r\n                }\r\n\r\n                // CRUCIAL: Remove the observer after the update to prevent multiple observations\r\n                viewModel.getCategoriesLive().removeObserver(this);\r\n                Log.d(TAG, \"refreshCategories: Observer removed successfully.\");\r\n            }\r\n        };\r\n\r\n        // Attach the observer\r\n        viewModel.getCategoriesLive().observe(getViewLifecycleOwner(), categoryObserver);\r\n        Log.d(TAG, \"refreshCategories: New observer attached.\");\r\n    }\r\n\r\n    private void showFilterMenu(String type) {\r\n        Log.d(TAG, \"showFilterMenu: Showing filter menu for type: \" + type);\r\n        androidx.appcompat.widget.PopupMenu popup = new androidx.appcompat.widget.PopupMenu(getContext(),\r\n                type.equals(\"Income\") ? binding.buttonFilterIncome : binding.buttonFilterExpenses);\r\n        popup.getMenu().add(\"Sort by Date (Newest)\");\r\n        popup.getMenu().add(\"Sort by Date (Oldest)\");\r\n        popup.getMenu().add(\"Sort by Amount (High ‚Üí Low)\");\r\n        popup.getMenu().add(\"Sort by Amount (Low ‚Üí High)\");\r\n        popup.getMenu().add(\"Filter by Category\");\r\n\r\n        popup.setOnMenuItemClickListener(item -> {\r\n            TextView filterTextView = type.equals(\"Income\") ? binding.textFilterIncome : binding.textFilterExpenses;\r\n            String selectedTitle = item.getTitle().toString();\r\n            Log.d(TAG, \"Filter menu item selected: \" + selectedTitle + \" for \" + type);\r\n\r\n            switch (selectedTitle) {\r\n                case \"Sort by Date (Newest)\":\r\n                    viewModel.sortTransactions(type, \"date_desc\");\r\n                    filterTextView.setText(\"Date ‚Üì\");\r\n                    break;\r\n                case \"Sort by Date (Oldest)\":\r\n                    viewModel.sortTransactions(type, \"date_asc\");\r\n                    filterTextView.setText(\"Date ‚Üë\");\r\n                    break;\r\n                case \"Sort by Amount (High ‚Üí Low)\":\r\n                    viewModel.sortTransactions(type, \"amount_desc\");\r\n                    filterTextView.setText(\"Amount ‚Üì\");\r\n                    break;\r\n                case \"Sort by Amount (Low ‚Üí High)\":\r\n                    viewModel.sortTransactions(type, \"amount_asc\");\r\n                    filterTextView.setText(\"Amount ‚Üë\");\r\n                    break;\r\n                case \"Filter by Category\":\r\n                    showCategoryFilterDialog(type);\r\n                    break;\r\n            }\r\n            return true;\r\n        });\r\n        popup.show();\r\n    }\r\n\r\n    private void showCategoryFilterDialog(String type) {\r\n        Log.d(TAG, \"showCategoryFilterDialog: Preparing category filter for type: \" + type);\r\n        Map<Integer, String> categoryMap = viewModel.getCategoryMap();\r\n        if (categoryMap == null || categoryMap.isEmpty()) {\r\n            showCustomToast(\"No categories available to filter!\");\r\n            Log.w(TAG, \"showCategoryFilterDialog: No categories found.\");\r\n            return;\r\n        }\r\n\r\n        List<String> options = new ArrayList<>();\r\n        options.add(\"Show All\");\r\n        List<Integer> categoryIdsInOrder = new ArrayList<>();\r\n\r\n        for (Map.Entry<Integer, String> entry : categoryMap.entrySet()) {\r\n            options.add(entry.getValue());\r\n            categoryIdsInOrder.add(entry.getKey());\r\n        }\r\n        Log.d(TAG, \"showCategoryFilterDialog: Filter options count: \" + options.size());\r\n\r\n        TextView filterTextView = type.equals(\"Income\") ? binding.textFilterIncome : binding.textFilterExpenses;\r\n\r\n        Runnable onNoResultsAction = () -> {\r\n            showCustomToast(\"No transactions found for this category.\");\r\n            Log.i(TAG, \"showCategoryFilterDialog: No results found toast shown.\");\r\n        };\r\n\r\n        new AlertDialog.Builder(getContext())\r\n                .setTitle(\"Choose Category\")\r\n                .setItems(options.toArray(new String[0]), (d, which) -> {\r\n                    String selectedName = options.get(which);\r\n                    Log.d(TAG, \"Category Filter Dialog selected index: \" + which + \", Name: \" + selectedName);\r\n\r\n                    if (which == 0) {\r\n                        viewModel.filterByCategory(type, null,\r\n                                () -> filterTextView.setText(\"Filter\"),\r\n                                null);\r\n                        Log.i(TAG, \"Category Filter: Showing All transactions for \" + type);\r\n                    } else {\r\n                        int selectedCategoryId = categoryIdsInOrder.get(which - 1);\r\n\r\n                        viewModel.filterByCategory(type, selectedCategoryId,\r\n                                () -> filterTextView.setText(selectedName),\r\n                                onNoResultsAction);\r\n                        Log.i(TAG, \"Category Filter: Filtering by ID \" + selectedCategoryId + \" (\" + selectedName + \") for \" + type);\r\n                    }\r\n                }).show();\r\n    }\r\n\r\n    private void updateTransactionVisibility() {\r\n        List<Transaction> incomeList = viewModel.getIncomeTransactions().getValue();\r\n        List<Transaction> expenseList = viewModel.getExpenseTransactions().getValue();\r\n\r\n        boolean hasIncome = incomeList != null && !incomeList.isEmpty();\r\n        boolean hasExpense = expenseList != null && !expenseList.isEmpty();\r\n        boolean empty = !hasIncome && !hasExpense;\r\n\r\n        Log.d(TAG, \"updateTransactionVisibility: Income? \" + hasIncome + \", Expense? \" + hasExpense + \", Empty? \" + empty);\r\n\r\n        binding.textIncomeLabel.setVisibility(hasIncome ? View.VISIBLE : View.GONE);\r\n        binding.recyclerIncome.setVisibility(hasIncome ? View.VISIBLE : View.GONE);\r\n        binding.buttonFilterIncome.setVisibility(hasIncome ? View.VISIBLE : View.GONE);\r\n\r\n        binding.textExpensesLabel.setVisibility(hasExpense ? View.VISIBLE : View.GONE);\r\n        binding.recyclerExpenses.setVisibility(hasExpense ? View.VISIBLE : View.GONE);\r\n        binding.buttonFilterExpenses.setVisibility(hasExpense ? View.VISIBLE : View.GONE);\r\n\r\n        binding.imageNoTransactions.setVisibility(empty ? View.VISIBLE : View.GONE);\r\n        binding.textNoTransactions.setVisibility(empty ? View.VISIBLE : View.GONE);\r\n    }\r\n\r\n    private void showCustomToast(String message) {\r\n        Log.d(TAG, \"showCustomToast: Displaying message: \" + message);\r\n        LayoutInflater inflater = getLayoutInflater();\r\n        View layout = inflater.inflate(R.layout.custom_message, null);\r\n\r\n        TextView toastMessage = layout.findViewById(R.id.toast_message);\r\n        ImageView close = layout.findViewById(R.id.toast_close);\r\n        ProgressBar progressBar = layout.findViewById(R.id.toast_progress);\r\n\r\n        toastMessage.setText(message);\r\n        progressBar.setProgress(100);\r\n\r\n        AlertDialog dialog = new AlertDialog.Builder(getContext()).setView(layout).create();\r\n        close.setOnClickListener(v -> {\r\n            Log.d(TAG, \"Custom Toast closed by user.\");\r\n            dialog.dismiss();\r\n        });\r\n\r\n        if (dialog.getWindow() != null) {\r\n            dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n            dialog.getWindow().setDimAmount(0f);\r\n\r\n            WindowManager.LayoutParams params = dialog.getWindow().getAttributes();\r\n            params.width = WindowManager.LayoutParams.MATCH_PARENT;\r\n            params.height = WindowManager.LayoutParams.WRAP_CONTENT;\r\n            params.gravity = android.view.Gravity.TOP;\r\n            params.y = 50;\r\n            dialog.getWindow().setAttributes(params);\r\n        }\r\n\r\n        dialog.show();\r\n\r\n        // \uD83D\uDD39 Countdown timer for auto-dismiss with progress bar\r\n        new CountDownTimer(3000, 50) {\r\n            public void onTick(long millisUntilFinished) {\r\n                int progress = (int) Math.max(0, Math.round((millisUntilFinished / 3000.0) * 100));\r\n                progressBar.setProgress(progress);\r\n            }\r\n\r\n            public void onFinish() {\r\n                if (dialog.isShowing()) {\r\n                    Log.d(TAG, \"Custom Toast auto-dismissed.\");\r\n                    dialog.dismiss();\r\n                }\r\n            }\r\n        }.start();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        Log.d(TAG, \"onDestroyView: Binding cleared.\");\r\n        binding = null;\r\n    }\r\n\r\n    private void showCustomMessage(String title, String message) {\r\n        // Inflate the custom layout\r\n        View layout = LayoutInflater.from(requireContext()).inflate(R.layout.custom_message, null);\r\n\r\n        ImageView icon = layout.findViewById(R.id.toast_icon);\r\n        TextView infoLabel = layout.findViewById(R.id.info_label);\r\n        TextView toastMessage = layout.findViewById(R.id.toast_message);\r\n        ImageView closeBtn = layout.findViewById(R.id.toast_close);\r\n        ProgressBar progressBar = layout.findViewById(R.id.toast_progress);\r\n\r\n        infoLabel.setText(title);\r\n        toastMessage.setText(message);\r\n        progressBar.setProgress(100); // Can be animated if needed\r\n\r\n        // Optional: Close button\r\n        closeBtn.setOnClickListener(v -> {\r\n            if (layout.getParent() instanceof android.view.ViewGroup) {\r\n                ((ViewGroup) layout.getParent()).removeView(layout);\r\n            }\r\n        });\r\n\r\n        // Create and show toast\r\n        Toast toast = new Toast(requireContext());\r\n        toast.setDuration(Toast.LENGTH_LONG);\r\n        toast.setView(layout);\r\n        toast.show();\r\n    }\r\n\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/finix/ui/transactions/TransactionsFragment.java b/app/src/main/java/com/example/finix/ui/transactions/TransactionsFragment.java
---- a/app/src/main/java/com/example/finix/ui/transactions/TransactionsFragment.java	(revision aeff7419715d5d540dc246f922fac8ddd8b6be06)
-+++ b/app/src/main/java/com/example/finix/ui/transactions/TransactionsFragment.java	(date 1762073630476)
-@@ -10,7 +10,7 @@
- import android.os.Bundle;
- import android.os.CountDownTimer;
- import android.text.InputFilter;
--import android.util.Log; // <-- DEBUGGING: Import Log class
-+import android.util.Log;
- import android.view.LayoutInflater;
- import android.view.View;
- import android.view.ViewGroup;
-@@ -19,7 +19,7 @@
- import android.widget.*;
- import androidx.annotation.NonNull;
- import androidx.fragment.app.Fragment;
--import androidx.lifecycle.Observer; // Import for explicit observer
-+import androidx.lifecycle.Observer;
- import androidx.lifecycle.ViewModelProvider;
- import androidx.recyclerview.widget.LinearLayoutManager;
- import androidx.recyclerview.widget.RecyclerView;
-@@ -118,7 +118,9 @@
-         viewModel.getMessageEvent().observe(getViewLifecycleOwner(), message -> {
-             if (message != null) {
-                 Log.i(TAG, "MessageEvent received: " + message);
--                showCustomToast(message);
-+                // ‚ö†Ô∏è CLEANUP: Messages from ViewModel might still have prefixes, so let's strip them here
-+                String cleanedMessage = message.replace("Information: ", "").replace("Error: ", "");
-+                showCustomToast(cleanedMessage);
-             }
-         });
- 
-@@ -339,6 +341,9 @@
-             // 1. Initiate the delete operation
-             viewModel.deleteTransaction(t);
- 
-+            // üÜï UPDATED: Show custom toast immediately after initiating the delete
-+            showCustomToast("Transaction deleted successfully!");
-+
-             // 2. üèÜ CRITICAL FIX: Reload the list (with filter) after deletion
-             // Use a short delay to ensure the database operation completes before we refresh.
-             new CountDownTimer(100, 100) {
-@@ -390,8 +395,8 @@
-         List<String> categoriesList = new ArrayList<>();
-         Map<String, Integer> categoryNameToIdMap = new HashMap<>();
- 
--        // Ensure "Add New Category" is the first entry
--        categoriesList.add("Add New Category");
-+        // 1. ‚úÖ FIXED: Ensure "+ Add New Category" (with space) is the first entry
-+        categoriesList.add("+ Add New Category");
- 
-         // Initial pre-population of categories from ViewModel's current state
-         Map<Integer, String> currentCategories = viewModel.getCategoryMap();
-@@ -433,11 +438,12 @@
-         actCategory.setOnItemClickListener((parent, view, position, id) -> {
-             String selected = adapter.getItem(position);
-             Log.d(TAG, "Dialog: Category selected: " + selected);
--            if ("Add New Category".equals(selected)) {
-+            // 2. ‚úÖ FIXED: Match the new string format (with space)
-+            if ("+ Add New Category".equals(selected)) {
-                 llAddCategory.setVisibility(View.VISIBLE);
-                 actCategory.setVisibility(View.GONE);
-                 etNewCategory.requestFocus();
--                Log.d(TAG, "Dialog: 'Add New Category' selected. Showing input field.");
-+                Log.d(TAG, "Dialog: '+ Add New Category' selected. Showing input field.");
-             }
-         });
- 
-@@ -449,7 +455,8 @@
- 
-                 // 1. Add category (ASYNC WRITE to DB, triggers LiveData update)
-                 viewModel.addCategory(newCat);
--                showCustomMessage("Information", "New Category Added ");
-+                // ‚ö†Ô∏è UPDATED: Removed "Information: " prefix
-+                showCustomToast("New Category Added");
- 
-                 // 2. CRITICAL FIX: Wait for LiveData confirmation and perform UI switch/text set
-                 // This ensures the local lists/map are updated before setting the text.
-@@ -457,7 +464,8 @@
-                         actCategory, llAddCategory, etNewCategory);
- 
-             } else {
--                showCustomMessage("Error", "Category Can not Be Empty ");
-+                // ‚ö†Ô∏è UPDATED: Removed "Error: " prefix
-+                showCustomToast("Category Can not Be Empty");
-                 Log.w(TAG, "Dialog: Attempted to save empty category.");
-             }
-         });
-@@ -549,22 +557,27 @@
- 
-             // üî¥ Validation Checks
-             if (amountText.isEmpty() || catName.isEmpty() || dateText.isEmpty() || desc.isEmpty()) {
--                showCustomMessage("Error", "Fill All Fields");
-+                // ‚ö†Ô∏è UPDATED: Removed "Error: " prefix
-+                showCustomToast("Fill All Fields");
-                 Log.w(TAG, "Validation Failed: Empty fields detected.");
-                 return;
-             }
- 
-             if (checkedTypeId == -1) {
--                showCustomMessage("Error", "Please select transaction type (Income or Expense)!\"");
-+                // ‚ö†Ô∏è UPDATED: Removed "Error: " prefix
-+                showCustomToast("Please select transaction type (Income or Expense)!\"");
-                 Log.w(TAG, "Validation Failed: No transaction type selected.");
-                 return;
-             }
- 
-             if (!categoryNameToIdMap.containsKey(catName)) {
--                if ("Add New Category".equals(catName)) {
--                    showCustomMessage("Error", "Please select a valid category or complete adding a new one! ");
-+                // 3. ‚úÖ FIXED: Match the new string format (with space)
-+                if ("+ Add New Category".equals(catName)) {
-+                    // ‚ö†Ô∏è UPDATED: Removed "Error: " prefix
-+                    showCustomToast("Please select a valid category or complete adding a new one! ");
-                 } else {
--                    showCustomMessage("Error", "Invalid category selected! Ensure it's from the list.");
-+                    // ‚ö†Ô∏è UPDATED: Removed "Error: " prefix
-+                    showCustomToast("Invalid category selected! Ensure it's from the list.");
-                 }
-                 Log.w(TAG, "Validation Failed: Invalid category name: " + catName);
-                 return;
-@@ -589,7 +602,6 @@
- 
-                     if (noChange) {
-                         showCustomToast("No changes detected!");
--                        dialog.dismiss();
-                         Log.i(TAG, "Edit transaction: No changes detected. Dismissing dialog.");
-                         return;
-                     }
-@@ -602,7 +614,8 @@
-                     transactionToEdit.setType(type);
- 
-                     viewModel.updateTransaction(transactionToEdit);
--                    showCustomMessage("Information", "Transaction updated successfully!");
-+                    // ‚ö†Ô∏è UPDATED: Removed "Information: " prefix
-+                    showCustomToast("Transaction updated successfully!");
-                     Log.i(TAG, "Edit transaction: Update initiated for ID: " + transactionToEdit.getId());
- 
-                     // üèÜ CRITICAL FIX: Re-apply filter after update
-@@ -619,14 +632,16 @@
-                     // NOTE: The ViewModel's saveTransaction MUST call the onSuccess Runnable
-                     // once the transaction is successfully written to the database.
-                     viewModel.saveTransaction(amount, type, categoryId, dateMillis, desc, onSuccess);
--                    showCustomMessage("Information", "New transaction added!");
-+                    // ‚ö†Ô∏è UPDATED: Removed "Information: " prefix
-+                    showCustomToast("New transaction added!");
-                     Log.i(TAG, "New transaction: Save initiated.");
-                     return; // Return here as onSuccess will handle dialog dismissal
-                 }
- 
-                 dialog.dismiss();
-             } catch (Exception e) {
--                showCustomMessage("Error", "Invalid amount or date format! ");
-+                // The original code had a strange message here, replacing it with a generic failure
-+                showCustomToast("Failed to save transaction: " + e.getMessage());
-                 Log.e(TAG, "Save Failed: Parsing error (Amount/Date).", e);
-             }
-         });
-@@ -805,7 +820,8 @@
-         TextView filterTextView = type.equals("Income") ? binding.textFilterIncome : binding.textFilterExpenses;
- 
-         Runnable onNoResultsAction = () -> {
--            showCustomToast("No transactions found for this category.");
-+            // ‚ö†Ô∏è UPDATED: Removed "Information: " prefix
-+            showCustomToast("No transactions found for the selected category!");
-             Log.i(TAG, "showCategoryFilterDialog: No results found toast shown.");
-         };
- 
-@@ -853,52 +869,51 @@
-         binding.textNoTransactions.setVisibility(empty ? View.VISIBLE : View.GONE);
-     }
- 
--    private void showCustomToast(String message) {
--        Log.d(TAG, "showCustomToast: Displaying message: " + message);
--        LayoutInflater inflater = getLayoutInflater();
--        View layout = inflater.inflate(R.layout.custom_message, null);
-+    private void showCustomToast(String message) { // Method to show custom toast dialog
-+        LayoutInflater inflater = getLayoutInflater(); // Get inflater to load custom layout
-+        View layout = inflater.inflate(R.layout.custom_message, null); // Inflate the custom toast layout
-+
-+        TextView text = layout.findViewById(R.id.toast_message); // Get TextView for message
-+        ImageView close = layout.findViewById(R.id.toast_close); // Get close button ImageView
-+        ProgressBar progressBar = layout.findViewById(R.id.toast_progress); // Get ProgressBar
- 
--        TextView toastMessage = layout.findViewById(R.id.toast_message);
--        ImageView close = layout.findViewById(R.id.toast_close);
--        ProgressBar progressBar = layout.findViewById(R.id.toast_progress);
-+        text.setText(message); // Set the toast message text
-+        progressBar.setProgress(100); // Initialize progress bar to full
- 
--        toastMessage.setText(message);
--        progressBar.setProgress(100);
-+        androidx.appcompat.app.AlertDialog dialog = new androidx.appcompat.app.AlertDialog.Builder(requireContext()) // Use requireContext() here
-+                .setView(layout) // Set custom layout
-+                .create(); // Create dialog instance
- 
--        AlertDialog dialog = new AlertDialog.Builder(getContext()).setView(layout).create();
--        close.setOnClickListener(v -> {
--            Log.d(TAG, "Custom Toast closed by user.");
--            dialog.dismiss();
--        });
-+        close.setOnClickListener(v -> dialog.dismiss()); // Close dialog on button click
- 
--        if (dialog.getWindow() != null) {
--            dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));
--            dialog.getWindow().setDimAmount(0f);
-+        if (dialog.getWindow() != null) { // Check if window exists
-+            dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT)); // Make background transparent
-+            dialog.getWindow().setDimAmount(0f); // Remove dim behind dialog
- 
--            WindowManager.LayoutParams params = dialog.getWindow().getAttributes();
--            params.width = WindowManager.LayoutParams.MATCH_PARENT;
--            params.height = WindowManager.LayoutParams.WRAP_CONTENT;
--            params.gravity = android.view.Gravity.TOP;
-+            WindowManager.LayoutParams params = dialog.getWindow().getAttributes(); // Get window attributes
-+            params.width = WindowManager.LayoutParams.MATCH_PARENT; // Set width to match parent
-+            params.height = WindowManager.LayoutParams.WRAP_CONTENT; // Set height to wrap content
-+
-+            // üÜï UPDATED: Set gravity to BOTTOM
-+            params.gravity = android.view.Gravity.BOTTOM; // Position at bottom
-+
-+            // üÜï UPDATED: Set offset from bottom in pixels (use the same offset for consistency)
-             params.y = 50;
--            dialog.getWindow().setAttributes(params);
-+
-+            dialog.getWindow().setAttributes(params); // Apply attributes
-         }
- 
--        dialog.show();
-+        dialog.show(); // Show the dialog
- 
--        // üîπ Countdown timer for auto-dismiss with progress bar
--        new CountDownTimer(3000, 50) {
--            public void onTick(long millisUntilFinished) {
--                int progress = (int) Math.max(0, Math.round((millisUntilFinished / 3000.0) * 100));
--                progressBar.setProgress(progress);
-+        new CountDownTimer(3000, 50) { // Timer for auto-dismiss: 3s, tick every 50ms
-+            public void onTick(long millisUntilFinished) { // Called on every tick
-+                int progress = (int) ((millisUntilFinished / 3000.0) * 100); // Calculate progress
-+                progressBar.setProgress(progress); // Update progress bar
-             }
--
--            public void onFinish() {
--                if (dialog.isShowing()) {
--                    Log.d(TAG, "Custom Toast auto-dismissed.");
--                    dialog.dismiss();
--                }
-+            public void onFinish() { // Called when timer finishes
-+                if (dialog.isShowing()) dialog.dismiss(); // Dismiss dialog
-             }
--        }.start();
-+        }.start(); // Start timer
-     }
- 
-     @Override
-@@ -908,32 +923,4 @@
-         binding = null;
-     }
- 
--    private void showCustomMessage(String title, String message) {
--        // Inflate the custom layout
--        View layout = LayoutInflater.from(requireContext()).inflate(R.layout.custom_message, null);
--
--        ImageView icon = layout.findViewById(R.id.toast_icon);
--        TextView infoLabel = layout.findViewById(R.id.info_label);
--        TextView toastMessage = layout.findViewById(R.id.toast_message);
--        ImageView closeBtn = layout.findViewById(R.id.toast_close);
--        ProgressBar progressBar = layout.findViewById(R.id.toast_progress);
--
--        infoLabel.setText(title);
--        toastMessage.setText(message);
--        progressBar.setProgress(100); // Can be animated if needed
--
--        // Optional: Close button
--        closeBtn.setOnClickListener(v -> {
--            if (layout.getParent() instanceof android.view.ViewGroup) {
--                ((ViewGroup) layout.getParent()).removeView(layout);
--            }
--        });
--
--        // Create and show toast
--        Toast toast = new Toast(requireContext());
--        toast.setDuration(Toast.LENGTH_LONG);
--        toast.setView(layout);
--        toast.show();
--    }
--
- }
-\ No newline at end of file
-Index: app/src/main/res/layout/item_goal.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:padding=\"8dp\"\r\n    android:background=\"@drawable/transaction_item_bg\">\r\n\r\n    <!-- Goal Name -->\r\n    <TextView\r\n        android:id=\"@+id/tvGoalName\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Goal name\"\r\n        android:textStyle=\"bold\"\r\n        android:textSize=\"14sp\"\r\n        android:textColor=\"@android:color/white\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <!-- Info icon -->\r\n    <ImageButton\r\n        android:id=\"@+id/btnInfo\"\r\n        android:layout_width=\"40dp\"\r\n        android:layout_height=\"40dp\"\r\n        android:background=\"?attr/selectableItemBackgroundBorderless\"\r\n        android:contentDescription=\"Info\"\r\n        android:padding=\"1dp\"\r\n        android:scaleType=\"centerCrop\"\r\n        android:src=\"@drawable/ic_information9\"\r\n        app:tint=\"@color/white\"\r\n        app:layout_constraintTop_toTopOf=\"@id/tvGoalName\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\" />\r\n\r\n    <!-- Amount (moved to top-right) -->\r\n\r\n    <!-- Category -->\r\n    <TextView\r\n        android:id=\"@+id/tvAmount\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginEnd=\"70dp\"\r\n        android:text=\"Rs. 0.00\"\r\n        android:textColor=\"@android:color/white\"\r\n        android:textSize=\"13sp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintEnd_toStartOf=\"@id/btnInfo\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n\r\n    <TextView\r\n        android:id=\"@+id/tvCategory\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Category name\"\r\n        android:textSize=\"11sp\"\r\n        android:textColor=\"#B3FFFFFF\"\r\n        app:layout_constraintStart_toStartOf=\"@id/tvGoalName\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tvGoalName\"\r\n        app:layout_constraintEnd_toStartOf=\"@id/btnInfo\" />\r\n\r\n    <!-- Date -->\r\n    <TextView\r\n        android:id=\"@+id/tvDate\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"01 Jan 2026\"\r\n        android:textSize=\"11sp\"\r\n        android:textColor=\"#B3FFFFFF\"\r\n        android:layout_marginTop=\"2dp\"\r\n        app:layout_constraintStart_toStartOf=\"@id/tvCategory\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tvCategory\" />\r\n\r\n    <!-- Edit button -->\r\n    <ImageButton\r\n        android:id=\"@+id/btnEditGoal\"\r\n        android:layout_width=\"30dp\"\r\n        android:layout_height=\"30dp\"\r\n        android:background=\"@drawable/button_border_ash\"\r\n        android:contentDescription=\"Edit Goal\"\r\n        android:padding=\"6dp\"\r\n        android:src=\"@drawable/ic_edit\"\r\n        app:tint=\"@color/white\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tvDate\"\r\n        app:layout_constraintEnd_toStartOf=\"@id/btnDeleteGoal\"\r\n        android:layout_marginTop=\"4dp\"\r\n        android:layout_marginEnd=\"4dp\" />\r\n\r\n    <!-- Delete button -->\r\n    <ImageButton\r\n        android:id=\"@+id/btnDeleteGoal\"\r\n        android:layout_width=\"30dp\"\r\n        android:layout_height=\"30dp\"\r\n        android:background=\"@drawable/button_border_black\"\r\n        android:contentDescription=\"Delete Goal\"\r\n        android:padding=\"6dp\"\r\n        android:src=\"@drawable/ic_delete\"\r\n        app:tint=\"#000000\"\r\n        app:layout_constraintTop_toTopOf=\"@id/btnEditGoal\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/item_goal.xml b/app/src/main/res/layout/item_goal.xml
---- a/app/src/main/res/layout/item_goal.xml	(revision aeff7419715d5d540dc246f922fac8ddd8b6be06)
-+++ b/app/src/main/res/layout/item_goal.xml	(date 1762064321671)
-@@ -1,103 +1,106 @@
- <?xml version="1.0" encoding="utf-8"?>
--<androidx.constraintlayout.widget.ConstraintLayout
-+<com.google.android.material.card.MaterialCardView
-     xmlns:android="http://schemas.android.com/apk/res/android"
-     xmlns:app="http://schemas.android.com/apk/res-auto"
-     android:layout_width="match_parent"
-     android:layout_height="wrap_content"
--    android:padding="8dp"
--    android:background="@drawable/transaction_item_bg">
-+    android:layout_marginVertical="10dp"
-+    android:layout_marginHorizontal="8dp"
-+    app:cardCornerRadius="16dp"
-+    app:cardElevation="10dp"
-+    app:strokeColor="@color/gray"
-+    app:strokeWidth="1dp">
- 
--    <!-- Goal Name -->
--    <TextView
--        android:id="@+id/tvGoalName"
--        android:layout_width="wrap_content"
--        android:layout_height="wrap_content"
--        android:text="Goal name"
--        android:textStyle="bold"
--        android:textSize="14sp"
--        android:textColor="@android:color/white"
--        app:layout_constraintStart_toStartOf="parent"
--        app:layout_constraintTop_toTopOf="parent" />
-+    <androidx.constraintlayout.widget.ConstraintLayout
-+        android:layout_width="match_parent"
-+        android:layout_height="wrap_content"
-+        android:padding="14dp"
-+        android:background="@drawable/glassy_teal_popup">
-+
-+        <TextView
-+            android:id="@+id/tvGoalName"
-+            android:layout_width="wrap_content"
-+            android:layout_height="wrap_content"
-+            android:text="Goal name"
-+            android:textStyle="bold"
-+            android:textSize="16sp"
-+            android:textColor="@android:color/white"
-+            app:layout_constraintStart_toStartOf="parent"
-+            app:layout_constraintTop_toTopOf="parent" />
- 
--    <!-- Info icon -->
--    <ImageButton
--        android:id="@+id/btnInfo"
--        android:layout_width="40dp"
--        android:layout_height="40dp"
--        android:background="?attr/selectableItemBackgroundBorderless"
--        android:contentDescription="Info"
--        android:padding="1dp"
--        android:scaleType="centerCrop"
--        android:src="@drawable/ic_information9"
--        app:tint="@color/white"
--        app:layout_constraintTop_toTopOf="@id/tvGoalName"
--        app:layout_constraintEnd_toEndOf="parent" />
-+        <ImageButton
-+            android:id="@+id/btnInfo"
-+            android:layout_width="40dp"
-+            android:layout_height="40dp"
-+            android:background="?attr/selectableItemBackgroundBorderless"
-+            android:contentDescription="Info"
-+            android:padding="1dp"
-+            android:scaleType="centerCrop"
-+            android:src="@drawable/ic_information9"
-+            app:tint="@color/white"
-+            app:layout_constraintTop_toTopOf="@id/tvGoalName"
-+            app:layout_constraintEnd_toEndOf="parent" />
- 
--    <!-- Amount (moved to top-right) -->
--
--    <!-- Category -->
--    <TextView
--        android:id="@+id/tvAmount"
--        android:layout_width="wrap_content"
--        android:layout_height="wrap_content"
--        android:layout_marginEnd="70dp"
--        android:text="Rs. 0.00"
--        android:textColor="@android:color/white"
--        android:textSize="13sp"
--        android:textStyle="bold"
--        app:layout_constraintEnd_toStartOf="@id/btnInfo"
--        app:layout_constraintTop_toTopOf="parent" />
-+        <TextView
-+            android:id="@+id/tvAmount"
-+            android:layout_width="wrap_content"
-+            android:layout_height="wrap_content"
-+            android:layout_marginEnd="15dp"
-+            android:text="Rs. 0.00"
-+            android:textColor="@android:color/white"
-+            android:textSize="16sp"
-+            android:textStyle="bold"
-+            app:layout_constraintEnd_toStartOf="@id/btnInfo"
-+            app:layout_constraintTop_toTopOf="parent" />
- 
--
--    <TextView
--        android:id="@+id/tvCategory"
--        android:layout_width="0dp"
--        android:layout_height="wrap_content"
--        android:text="Category name"
--        android:textSize="11sp"
--        android:textColor="#B3FFFFFF"
--        app:layout_constraintStart_toStartOf="@id/tvGoalName"
--        app:layout_constraintTop_toBottomOf="@id/tvGoalName"
--        app:layout_constraintEnd_toStartOf="@id/btnInfo" />
-+        <TextView
-+            android:id="@+id/tvCategory"
-+            android:layout_width="0dp"
-+            android:layout_height="wrap_content"
-+            android:text="Category name"
-+            android:textSize="14sp"
-+            android:textColor="#B3FFFFFF"
-+            app:layout_constraintStart_toStartOf="@id/tvGoalName"
-+            app:layout_constraintTop_toBottomOf="@id/tvGoalName"
-+            app:layout_constraintEnd_toStartOf="@id/btnInfo" />
- 
--    <!-- Date -->
--    <TextView
--        android:id="@+id/tvDate"
--        android:layout_width="wrap_content"
--        android:layout_height="wrap_content"
--        android:text="01 Jan 2026"
--        android:textSize="11sp"
--        android:textColor="#B3FFFFFF"
--        android:layout_marginTop="2dp"
--        app:layout_constraintStart_toStartOf="@id/tvCategory"
--        app:layout_constraintTop_toBottomOf="@id/tvCategory" />
-+        <TextView
-+            android:id="@+id/tvDate"
-+            android:layout_width="wrap_content"
-+            android:layout_height="wrap_content"
-+            android:text="01 Jan 2026"
-+            android:textSize="14sp"
-+            android:textColor="#B3FFFFFF"
-+            android:layout_marginTop="2dp"
-+            app:layout_constraintStart_toStartOf="@id/tvCategory"
-+            app:layout_constraintTop_toBottomOf="@id/tvCategory" />
- 
--    <!-- Edit button -->
--    <ImageButton
--        android:id="@+id/btnEditGoal"
--        android:layout_width="30dp"
--        android:layout_height="30dp"
--        android:background="@drawable/button_border_ash"
--        android:contentDescription="Edit Goal"
--        android:padding="6dp"
--        android:src="@drawable/ic_edit"
--        app:tint="@color/white"
--        app:layout_constraintTop_toBottomOf="@id/tvDate"
--        app:layout_constraintEnd_toStartOf="@id/btnDeleteGoal"
--        android:layout_marginTop="4dp"
--        android:layout_marginEnd="4dp" />
-+        <ImageButton
-+            android:id="@+id/btnEditGoal"
-+            android:layout_width="36dp"
-+            android:layout_height="36dp"
-+            android:background="@drawable/button_border_ash"
-+            android:contentDescription="Edit Goal"
-+            android:padding="6dp"
-+            android:src="@drawable/ic_edit"
-+            app:tint="@color/white"
-+            app:layout_constraintTop_toBottomOf="@id/tvDate"
-+            app:layout_constraintEnd_toStartOf="@id/btnDeleteGoal"
-+            android:layout_marginTop="4dp"
-+            android:layout_marginEnd="4dp" />
- 
--    <!-- Delete button -->
--    <ImageButton
--        android:id="@+id/btnDeleteGoal"
--        android:layout_width="30dp"
--        android:layout_height="30dp"
--        android:background="@drawable/button_border_black"
--        android:contentDescription="Delete Goal"
--        android:padding="6dp"
--        android:src="@drawable/ic_delete"
--        app:tint="#000000"
--        app:layout_constraintTop_toTopOf="@id/btnEditGoal"
--        app:layout_constraintEnd_toEndOf="parent" />
-+        <ImageButton
-+            android:id="@+id/btnDeleteGoal"
-+            android:layout_width="36dp"
-+            android:layout_height="36dp"
-+            android:background="@drawable/button_border_black"
-+            android:contentDescription="Delete Goal"
-+            android:padding="6dp"
-+            app:tint="#000000"
-+            android:src="@drawable/ic_delete"
-+            app:layout_constraintTop_toTopOf="@id/btnEditGoal"
-+            app:layout_constraintEnd_toEndOf="parent" />
- 
--</androidx.constraintlayout.widget.ConstraintLayout>
-+    </androidx.constraintlayout.widget.ConstraintLayout>
-+
-+</com.google.android.material.card.MaterialCardView>
-\ No newline at end of file
-Index: app/src/main/java/com/example/finix/MainActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.finix;\r\n\r\nimport static androidx.core.content.ContentProviderCompat.requireContext;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.app.DatePickerDialog;\r\nimport android.app.TimePickerDialog;\r\nimport android.content.DialogInterface;\r\nimport android.content.res.ColorStateList;\r\nimport android.graphics.Color;\r\nimport android.graphics.drawable.RippleDrawable;\r\nimport android.os.Bundle;\r\nimport android.text.InputFilter;\r\nimport android.util.TypedValue;\r\nimport android.view.Gravity;\r\nimport android.view.LayoutInflater;\r\nimport android.view.Menu;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.WindowManager;\r\nimport android.widget.*;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\nimport androidx.navigation.ui.AppBarConfiguration;\r\nimport androidx.navigation.ui.NavigationUI;\r\n\r\nimport com.example.finix.data.Budget;\r\nimport com.example.finix.data.Category;\r\nimport com.example.finix.data.CategoryDAO;\r\nimport com.example.finix.data.FinixDatabase;\r\nimport com.example.finix.data.Transaction;\r\nimport com.example.finix.databinding.ActivityMainBinding;\r\nimport com.example.finix.ui.budget.BudgetViewModel;\r\nimport com.example.finix.ui.transactions.TransactionsViewModel;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.*;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private AppBarConfiguration mAppBarConfiguration;\r\n    private ActivityMainBinding binding;\r\n    private TransactionsViewModel viewModel; // for saving transactions globally\r\n    private long startDateMillis = 0;\r\n    private long endDateMillis = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        setSupportActionBar(binding.appBarMain.toolbar);\r\n\r\n        viewModel = new ViewModelProvider(\r\n                this,\r\n                ViewModelProvider.AndroidViewModelFactory.getInstance(getApplication())\r\n        ).get(TransactionsViewModel.class);\r\n\r\n        // Quick FAB menu\r\n        binding.appBarMain.addQuickMenu.setOnClickListener(this::showQuickAddPopup);\r\n\r\n        DrawerLayout drawer = binding.drawerLayout;\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\r\n        mAppBarConfiguration = new AppBarConfiguration.Builder(\r\n                R.id.nav_dashboard, R.id.nav_transactions, R.id.nav_budget,\r\n                R.id.nav_savings, R.id.nav_settings\r\n        ).setOpenableLayout(drawer).build();\r\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\r\n        NavigationUI.setupWithNavController(binding.navView, navController);\r\n    }\r\n\r\n    private void showQuickAddPopup(View anchor) {\r\n        View popupView = getLayoutInflater().inflate(R.layout.layout_quick_add_popup, null);\r\n        final PopupWindow popupWindow = new PopupWindow(\r\n                popupView,\r\n                ViewGroup.LayoutParams.WRAP_CONTENT,\r\n                ViewGroup.LayoutParams.WRAP_CONTENT,\r\n                true\r\n        );\r\n        popupWindow.setBackgroundDrawable(new android.graphics.drawable.ColorDrawable(Color.TRANSPARENT));\r\n\r\n        // --- START: Animation Change ---\r\n        // Use a built-in animation style (android.R.style.Animation_Toast for a quick fade/slide, or define your own)\r\n        popupWindow.setAnimationStyle(android.R.style.Animation_Dialog);\r\n        // --- END: Animation Change ---\r\n\r\n        // --- START: Positioning Logic ---\r\n        int gap = (int) TypedValue.applyDimension(\r\n                TypedValue.COMPLEX_UNIT_DIP,\r\n                12,\r\n                getResources().getDisplayMetrics()\r\n        );\r\n\r\n        int[] location = new int[2];\r\n        anchor.getLocationOnScreen(location);\r\n        int fabX = location[0];\r\n        int fabY = location[1];\r\n\r\n        popupView.measure(View.MeasureSpec.UNSPECIFIED, View.MeasureSpec.UNSPECIFIED);\r\n        int popupWidth = popupView.getMeasuredWidth();\r\n        int popupHeight = popupView.getMeasuredHeight();\r\n\r\n        int xOffset = fabX + anchor.getWidth() - popupWidth;\r\n        int yOffset = fabY + anchor.getHeight() - popupHeight;\r\n\r\n        int leftShift = (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 40, getResources().getDisplayMetrics());\r\n        xOffset -= leftShift;\r\n        xOffset -= gap;\r\n        yOffset -= gap;\r\n        // --- END: Positioning Logic ---\r\n\r\n        popupWindow.showAtLocation(anchor, Gravity.NO_GRAVITY, xOffset, yOffset);\r\n\r\n        popupView.findViewById(R.id.btnAddTransaction).setOnClickListener(v -> {\r\n            popupWindow.dismiss();\r\n            showAddTransactionDialog(null);\r\n        });\r\n\r\n        popupView.findViewById(R.id.btnAddBudget).setOnClickListener(v -> {\r\n            popupWindow.dismiss();\r\n            showAddBudgetDialog();\r\n        });\r\n        popupView.findViewById(R.id.btnAddGoal).setOnClickListener(v -> popupWindow.dismiss());\r\n    }\r\n\r\n    public void showAddTransactionDialog(Transaction transactionToEdit) {\r\n        LayoutInflater inflater = LayoutInflater.from(this);\r\n        View popupView = inflater.inflate(R.layout.add_edit_transaction_popup, null);\r\n\r\n        TextView tvTitle = popupView.findViewById(R.id.popupTitle);\r\n        tvTitle.setText(\"Add Transaction\"); // Only adding, no edit\r\n\r\n        EditText etAmount = popupView.findViewById(R.id.etAmount);\r\n        EditText etDescription = popupView.findViewById(R.id.etDescription);\r\n        Button btnSave = popupView.findViewById(R.id.btnSaveTransaction);\r\n        ImageButton btnPickDateTime = popupView.findViewById(R.id.btnPickDateTime);\r\n        TextView tvDateTime = popupView.findViewById(R.id.tvDateTime);\r\n        RadioGroup rgType = popupView.findViewById(R.id.rgType);\r\n\r\n        AutoCompleteTextView actCategory = popupView.findViewById(R.id.actCategory);\r\n        LinearLayout llAddCategory = popupView.findViewById(R.id.llAddNewCategory);\r\n        EditText etNewCategory = popupView.findViewById(R.id.etNewCategory);\r\n        Button btnSaveCategory = popupView.findViewById(R.id.btnSaveCategory);\r\n        Button btnBackCategory = popupView.findViewById(R.id.btnCancelCategory);\r\n\r\n        // \uD83D\uDFE2 ADD CHARACTER LIMITS HERE\r\n        etAmount.setFilters(new InputFilter[] { new InputFilter.LengthFilter(7) });\r\n        etNewCategory.setFilters(new InputFilter[] { new InputFilter.LengthFilter(14) });\r\n\r\n        // --- Setup category AutoComplete ---\r\n        List<String> categoriesList = new ArrayList<>();\r\n        ArrayAdapter<String> adapter = new ArrayAdapter<>(this, android.R.layout.simple_dropdown_item_1line, categoriesList);\r\n        actCategory.setAdapter(adapter);\r\n        actCategory.setThreshold(0);\r\n\r\n        Map<String, Integer> categoryNameToIdMap = new HashMap<>();\r\n\r\n        // Observe categories from ViewModel\r\n        viewModel.getCategoriesLive().observe(this, idToNameMap -> {\r\n            categoriesList.clear(); // Clear the list for fresh data\r\n            categoryNameToIdMap.clear();\r\n\r\n            // \uD83C\uDD95 NEW: Add \"Add New Category\" first\r\n            categoriesList.add(\"Add New Category\");\r\n\r\n            if (idToNameMap != null) {\r\n                for (Map.Entry<Integer, String> entry : idToNameMap.entrySet()) {\r\n                    String name = entry.getValue();\r\n                    Integer id = entry.getKey();\r\n                    // Ensure we don't accidentally add it twice if it existed as a real category name\r\n                    if (!\"Add New Category\".equals(name)) {\r\n                        categoriesList.add(name);\r\n                        categoryNameToIdMap.put(name, id);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // ‚ùå REMOVED: The previous check at the end is no longer needed.\r\n            // if (!categoriesList.contains(\"Add New Category\")) categoriesList.add(\"Add New Category\");\r\n\r\n            adapter.notifyDataSetChanged();\r\n        });\r\n\r\n        actCategory.setOnClickListener(v -> { if (!actCategory.isPopupShowing()) actCategory.showDropDown(); });\r\n        actCategory.setOnItemClickListener((parent, v, pos, id) -> {\r\n            if (\"Add New Category\".equals(adapter.getItem(pos))) {\r\n                llAddCategory.setVisibility(View.VISIBLE);\r\n                actCategory.setVisibility(View.GONE);\r\n            }\r\n        });\r\n\r\n        btnSaveCategory.setOnClickListener(v -> {\r\n            String newCat = etNewCategory.getText().toString().trim();\r\n            if (!newCat.isEmpty()) {\r\n                viewModel.addCategory(newCat);\r\n                showCustomMessage(\"Information\", \"New Category Added \");\r\n\r\n                actCategory.postDelayed(() -> {\r\n                    actCategory.setText(newCat);\r\n                    actCategory.setVisibility(View.VISIBLE);\r\n                    llAddCategory.setVisibility(View.GONE);\r\n                    actCategory.clearFocus(); // ensures fresh reload next focus\r\n                }, 200);\r\n\r\n                etNewCategory.setText(\"\");\r\n            } else {\r\n                showCustomMessage(\"Error\", \"Category Can not be Empty \");\r\n            }\r\n        });\r\n\r\n\r\n        btnBackCategory.setOnClickListener(v -> {\r\n            llAddCategory.setVisibility(View.GONE);\r\n            actCategory.setVisibility(View.VISIBLE);\r\n        });\r\n\r\n        btnPickDateTime.setOnClickListener(v -> openDateTimePicker(tvDateTime));\r\n\r\n        AlertDialog dialog = new AlertDialog.Builder(this).setView(popupView).create();\r\n        if (dialog.getWindow() != null)\r\n            dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\r\n\r\n        btnSave.setOnClickListener(v -> {\r\n            String amountText = etAmount.getText().toString().trim();\r\n            String desc = etDescription.getText().toString().trim(); // Description\r\n            String catName = actCategory.getText().toString().trim(); // Category NAME\r\n            String dateText = tvDateTime.getText().toString().trim();\r\n\r\n            // Get the ID of the checked radio button. Returns -1 if none is checked.\r\n            int checkedTypeId = rgType.getCheckedRadioButtonId();\r\n            String type = checkedTypeId == R.id.rbIncome ? \"Income\" : \"Expense\"; // Type only determined if one is selected\r\n\r\n            // 1. CHECK REQUIRED FIELDS (Amount, Category Name, Date Text, Description)\r\n            if (amountText.isEmpty() || catName.isEmpty() || dateText.isEmpty() || desc.isEmpty()) {\r\n                showCustomMessage(\"Error\", \"Fill All Fields \");\r\n                return;\r\n            }\r\n\r\n            // 2. CHECK TRANSACTION TYPE SELECTION\r\n            if (checkedTypeId == -1) {\r\n                showCustomMessage(\"Error\", \"Please select transaction type (Income or Expense)! \");\r\n                return;\r\n            }\r\n\r\n            // 3. CHECK VALID CATEGORY SELECTION\r\n            if (!categoryNameToIdMap.containsKey(catName)) {\r\n                showCustomMessage(\"Error\", \"Invalid Category Selected \");\r\n                return;\r\n            }\r\n            int categoryId = categoryNameToIdMap.get(catName);\r\n\r\n            try {\r\n                double amount = Double.parseDouble(amountText);\r\n                long dateMillis = new SimpleDateFormat(\"yyyy-MM-dd HH:mm\", Locale.getDefault())\r\n                        .parse(dateText).getTime();\r\n\r\n                // Save new transaction\r\n                viewModel.saveTransaction(amount, type, categoryId, dateMillis, desc, dialog::dismiss);\r\n                showCustomMessage(\"Information\", \"New Transaction Added \");\r\n\r\n                // No need to call dialog.dismiss() again here, as it's passed as a callback\r\n                // to viewModel.saveTransaction and should be executed upon completion/success.\r\n\r\n            } catch (Exception e) {\r\n                showCustomMessage(\"Error\", \"Invalid Amount ot Date! \");\r\n            }\r\n        });\r\n\r\n        dialog.show();\r\n        dialog.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE);\r\n    }\r\n\r\n\r\n    private void openDateTimePicker(TextView tvDateTime) {\r\n        final Calendar calendar = Calendar.getInstance();\r\n        if (!tvDateTime.getText().toString().isEmpty()) {\r\n            try {\r\n                calendar.setTime(new SimpleDateFormat(\"yyyy-MM-dd HH:mm\", Locale.getDefault())\r\n                        .parse(tvDateTime.getText().toString()));\r\n            } catch (Exception ignored) {\r\n            }\r\n        }\r\n\r\n        // --- Define Colors and Ripples ---\r\n        final int colorPositive = Color.parseColor(\"#00BFA5\"); // Green-ish\r\n        final int colorNegative = Color.parseColor(\"#FF5252\"); // Red-ish\r\n        final ColorStateList ripplePositive = ColorStateList.valueOf(Color.parseColor(\"#3300BFA5\"));\r\n        final ColorStateList rippleNegative = ColorStateList.valueOf(Color.parseColor(\"#33FF5252\"));\r\n\r\n        // 1. DatePickerDialog\r\n        DatePickerDialog dp = new DatePickerDialog(this,\r\n                (view, y, m, d) -> {\r\n                    calendar.set(y, m, d);\r\n\r\n                    // 2. TimePickerDialog (Called after date is picked)\r\n                    TimePickerDialog tp = new TimePickerDialog(this,\r\n                            (timeView, h, min) -> {\r\n                                calendar.set(Calendar.HOUR_OF_DAY, h);\r\n                                calendar.set(Calendar.MINUTE, min);\r\n                                tvDateTime.setText(new SimpleDateFormat(\"yyyy-MM-dd HH:mm\", Locale.getDefault())\r\n                                        .format(calendar.getTime()));\r\n                            }, calendar.get(Calendar.HOUR_OF_DAY),\r\n                            calendar.get(Calendar.MINUTE), true);\r\n\r\n                    // Apply customization to TimePickerDialog buttons\r\n                    tp.setOnShowListener(dialogInterface -> {\r\n                        // OK Button (Positive)\r\n                        tp.getButton(DialogInterface.BUTTON_POSITIVE).setTextColor(colorPositive);\r\n                        tp.getButton(DialogInterface.BUTTON_POSITIVE).setBackground(new RippleDrawable(ripplePositive, null, null));\r\n                        // Cancel Button (Negative)\r\n                        tp.getButton(DialogInterface.BUTTON_NEGATIVE).setTextColor(colorNegative);\r\n                        tp.getButton(DialogInterface.BUTTON_NEGATIVE).setBackground(new RippleDrawable(rippleNegative, null, null));\r\n                    });\r\n\r\n                    tp.show();\r\n\r\n                }, calendar.get(Calendar.YEAR), calendar.get(Calendar.MONTH), calendar.get(Calendar.DAY_OF_MONTH));\r\n\r\n        // Apply customization to DatePickerDialog buttons\r\n        dp.setOnShowListener(dialogInterface -> {\r\n            // OK Button (Positive)\r\n            dp.getButton(DialogInterface.BUTTON_POSITIVE).setTextColor(colorPositive);\r\n            dp.getButton(DialogInterface.BUTTON_POSITIVE).setBackground(new RippleDrawable(ripplePositive, null, null));\r\n            // Cancel Button (Negative)\r\n            dp.getButton(DialogInterface.BUTTON_NEGATIVE).setTextColor(colorNegative);\r\n            dp.getButton(DialogInterface.BUTTON_NEGATIVE).setBackground(new RippleDrawable(rippleNegative, null, null));\r\n        });\r\n\r\n        dp.show();\r\n    }\r\n\r\n    private void openDatePicker(TextView tvDate, boolean isStartDate) {\r\n        final Calendar calendar = Calendar.getInstance();\r\n\r\n        DatePickerDialog dp = new DatePickerDialog(this,\r\n                (view, year, month, dayOfMonth) -> {\r\n                    calendar.set(year, month, dayOfMonth);\r\n                    tvDate.setText(new SimpleDateFormat(\"yyyy-MM-dd\", Locale.getDefault()).format(calendar.getTime()));\r\n\r\n                    if (isStartDate) {\r\n                        startDateMillis = calendar.getTimeInMillis();\r\n                    } else {\r\n                        endDateMillis = calendar.getTimeInMillis();\r\n                    }\r\n                },\r\n                calendar.get(Calendar.YEAR), calendar.get(Calendar.MONTH), calendar.get(Calendar.DAY_OF_MONTH)\r\n        );\r\n        dp.show();\r\n    }\r\n\r\n    private void showCustomToast(String message) {\r\n        LayoutInflater inflater = LayoutInflater.from(this);\r\n        View layout = inflater.inflate(R.layout.custom_message, null);\r\n        TextView toastMessage = layout.findViewById(R.id.toast_message);\r\n        ImageView close = layout.findViewById(R.id.toast_close);\r\n        ProgressBar progressBar = layout.findViewById(R.id.toast_progress);\r\n\r\n        toastMessage.setText(message);\r\n        progressBar.setProgress(100);\r\n\r\n        AlertDialog dialog = new AlertDialog.Builder(this).setView(layout).create();\r\n        close.setOnClickListener(v -> dialog.dismiss());\r\n\r\n        if (dialog.getWindow() != null) {\r\n            dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\r\n            dialog.getWindow().setDimAmount(0f);\r\n            WindowManager.LayoutParams params = dialog.getWindow().getAttributes();\r\n            params.width = WindowManager.LayoutParams.MATCH_PARENT;\r\n            params.height = WindowManager.LayoutParams.WRAP_CONTENT;\r\n            params.gravity = Gravity.TOP;\r\n            params.y = 50;\r\n            dialog.getWindow().setAttributes(params);\r\n        }\r\n\r\n        dialog.show();\r\n\r\n        new android.os.CountDownTimer(3000, 50) {\r\n            public void onTick(long millisUntilFinished) {\r\n                int progress = (int) Math.max(0, Math.round((millisUntilFinished / 3000.0) * 100));\r\n                progressBar.setProgress(progress);\r\n            }\r\n\r\n            public void onFinish() {\r\n                if (dialog.isShowing()) dialog.dismiss();\r\n            }\r\n        }.start();\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.main, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\r\n        return NavigationUI.navigateUp(navController, mAppBarConfiguration) || super.onSupportNavigateUp();\r\n    }\r\n\r\n    private void showCustomMessage(String title, String message) {\r\n        // Inflate the custom layout\r\n        View layout = LayoutInflater.from(this).inflate(R.layout.custom_message, null);\r\n\r\n        ImageView icon = layout.findViewById(R.id.toast_icon);\r\n        TextView infoLabel = layout.findViewById(R.id.info_label);\r\n        TextView toastMessage = layout.findViewById(R.id.toast_message);\r\n        ImageView closeBtn = layout.findViewById(R.id.toast_close);\r\n        ProgressBar progressBar = layout.findViewById(R.id.toast_progress);\r\n\r\n        infoLabel.setText(title);\r\n        toastMessage.setText(message);\r\n        progressBar.setProgress(100); // Can be animated if needed\r\n\r\n        // Optional: Close button\r\n        closeBtn.setOnClickListener(v -> {\r\n            if (layout.getParent() instanceof android.view.ViewGroup) {\r\n                ((ViewGroup) layout.getParent()).removeView(layout);\r\n            }\r\n        });\r\n\r\n        // Create and show toast\r\n        Toast toast = new Toast(this);\r\n        toast.setDuration(Toast.LENGTH_LONG);\r\n        toast.setView(layout);\r\n        toast.show();\r\n    }\r\n\r\n    public void showAddBudgetDialog() {\r\n        try{\r\n\r\n            View dialogView = LayoutInflater.from(this).inflate(R.layout.dialog_add_budget, null);\r\n\r\n            AutoCompleteTextView etCategory = dialogView.findViewById(R.id.actCategory);\r\n            EditText etAmount = dialogView.findViewById(R.id.etAmount);\r\n            Button btnSave = dialogView.findViewById(R.id.btnSaveBudget);\r\n\r\n            LinearLayout llAddNewCategory = dialogView.findViewById(R.id.llAddNewCategory);\r\n            EditText etNewCategory = dialogView.findViewById(R.id.etNewCategory);\r\n            Button btnSaveCategory = dialogView.findViewById(R.id.btnSaveCategory);\r\n            Button btnCancelCategory = dialogView.findViewById(R.id.btnCancelCategory);\r\n\r\n            TextView tvStartDate = dialogView.findViewById(R.id.StartDate);\r\n            TextView tvEndDate = dialogView.findViewById(R.id.EndDate);\r\n            ImageButton btnPickDate1 = dialogView.findViewById(R.id.btnPickDate1);\r\n            ImageButton btnPickDate2 = dialogView.findViewById(R.id.btnPickDate2);\r\n\r\n            AlertDialog dialog = new AlertDialog.Builder(this)\r\n                    .setView(dialogView)\r\n                    .create();\r\n\r\n            // --- Load categories ---\r\n            new Thread(() -> {\r\n                try {\r\n                    List<Category> categoryList = FinixDatabase.getDatabase(this).categoryDao().getAllCategories();\r\n                    List<String> categoryNames = new ArrayList<>();\r\n                    for (Category c : categoryList) categoryNames.add(c.getName());\r\n                    categoryNames.add(\"+ Add New Category\");\r\n\r\n                    runOnUiThread(() -> {\r\n                        try {\r\n                            ArrayAdapter<String> adapter = new ArrayAdapter<>(\r\n                                    this,\r\n                                    android.R.layout.simple_dropdown_item_1line,\r\n                                    categoryNames\r\n                            );\r\n                            etCategory.setAdapter(adapter);\r\n\r\n                            etCategory.setOnClickListener(v -> etCategory.showDropDown());\r\n                            etCategory.setOnItemClickListener((parent, view, position, id) -> {\r\n                                String selected = categoryNames.get(position);\r\n                                if (selected.equals(\"+ Add New Category\")) {\r\n                                    etCategory.setVisibility(View.GONE);\r\n                                    llAddNewCategory.setVisibility(View.VISIBLE);\r\n                                } else {\r\n                                    llAddNewCategory.setVisibility(View.GONE);\r\n                                }\r\n                            });\r\n                        } catch (Exception e) {\r\n                            showCustomMessage(\"Error\", \"Failed to load categories: \" + e.getMessage());\r\n                        }\r\n                    });\r\n                } catch (Exception e) {\r\n                    runOnUiThread(() -> showCustomMessage(\"Error\", \"Failed to fetch categories: \" + e.getMessage()));\r\n                }\r\n            }).start();\r\n\r\n\r\n            // --- Date pickers ---\r\n            btnPickDate1.setOnClickListener(v -> openDatePicker(tvStartDate, true));\r\n            btnPickDate2.setOnClickListener(v -> openDatePicker(tvEndDate, false));\r\n\r\n            // --- Save new category ---\r\n            btnSaveCategory.setOnClickListener(v -> {\r\n                String newCat = etNewCategory.getText().toString().trim();\r\n                if (!newCat.isEmpty()) {\r\n                    new Thread(() -> {\r\n                        try {\r\n                            CategoryDAO dao = FinixDatabase.getDatabase(this).categoryDao();\r\n                            dao.insert(new Category(newCat));\r\n                            runOnUiThread(() -> {\r\n                                showCustomMessage(\"Info\", \"Category Added\");\r\n                                llAddNewCategory.setVisibility(View.GONE);\r\n                                etCategory.setVisibility(View.VISIBLE);\r\n                                etCategory.setText(newCat);\r\n                            });\r\n                        } catch (Exception e) {\r\n                            runOnUiThread(() -> showCustomMessage(\"Error\", \"Failed to add category: \" + e.getMessage()));\r\n                        }\r\n                    }).start();\r\n                } else showCustomMessage(\"Error\", \"Category cannot be empty\");\r\n            });\r\n\r\n            btnCancelCategory.setOnClickListener(v -> {\r\n                llAddNewCategory.setVisibility(View.GONE);\r\n                etCategory.setVisibility(View.VISIBLE);\r\n            });\r\n\r\n            // --- Save Budget ---\r\n            btnSave.setOnClickListener(v -> {\r\n                try {\r\n                    String catName = etCategory.getText().toString().trim();\r\n                    String amountText = etAmount.getText().toString().trim();\r\n                    if (catName.isEmpty() || amountText.isEmpty()) {\r\n                        showCustomMessage(\"Error\", \"Fill all fields\");\r\n                        return;\r\n                    }\r\n\r\n                    double amount;\r\n                    try {\r\n                        amount = Double.parseDouble(amountText);\r\n                    } catch (NumberFormatException e) {\r\n                        showCustomMessage(\"Error\", \"Invalid amount entered\");\r\n                        return;\r\n                    }\r\n\r\n                    new Thread(() -> {\r\n                        try {\r\n                            List<Category> allCats = FinixDatabase.getDatabase(this).categoryDao().getAllCategories();\r\n                            int catId = -1;\r\n                            for (Category c : allCats) {\r\n                                if (c.getName().equalsIgnoreCase(catName)) {\r\n                                    catId = c.getId();\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (catId == -1) {\r\n                                runOnUiThread(() -> showCustomMessage(\"Error\", \"Selected category not found\"));\r\n                                return;\r\n                            }\r\n\r\n                            Budget budget = new Budget(catId, amount, startDateMillis, endDateMillis);\r\n                            new BudgetViewModel(getApplication()).insert(budget);\r\n\r\n                            runOnUiThread(() -> {\r\n                                dialog.dismiss();\r\n                                showCustomMessage(\"Info\", \"Budget Added Successfully\");\r\n                            });\r\n                        } catch (Exception e) {\r\n                            runOnUiThread(() -> showCustomMessage(\"Error\", \"Failed to save budget: \" + e.getMessage()));\r\n                        }\r\n                    }).start();\r\n\r\n                } catch (Exception e) {\r\n                    showCustomMessage(\"Error\", \"Unexpected error: \" + e.getMessage());\r\n                }\r\n            });\r\n\r\n            dialog.show();\r\n        } catch (Exception e) {\r\n            showCustomMessage(\"Error\", \"Failed to open budget dialog: \" + e.getMessage());\r\n        }\r\n\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/finix/MainActivity.java b/app/src/main/java/com/example/finix/MainActivity.java
---- a/app/src/main/java/com/example/finix/MainActivity.java	(revision aeff7419715d5d540dc246f922fac8ddd8b6be06)
-+++ b/app/src/main/java/com/example/finix/MainActivity.java	(date 1762075275613)
-@@ -8,8 +8,10 @@
- import android.content.DialogInterface;
- import android.content.res.ColorStateList;
- import android.graphics.Color;
-+import android.graphics.drawable.ColorDrawable;
- import android.graphics.drawable.RippleDrawable;
- import android.os.Bundle;
-+import android.os.CountDownTimer;
- import android.text.InputFilter;
- import android.util.TypedValue;
- import android.view.Gravity;
-@@ -36,6 +38,8 @@
- import com.example.finix.databinding.ActivityMainBinding;
- import com.example.finix.ui.budget.BudgetViewModel;
- import com.example.finix.ui.transactions.TransactionsViewModel;
-+import com.example.finix.data.SavingsGoal;
-+import com.example.finix.ui.savings.SavingsGoalsViewModel;
- 
- import java.text.SimpleDateFormat;
- import java.util.*;
-@@ -124,7 +128,12 @@
-             popupWindow.dismiss();
-             showAddBudgetDialog();
-         });
--        popupView.findViewById(R.id.btnAddGoal).setOnClickListener(v -> popupWindow.dismiss());
-+
-+        // üü¢ MODIFIED: Call the new goal dialog method directly
-+        popupView.findViewById(R.id.btnAddGoal).setOnClickListener(v -> {
-+            popupWindow.dismiss();
-+            showAddGoalDialog();
-+        });
-     }
- 
-     public void showAddTransactionDialog(Transaction transactionToEdit) {
-@@ -165,7 +174,7 @@
-             categoryNameToIdMap.clear();
- 
-             // üÜï NEW: Add "Add New Category" first
--            categoriesList.add("Add New Category");
-+            categoriesList.add("+Add New Category");
- 
-             if (idToNameMap != null) {
-                 for (Map.Entry<Integer, String> entry : idToNameMap.entrySet()) {
-@@ -178,10 +187,6 @@
-                     }
-                 }
-             }
--
--            // ‚ùå REMOVED: The previous check at the end is no longer needed.
--            // if (!categoriesList.contains("Add New Category")) categoriesList.add("Add New Category");
--
-             adapter.notifyDataSetChanged();
-         });
- 
-@@ -197,7 +202,8 @@
-             String newCat = etNewCategory.getText().toString().trim();
-             if (!newCat.isEmpty()) {
-                 viewModel.addCategory(newCat);
--                showCustomMessage("Information", "New Category Added ");
-+                // üí° UPDATED: Removed prefix
-+                showCustomToast("New Category Added");
- 
-                 actCategory.postDelayed(() -> {
-                     actCategory.setText(newCat);
-@@ -208,7 +214,8 @@
- 
-                 etNewCategory.setText("");
-             } else {
--                showCustomMessage("Error", "Category Can not be Empty ");
-+                // üí° UPDATED: Removed prefix
-+                showCustomToast("Category Can not be Empty");
-             }
-         });
- 
-@@ -236,19 +243,22 @@
- 
-             // 1. CHECK REQUIRED FIELDS (Amount, Category Name, Date Text, Description)
-             if (amountText.isEmpty() || catName.isEmpty() || dateText.isEmpty() || desc.isEmpty()) {
--                showCustomMessage("Error", "Fill All Fields ");
-+                // üí° UPDATED: Removed prefix
-+                showCustomToast("Fill All Fields");
-                 return;
-             }
- 
-             // 2. CHECK TRANSACTION TYPE SELECTION
-             if (checkedTypeId == -1) {
--                showCustomMessage("Error", "Please select transaction type (Income or Expense)! ");
-+                // üí° UPDATED: Removed prefix
-+                showCustomToast("Please select transaction type (Income or Expense)!");
-                 return;
-             }
- 
-             // 3. CHECK VALID CATEGORY SELECTION
-             if (!categoryNameToIdMap.containsKey(catName)) {
--                showCustomMessage("Error", "Invalid Category Selected ");
-+                // üí° UPDATED: Removed prefix
-+                showCustomToast("Invalid Category Selected");
-                 return;
-             }
-             int categoryId = categoryNameToIdMap.get(catName);
-@@ -260,13 +270,12 @@
- 
-                 // Save new transaction
-                 viewModel.saveTransaction(amount, type, categoryId, dateMillis, desc, dialog::dismiss);
--                showCustomMessage("Information", "New Transaction Added ");
--
--                // No need to call dialog.dismiss() again here, as it's passed as a callback
--                // to viewModel.saveTransaction and should be executed upon completion/success.
-+                // üí° UPDATED: Removed prefix
-+                showCustomToast("New Transaction Added");
- 
-             } catch (Exception e) {
--                showCustomMessage("Error", "Invalid Amount ot Date! ");
-+                // üí° UPDATED: Removed prefix
-+                showCustomToast("Invalid Amount or Date!");
-             }
-         });
- 
-@@ -333,12 +342,23 @@
-         dp.show();
-     }
- 
-+    // In MainActivity.java
-+
-     private void openDatePicker(TextView tvDate, boolean isStartDate) {
-         final Calendar calendar = Calendar.getInstance();
- 
-+        // --- Define Colors and Ripples ---
-+        final int colorPositive = Color.parseColor("#00BFA5"); // Teal color for OK button
-+        final int colorNegative = Color.parseColor("#FF5252"); // Red color for CANCEL button
-+        final ColorStateList ripplePositive = ColorStateList.valueOf(Color.parseColor("#3300BFA5")); // Light teal ripple
-+        final ColorStateList rippleNegative = ColorStateList.valueOf(Color.parseColor("#33FF5252")); // Light red ripple
-+        // ---------------------------------
-+
-         DatePickerDialog dp = new DatePickerDialog(this,
-                 (view, year, month, dayOfMonth) -> {
--                    calendar.set(year, month, dayOfMonth);
-+                    calendar.set(year, month, dayOfMonth, 0, 0, 0); // Set time to midnight for budget comparison
-+                    calendar.set(Calendar.MILLISECOND, 0);
-+
-                     tvDate.setText(new SimpleDateFormat("yyyy-MM-dd", Locale.getDefault()).format(calendar.getTime()));
- 
-                     if (isStartDate) {
-@@ -349,45 +369,68 @@
-                 },
-                 calendar.get(Calendar.YEAR), calendar.get(Calendar.MONTH), calendar.get(Calendar.DAY_OF_MONTH)
-         );
-+
-+        // Apply customization to DatePickerDialog buttons
-+        dp.setOnShowListener(dialogInterface -> {
-+            // OK Button (Positive)
-+            dp.getButton(DialogInterface.BUTTON_POSITIVE).setTextColor(colorPositive);
-+            dp.getButton(DialogInterface.BUTTON_POSITIVE).setBackground(new RippleDrawable(ripplePositive, null, null));
-+
-+            // Cancel Button (Negative)
-+            dp.getButton(DialogInterface.BUTTON_NEGATIVE).setTextColor(colorNegative);
-+            dp.getButton(DialogInterface.BUTTON_NEGATIVE).setBackground(new RippleDrawable(rippleNegative, null, null));
-+        });
-+
-         dp.show();
-     }
- 
--    private void showCustomToast(String message) {
--        LayoutInflater inflater = LayoutInflater.from(this);
--        View layout = inflater.inflate(R.layout.custom_message, null);
--        TextView toastMessage = layout.findViewById(R.id.toast_message);
--        ImageView close = layout.findViewById(R.id.toast_close);
--        ProgressBar progressBar = layout.findViewById(R.id.toast_progress);
-+    private void showCustomToast(String message) { // Method to show custom toast dialog
-+        LayoutInflater inflater = getLayoutInflater(); // Get inflater to load custom layout
-+        // üö® CRITICAL FIX: To allow requireContext() in a non-Fragment context, we use 'this'
-+        View layout = inflater.inflate(R.layout.custom_message, null); // Inflate the custom toast layout
-+
-+        TextView text = layout.findViewById(R.id.toast_message); // Get TextView for message
-+        ImageView close = layout.findViewById(R.id.toast_close); // Get close button ImageView
-+        ProgressBar progressBar = layout.findViewById(R.id.toast_progress); // Get ProgressBar
- 
--        toastMessage.setText(message);
--        progressBar.setProgress(100);
-+        text.setText(message); // Set the toast message text
-+        progressBar.setProgress(100); // Initialize progress bar to full
- 
--        AlertDialog dialog = new AlertDialog.Builder(this).setView(layout).create();
--        close.setOnClickListener(v -> dialog.dismiss());
-+        // üö® CRITICAL FIX: Replacing requireContext() with 'this' (the Activity context)
-+        androidx.appcompat.app.AlertDialog dialog = new androidx.appcompat.app.AlertDialog.Builder(this)
-+                .setView(layout) // Set custom layout
-+                .create(); // Create dialog instance
- 
--        if (dialog.getWindow() != null) {
--            dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);
--            dialog.getWindow().setDimAmount(0f);
--            WindowManager.LayoutParams params = dialog.getWindow().getAttributes();
--            params.width = WindowManager.LayoutParams.MATCH_PARENT;
--            params.height = WindowManager.LayoutParams.WRAP_CONTENT;
--            params.gravity = Gravity.TOP;
-+        close.setOnClickListener(v -> dialog.dismiss()); // Close dialog on button click
-+
-+        if (dialog.getWindow() != null) { // Check if window exists
-+            dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT)); // Make background transparent
-+            dialog.getWindow().setDimAmount(0f); // Remove dim behind dialog
-+
-+            WindowManager.LayoutParams params = dialog.getWindow().getAttributes(); // Get window attributes
-+            params.width = WindowManager.LayoutParams.MATCH_PARENT; // Set width to match parent
-+            params.height = WindowManager.LayoutParams.WRAP_CONTENT; // Set height to wrap content
-+
-+            // Set gravity to BOTTOM
-+            params.gravity = android.view.Gravity.BOTTOM; // Position at bottom
-+
-+            // Set offset from bottom in pixels (use the same offset for consistency)
-             params.y = 50;
--            dialog.getWindow().setAttributes(params);
-+
-+            dialog.getWindow().setAttributes(params); // Apply attributes
-         }
- 
--        dialog.show();
-+        dialog.show(); // Show the dialog
- 
--        new android.os.CountDownTimer(3000, 50) {
--            public void onTick(long millisUntilFinished) {
--                int progress = (int) Math.max(0, Math.round((millisUntilFinished / 3000.0) * 100));
--                progressBar.setProgress(progress);
-+        new CountDownTimer(3000, 50) { // Timer for auto-dismiss: 3s, tick every 50ms
-+            public void onTick(long millisUntilFinished) { // Called on every tick
-+                int progress = (int) ((millisUntilFinished / 3000.0) * 100); // Calculate progress
-+                progressBar.setProgress(progress); // Update progress bar
-             }
--
--            public void onFinish() {
--                if (dialog.isShowing()) dialog.dismiss();
-+            public void onFinish() { // Called when timer finishes
-+                if (dialog.isShowing()) dialog.dismiss(); // Dismiss dialog
-             }
--        }.start();
-+        }.start(); // Start timer
-     }
- 
-     @Override
-@@ -402,38 +445,23 @@
-         return NavigationUI.navigateUp(navController, mAppBarConfiguration) || super.onSupportNavigateUp();
-     }
- 
--    private void showCustomMessage(String title, String message) {
--        // Inflate the custom layout
--        View layout = LayoutInflater.from(this).inflate(R.layout.custom_message, null);
--
--        ImageView icon = layout.findViewById(R.id.toast_icon);
--        TextView infoLabel = layout.findViewById(R.id.info_label);
--        TextView toastMessage = layout.findViewById(R.id.toast_message);
--        ImageView closeBtn = layout.findViewById(R.id.toast_close);
--        ProgressBar progressBar = layout.findViewById(R.id.toast_progress);
--
--        infoLabel.setText(title);
--        toastMessage.setText(message);
--        progressBar.setProgress(100); // Can be animated if needed
--
--        // Optional: Close button
--        closeBtn.setOnClickListener(v -> {
--            if (layout.getParent() instanceof android.view.ViewGroup) {
--                ((ViewGroup) layout.getParent()).removeView(layout);
--            }
--        });
--
--        // Create and show toast
--        Toast toast = new Toast(this);
--        toast.setDuration(Toast.LENGTH_LONG);
--        toast.setView(layout);
--        toast.show();
--    }
--
-     public void showAddBudgetDialog() {
-         try{
- 
-+            // üö® CRITICAL FIX: Replacing requireContext() with 'this' (the Activity context)
-             View dialogView = LayoutInflater.from(this).inflate(R.layout.dialog_add_budget, null);
-+            AlertDialog dialog = new AlertDialog.Builder(this).setView(dialogView).create();
-+
-+            if (dialog.getWindow() != null) {
-+                // CRITICAL FIX 1: Force Full Width and Full Height
-+                dialog.getWindow().setLayout(WindowManager.LayoutParams.MATCH_PARENT, WindowManager.LayoutParams.MATCH_PARENT);
-+
-+                // CRITICAL FIX 2: Ensure dialog resizes when keyboard appears
-+                dialog.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE);
-+
-+                // CRITICAL FIX 3: Remove default AlertDialog padding/insets for true full screen
-+                dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));
-+            }
- 
-             AutoCompleteTextView etCategory = dialogView.findViewById(R.id.actCategory);
-             EditText etAmount = dialogView.findViewById(R.id.etAmount);
-@@ -449,18 +477,19 @@
-             ImageButton btnPickDate1 = dialogView.findViewById(R.id.btnPickDate1);
-             ImageButton btnPickDate2 = dialogView.findViewById(R.id.btnPickDate2);
- 
--            AlertDialog dialog = new AlertDialog.Builder(this)
--                    .setView(dialogView)
--                    .create();
--
-             // --- Load categories ---
-             new Thread(() -> {
-                 try {
-                     List<Category> categoryList = FinixDatabase.getDatabase(this).categoryDao().getAllCategories();
-                     List<String> categoryNames = new ArrayList<>();
--                    for (Category c : categoryList) categoryNames.add(c.getName());
-+
-+                    // üí° UPDATED: 1. Add the special option first
-                     categoryNames.add("+ Add New Category");
- 
-+                    // üí° UPDATED: 2. Then, add all the existing categories
-+                    for (Category c : categoryList) categoryNames.add(c.getName());
-+
-+
-                     runOnUiThread(() -> {
-                         try {
-                             ArrayAdapter<String> adapter = new ArrayAdapter<>(
-@@ -481,11 +510,11 @@
-                                 }
-                             });
-                         } catch (Exception e) {
--                            showCustomMessage("Error", "Failed to load categories: " + e.getMessage());
-+                            showCustomToast("Failed to load categories: " + e.getMessage());
-                         }
-                     });
-                 } catch (Exception e) {
--                    runOnUiThread(() -> showCustomMessage("Error", "Failed to fetch categories: " + e.getMessage()));
-+                    runOnUiThread(() -> showCustomToast("Failed to fetch categories: " + e.getMessage()));
-                 }
-             }).start();
- 
-@@ -503,16 +532,18 @@
-                             CategoryDAO dao = FinixDatabase.getDatabase(this).categoryDao();
-                             dao.insert(new Category(newCat));
-                             runOnUiThread(() -> {
--                                showCustomMessage("Info", "Category Added");
-+                                // üí° UPDATED: Removed prefix
-+                                showCustomToast("Category Added");
-                                 llAddNewCategory.setVisibility(View.GONE);
-                                 etCategory.setVisibility(View.VISIBLE);
-                                 etCategory.setText(newCat);
-                             });
-                         } catch (Exception e) {
--                            runOnUiThread(() -> showCustomMessage("Error", "Failed to add category: " + e.getMessage()));
-+                            // üí° UPDATED: Removed prefix
-+                            runOnUiThread(() -> showCustomToast("Failed to add category: " + e.getMessage()));
-                         }
-                     }).start();
--                } else showCustomMessage("Error", "Category cannot be empty");
-+                } else showCustomToast("Category cannot be empty"); // üí° UPDATED: Removed prefix
-             });
- 
-             btnCancelCategory.setOnClickListener(v -> {
-@@ -526,7 +557,8 @@
-                     String catName = etCategory.getText().toString().trim();
-                     String amountText = etAmount.getText().toString().trim();
-                     if (catName.isEmpty() || amountText.isEmpty()) {
--                        showCustomMessage("Error", "Fill all fields");
-+                        // üí° UPDATED: Removed prefix
-+                        showCustomToast("Fill all fields");
-                         return;
-                     }
- 
-@@ -534,7 +566,8 @@
-                     try {
-                         amount = Double.parseDouble(amountText);
-                     } catch (NumberFormatException e) {
--                        showCustomMessage("Error", "Invalid amount entered");
-+                        // üí° UPDATED: Removed prefix
-+                        showCustomToast("Invalid amount entered");
-                         return;
-                     }
- 
-@@ -549,7 +582,8 @@
-                                 }
-                             }
-                             if (catId == -1) {
--                                runOnUiThread(() -> showCustomMessage("Error", "Selected category not found"));
-+                                // üí° UPDATED: Removed prefix
-+                                runOnUiThread(() -> showCustomToast("Selected category not found"));
-                                 return;
-                             }
- 
-@@ -558,22 +592,241 @@
- 
-                             runOnUiThread(() -> {
-                                 dialog.dismiss();
--                                showCustomMessage("Info", "Budget Added Successfully");
-+                                // üí° UPDATED: Removed prefix
-+                                showCustomToast("Budget Added Successfully");
-                             });
-                         } catch (Exception e) {
--                            runOnUiThread(() -> showCustomMessage("Error", "Failed to save budget: " + e.getMessage()));
-+                            // üí° UPDATED: Removed prefix
-+                            runOnUiThread(() -> showCustomToast("Failed to save budget: " + e.getMessage()));
-                         }
-                     }).start();
- 
-                 } catch (Exception e) {
--                    showCustomMessage("Error", "Unexpected error: " + e.getMessage());
-+                    // üí° UPDATED: Removed prefix
-+                    showCustomToast("Unexpected error: " + e.getMessage());
-                 }
-             });
- 
-             dialog.show();
-         } catch (Exception e) {
--            showCustomMessage("Error", "Failed to open budget dialog: " + e.getMessage());
-+            // üí° UPDATED: Removed prefix
-+            showCustomToast("Failed to open budget dialog: " + e.getMessage());
-         }
-+
-+    }
-+
-+    // --- Goal-specific Date Pickers ---
-+
-+    private interface DatePickCallback {
-+        void onPicked(String date);
-+    }
-+
-+    private void openGoalDatePicker(DatePickCallback cb) {
-+        final Calendar calendar = Calendar.getInstance();
-+        SimpleDateFormat format = new SimpleDateFormat("dd/MM/yyyy", Locale.getDefault());
-+
-+        // Define Colors
-+        final int colorPositive = Color.parseColor("#00BFA5"); // Teal
-+        final int colorNegative = Color.parseColor("#FF5252"); // Red
-+
-+        DatePickerDialog dp = new DatePickerDialog(
-+                this,
-+                (view, y, m, d) -> {
-+                    calendar.set(y, m, d);
-+                    String selectedDate = format.format(calendar.getTime());
-+                    cb.onPicked(selectedDate);
-+                },
-+                calendar.get(Calendar.YEAR),
-+                calendar.get(Calendar.MONTH),
-+                calendar.get(Calendar.DAY_OF_MONTH)
-+        );
-+
-+        // Apply customization to DatePickerDialog buttons
-+        dp.setOnShowListener(dialogInterface -> {
-+            dp.getButton(DialogInterface.BUTTON_POSITIVE).setTextColor(colorPositive);
-+            dp.getButton(DialogInterface.BUTTON_NEGATIVE).setTextColor(colorNegative);
-+        });
-+
-+        dp.show();
-+    }
-+
-+    private long parseGoalDateToMillis(String ddMMyyyy) {
-+        try {
-+            Date parsed = new SimpleDateFormat("dd/MM/yyyy", Locale.getDefault()).parse(ddMMyyyy);
-+            return (parsed != null) ? parsed.getTime() : -1;
-+        } catch (Exception e) {
-+            return -1;
-+        }
-+    }
-+
-+    // üü¢ NEW: Add Goal Popup Logic
-+    public void showAddGoalDialog() {
-+        try {
-+            // üö® CRITICAL FIX: Using 'this' (the Activity context)
-+            View dialogView = LayoutInflater.from(this).inflate(R.layout.dialog_add_goal, null);
-+            AlertDialog dialog = new AlertDialog.Builder(this).setView(dialogView).create();
-+
-+            if (dialog.getWindow() != null) {
-+                // Force Full Width, resize on keyboard, remove padding
-+                dialog.getWindow().setLayout(WindowManager.LayoutParams.MATCH_PARENT, WindowManager.LayoutParams.MATCH_PARENT);
-+                dialog.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE);
-+                dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));
-+            }
-+
-+            // Category controls
-+            AutoCompleteTextView actCategory = dialogView.findViewById(R.id.etCategory);
-+            LinearLayout llAddCategory = dialogView.findViewById(R.id.llAddNewCategory);
-+            EditText etNewCategory = dialogView.findViewById(R.id.etNewCategory);
-+            Button btnSaveCategory = dialogView.findViewById(R.id.btnSaveCategory);
-+            Button btnBackCategory = dialogView.findViewById(R.id.btnCancelCategory);
-+
-+            // Goal fields
-+            EditText etGoalName = dialogView.findViewById(R.id.etGoalName);
-+            EditText etGoalDescription = dialogView.findViewById(R.id.etGoalDescription);
-+            EditText etTargetAmount = dialogView.findViewById(R.id.etTargetAmount);
-+            TextView tvTargetDate = dialogView.findViewById(R.id.etTargetDate);
-+            ImageButton btnPickDate = dialogView.findViewById(R.id.btnPickDate);
-+            Button btnSave = dialogView.findViewById(R.id.btnSaveGoal);
-+
-+            // Set character limits (Copied from SavingsGoalsFragment)
-+            etNewCategory.setFilters(new InputFilter[]{new InputFilter.LengthFilter(14)});
-+            actCategory.setFilters(new InputFilter[]{new InputFilter.LengthFilter(14)});
-+            etGoalName.setFilters(new InputFilter[]{new InputFilter.LengthFilter(14)});
-+            etTargetAmount.setFilters(new InputFilter[]{new InputFilter.LengthFilter(7)});
-+
-+            // --- Load categories ---
-+            List<String> categoryNames = new ArrayList<>();
-+            Map<String, Integer> nameToId = new HashMap<>();
-+            ArrayAdapter<String> ddAdapter = new ArrayAdapter<>(this, android.R.layout.simple_dropdown_item_1line, categoryNames);
-+
-+            new Thread(() -> {
-+                try {
-+                    List<Category> categoryList = FinixDatabase.getDatabase(this).categoryDao().getAllCategories();
-+
-+                    categoryNames.add("+ Add New Category");
-+                    for (Category c : categoryList) {
-+                        categoryNames.add(c.getName());
-+                        nameToId.put(c.getName(), c.getId());
-+                    }
-+
-+                    runOnUiThread(() -> {
-+                        actCategory.setAdapter(ddAdapter);
-+                        actCategory.setThreshold(0);
-+                    });
-+                } catch (Exception e) {
-+                    runOnUiThread(() -> showCustomToast("Failed to fetch categories: " + e.getMessage()));
-+                }
-+            }).start();
-+
-+
-+            actCategory.setOnClickListener(v -> actCategory.showDropDown());
-+            actCategory.setOnItemClickListener((parent, view, position, id) -> {
-+                String selected = categoryNames.get(position);
-+                if (selected.equals("+ Add New Category")) {
-+                    llAddCategory.setVisibility(View.VISIBLE);
-+                    actCategory.setVisibility(View.GONE);
-+                } else {
-+                    llAddCategory.setVisibility(View.GONE);
-+                }
-+            });
-+
-+            // --- Date Picker ---
-+            View.OnClickListener pickDate = v -> openGoalDatePicker(date -> tvTargetDate.setText(date));
-+            tvTargetDate.setOnClickListener(pickDate);
-+            btnPickDate.setOnClickListener(pickDate);
-+
-+            // --- Save New Category ---
-+            btnSaveCategory.setOnClickListener(v -> {
-+                String newCat = etNewCategory.getText().toString().trim();
-+                if (!newCat.isEmpty()) {
-+                    new Thread(() -> {
-+                        try {
-+                            CategoryDAO dao = FinixDatabase.getDatabase(this).categoryDao();
-+                            dao.insert(new Category(newCat));
-+
-+                            // Re-fetch categories to update dropdown list and map
-+                            List<Category> updatedList = dao.getAllCategories();
-+                            categoryNames.clear();
-+                            nameToId.clear();
-+                            categoryNames.add("+ Add New Category");
-+                            for (Category c : updatedList) {
-+                                categoryNames.add(c.getName());
-+                                nameToId.put(c.getName(), c.getId());
-+                            }
-+
-+                            runOnUiThread(() -> {
-+                                ddAdapter.notifyDataSetChanged();
-+                                showCustomToast("Category Added");
-+
-+                                llAddCategory.setVisibility(View.GONE);
-+                                actCategory.setVisibility(View.VISIBLE);
-+                                actCategory.setText(newCat);
-+                            });
-+                        } catch (Exception e) {
-+                            runOnUiThread(() -> showCustomToast("Failed to add category: " + e.getMessage()));
-+                        }
-+                    }).start();
-+                } else showCustomToast("Category cannot be empty");
-+            });
-+
-+            btnBackCategory.setOnClickListener(v -> {
-+                llAddCategory.setVisibility(View.GONE);
-+                actCategory.setVisibility(View.VISIBLE);
-+            });
-+
-+            // --- Save Goal ---
-+            btnSave.setOnClickListener(v -> {
-+                String catName = actCategory.getText().toString().trim();
-+                String goalName = etGoalName.getText().toString().trim();
-+                String desc = etGoalDescription.getText().toString().trim();
-+                String amountStr = etTargetAmount.getText().toString().trim();
-+                String dateStr = tvTargetDate.getText().toString().trim();
-+
-+                if (catName.isEmpty() || goalName.isEmpty() || amountStr.isEmpty() || dateStr.isEmpty()) {
-+                    showCustomToast("Please fill all fields");
-+                    return;
-+                }
-+
-+                if (!nameToId.containsKey(catName)) {
-+                    showCustomToast("Invalid category!");
-+                    return;
-+                }
-+                int categoryId = nameToId.get(catName);
- 
--    }
--}
-+                double targetAmount;
-+                try {
-+                    targetAmount = Double.parseDouble(amountStr);
-+                } catch (NumberFormatException e) {
-+                    showCustomToast("Invalid amount entered");
-+                    return;
-+                }
-+
-+                long targetDateMillis = parseGoalDateToMillis(dateStr);
-+                if (targetDateMillis == -1) {
-+                    showCustomToast("Invalid date format (expecting dd/MM/yyyy)");
-+                    return;
-+                }
-+
-+                // Save Goal on a background thread
-+                new Thread(() -> {
-+                    try {
-+                        SavingsGoal goal = new SavingsGoal(categoryId, goalName, desc, targetAmount, targetDateMillis);
-+                        // Instantiate ViewModel for saving, as in showAddBudgetDialog
-+                        new SavingsGoalsViewModel(getApplication()).insert(goal);
-+
-+                        runOnUiThread(() -> {
-+                            dialog.dismiss();
-+                            showCustomToast("Goal Added Successfully");
-+                        });
-+                    } catch (Exception e) {
-+                        runOnUiThread(() -> showCustomToast("Failed to save goal: " + e.getMessage()));
-+                    }
-+                }).start();
-+            });
-+
-+            dialog.show();
-+        } catch (Exception e) {
-+            showCustomToast("Failed to open goal dialog: " + e.getMessage());
-+        }
-+    }
-+}
-\ No newline at end of file
-Index: app/src/main/java/com/example/finix/ui/budget/BudgetAdapter.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.finix.ui.budget;\r\n\r\nimport android.animation.ObjectAnimator;\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.animation.DecelerateInterpolator;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.example.finix.R;\r\nimport com.example.finix.data.Budget;\r\nimport com.example.finix.data.Category;\r\nimport com.example.finix.data.Transaction;\r\nimport com.google.android.material.progressindicator.LinearProgressIndicator;\r\n\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\npublic class BudgetAdapter extends RecyclerView.Adapter<BudgetAdapter.BudgetViewHolder> {\r\n\r\n    private List<Budget> budgetList;\r\n    private final Context context;\r\n    private List<Transaction> transactionList;\r\n    private List<Category> categoryList;\r\n    private final OnBudgetActionListener listener;\r\n\r\n\r\n    // Listener interface\r\n    public interface OnBudgetActionListener {\r\n        void onEdit(Budget budget);\r\n        void onDelete(Budget budget);\r\n    }\r\n\r\n    public BudgetAdapter(Context context, OnBudgetActionListener listener) {\r\n        this.context = context;\r\n        this.listener = listener;\r\n    }\r\n\r\n    public void setData(List<Budget> budgets, List<Transaction> transactions, List<Category> categories) {\r\n        this.budgetList = budgets;\r\n        this.transactionList = transactions;\r\n        this.categoryList = categories;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public BudgetViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.item_budget, parent, false);\r\n        return new BudgetViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull BudgetViewHolder holder, int position) {\r\n        Budget budget = budgetList.get(position);\r\n\r\n        // Find category name\r\n        String categoryName = \"Unknown\";\r\n        if (categoryList != null) {\r\n            for (Category c : categoryList) {\r\n                if (c.getId() == budget.getCategoryId()) {\r\n                    categoryName = c.getName();\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Calculate spent amount from transactions\r\n        double spent = 0;\r\n        if (transactionList != null) {\r\n            for (Transaction t : transactionList) {\r\n                if (t.getCategoryId() == budget.getCategoryId() && t.getType().equalsIgnoreCase(\"expense\")) {\r\n                    spent += t.getAmount();\r\n                }\r\n            }\r\n        }\r\n\r\n        double budgetAmount = budget.getBudgetedAmount();\r\n        int percent = (int) ((spent / budgetAmount) * 100);\r\n        double budgeted = budget.getBudgetedAmount();\r\n        double progressPercentage = (spent / budgeted) * 100;\r\n\r\n        if (percent > 100) percent = 100;\r\n\r\n        holder.tvCategory.setText(categoryName);\r\n        holder.tvBudgetDetails.setText(String.format(\"Spent: Rs.%.2f / $%.2f\", spent, budgetAmount));\r\n        holder.tvProgressPercentage.setText(String.format(Locale.getDefault(), \"%.0f%%\", progressPercentage));\r\n\r\n        // Animate progress bar\r\n        ObjectAnimator animation = ObjectAnimator.ofInt(holder.progressBudget, \"progress\", 0, (int) progressPercentage);\r\n        animation.setDuration(1000);\r\n        animation.setInterpolator(new DecelerateInterpolator());\r\n        animation.start();\r\n\r\n        // Color change as user nears limit\r\n        if (progressPercentage >= 90) {\r\n            holder.progressBudget.setIndicatorColor(ContextCompat.getColor(context, R.color.red));\r\n        } else if (progressPercentage >= 50) {\r\n            holder.progressBudget.setIndicatorColor(ContextCompat.getColor(context, R.color.yellow));\r\n        } else {\r\n            holder.progressBudget.setIndicatorColor(ContextCompat.getColor(context, R.color.teal_700));\r\n        }\r\n\r\n\r\n        // Set click listeners for edit and delete\r\n        holder.btnEdit.setOnClickListener(v -> {\r\n            if (listener != null) listener.onEdit(budget); // <-- Edit\r\n        });\r\n\r\n        holder.btnDelete.setOnClickListener(v -> {\r\n            if (listener != null) listener.onDelete(budget); // <-- Delete\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return budgetList == null ? 0 : budgetList.size();\r\n    }\r\n\r\n    static class BudgetViewHolder extends RecyclerView.ViewHolder {\r\n        TextView tvCategory, tvBudgetDetails, tvProgressPercentage;\r\n        LinearProgressIndicator progressBudget;\r\n        ImageButton btnEdit, btnDelete;\r\n\r\n\r\n        public BudgetViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            tvCategory = itemView.findViewById(R.id.tvCategory);\r\n            tvBudgetDetails = itemView.findViewById(R.id.tvBudgetDetails);\r\n            progressBudget = itemView.findViewById(R.id.progressBudget);\r\n            tvProgressPercentage = itemView.findViewById(R.id.tvProgressPercentage);\r\n            btnEdit = itemView.findViewById(R.id.btnEdit);\r\n            btnDelete = itemView.findViewById(R.id.btnDelete);\r\n        }\r\n    }\r\n\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/finix/ui/budget/BudgetAdapter.java b/app/src/main/java/com/example/finix/ui/budget/BudgetAdapter.java
---- a/app/src/main/java/com/example/finix/ui/budget/BudgetAdapter.java	(revision aeff7419715d5d540dc246f922fac8ddd8b6be06)
-+++ b/app/src/main/java/com/example/finix/ui/budget/BudgetAdapter.java	(date 1762068041263)
-@@ -19,6 +19,8 @@
- import com.example.finix.data.Transaction;
- import com.google.android.material.progressindicator.LinearProgressIndicator;
- 
-+import java.text.SimpleDateFormat;
-+import java.util.Date;
- import java.util.List;
- import java.util.Locale;
- 
-@@ -30,6 +32,9 @@
-     private List<Category> categoryList;
-     private final OnBudgetActionListener listener;
- 
-+    // Date formatter for display
-+    private final SimpleDateFormat dateFormat = new SimpleDateFormat("dd MMM", Locale.getDefault());
-+
- 
-     // Listener interface
-     public interface OnBudgetActionListener {
-@@ -71,50 +76,72 @@
-             }
-         }
- 
-+        // --- 1. Set Date Range ---
-+        String startDate = dateFormat.format(new Date(budget.getStartDate()));
-+        String endDate = dateFormat.format(new Date(budget.getEndDate()));
-+        holder.tvDateRange.setText(String.format("%s - %s", startDate, endDate));
-+
-+
-         // Calculate spent amount from transactions
-         double spent = 0;
-         if (transactionList != null) {
-             for (Transaction t : transactionList) {
--                if (t.getCategoryId() == budget.getCategoryId() && t.getType().equalsIgnoreCase("expense")) {
-+                // UPDATED: Use t.getDateTime() instead of t.getTimestamp()
-+                // Check if transaction category matches budget category AND the transaction date is within the budget period
-+                if (t.getCategoryId() == budget.getCategoryId()
-+                        && t.getType().equalsIgnoreCase("expense")
-+                        && t.getDateTime() >= budget.getStartDate()
-+                        && t.getDateTime() <= budget.getEndDate()) {
-                     spent += t.getAmount();
-                 }
-             }
-         }
- 
-         double budgetAmount = budget.getBudgetedAmount();
--        int percent = (int) ((spent / budgetAmount) * 100);
--        double budgeted = budget.getBudgetedAmount();
--        double progressPercentage = (spent / budgeted) * 100;
-+        // Recalculate percent and progressPercentage
-+        double progressPercentage = (spent / budgetAmount) * 100;
- 
--        if (percent > 100) percent = 100;
-+        int progressInt = (int) progressPercentage;
-+        if (progressInt > 100) progressInt = 100; // Cap visual progress at 100%
- 
-         holder.tvCategory.setText(categoryName);
--        holder.tvBudgetDetails.setText(String.format("Spent: Rs.%.2f / $%.2f", spent, budgetAmount));
-+
-+        // Set Budget Details
-+        holder.tvBudgetDetails.setText(String.format(Locale.getDefault(), "Spent: Rs.%.0f / Rs.%.0f", spent, budgetAmount));
-+
-+        // Set Percentage
-         holder.tvProgressPercentage.setText(String.format(Locale.getDefault(), "%.0f%%", progressPercentage));
- 
--        // Animate progress bar
--        ObjectAnimator animation = ObjectAnimator.ofInt(holder.progressBudget, "progress", 0, (int) progressPercentage);
-+
-+        // Animate progress bar (uses progressInt capped at 100)
-+        ObjectAnimator animation = ObjectAnimator.ofInt(holder.progressBudget, "progress", 0, progressInt);
-         animation.setDuration(1000);
-         animation.setInterpolator(new DecelerateInterpolator());
-         animation.start();
- 
--        // Color change as user nears limit
--        if (progressPercentage >= 90) {
-+        // Color change based on progress
-+        if (progressPercentage >= 100) {
-+            // üî¥ Budget exceeded
-             holder.progressBudget.setIndicatorColor(ContextCompat.getColor(context, R.color.red));
-+        } else if (progressPercentage >= 75) {
-+            // üü† High usage, nearing limit (75% to 99%)
-+            holder.progressBudget.setIndicatorColor(ContextCompat.getColor(context, R.color.red_orange));
-         } else if (progressPercentage >= 50) {
-+            // üü° Moderate usage (50% to 74%)
-             holder.progressBudget.setIndicatorColor(ContextCompat.getColor(context, R.color.yellow));
-         } else {
-+            // üü¢ Low usage (Under 50%)
-             holder.progressBudget.setIndicatorColor(ContextCompat.getColor(context, R.color.teal_700));
-         }
- 
- 
-         // Set click listeners for edit and delete
-         holder.btnEdit.setOnClickListener(v -> {
--            if (listener != null) listener.onEdit(budget); // <-- Edit
-+            if (listener != null) listener.onEdit(budget);
-         });
- 
-         holder.btnDelete.setOnClickListener(v -> {
--            if (listener != null) listener.onDelete(budget); // <-- Delete
-+            if (listener != null) listener.onDelete(budget);
-         });
- 
-     }
-@@ -125,7 +152,8 @@
-     }
- 
-     static class BudgetViewHolder extends RecyclerView.ViewHolder {
--        TextView tvCategory, tvBudgetDetails, tvProgressPercentage;
-+        // --- Added tvDateRange ---
-+        TextView tvCategory, tvDateRange, tvBudgetDetails, tvProgressPercentage;
-         LinearProgressIndicator progressBudget;
-         ImageButton btnEdit, btnDelete;
- 
-@@ -133,6 +161,8 @@
-         public BudgetViewHolder(@NonNull View itemView) {
-             super(itemView);
-             tvCategory = itemView.findViewById(R.id.tvCategory);
-+            // --- Initialized tvDateRange ---
-+            tvDateRange = itemView.findViewById(R.id.tvDateRange);
-             tvBudgetDetails = itemView.findViewById(R.id.tvBudgetDetails);
-             progressBudget = itemView.findViewById(R.id.progressBudget);
-             tvProgressPercentage = itemView.findViewById(R.id.tvProgressPercentage);
-@@ -140,5 +170,4 @@
-             btnDelete = itemView.findViewById(R.id.btnDelete);
-         }
-     }
--
--}
-+}
-\ No newline at end of file
-Index: app/src/main/res/layout/item_budget.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<com.google.android.material.card.MaterialCardView\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:layout_marginVertical=\"10dp\"\r\n    android:layout_marginHorizontal=\"8dp\"\r\n    android:padding=\"20dp\"\r\n    app:cardCornerRadius=\"20dp\"\r\n    app:cardElevation=\"10dp\"\r\n    app:strokeColor=\"@color/gray\"\r\n    app:strokeWidth=\"1dp\"\r\n    >\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:background=\"@drawable/glassy_teal_popup\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <!-- Top Row: Category & Action Buttons -->\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:gravity=\"center_vertical\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <!-- Category name -->\r\n            <TextView\r\n                android:id=\"@+id/tvCategory\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"12dp\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Food\"\r\n                android:textColor=\"@color/white\"\r\n                android:textSize=\"22sp\"\r\n                android:textStyle=\"bold\" />\r\n\r\n            <!-- Edit Button -->\r\n            <ImageButton\r\n                android:id=\"@+id/btnEdit\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"40dp\"\r\n                android:layout_marginTop=\"8dp\"\r\n                android:layout_marginEnd=\"16dp\"\r\n                android:background=\"@drawable/button_border_ash\"\r\n                android:contentDescription=\"Edit Budget\"\r\n                android:padding=\"8dp\"\r\n                android:src=\"@drawable/ic_edit\"\r\n                app:tint=\"@color/white\" />\r\n\r\n            <!-- Delete Button -->\r\n            <ImageButton\r\n                android:id=\"@+id/btnDelete\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"40dp\"\r\n                android:layout_marginTop=\"8dp\"\r\n                android:layout_marginEnd=\"12dp\"\r\n                android:background=\"@drawable/button_border_black\"\r\n                android:contentDescription=\"Delete Budget\"\r\n                android:padding=\"8dp\"\r\n                android:src=\"@drawable/ic_delete\"\r\n                app:tint=\"@color/black\" />\r\n        </LinearLayout>\r\n\r\n        <!-- Budget details -->\r\n        <TextView\r\n            android:id=\"@+id/tvBudgetDetails\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginLeft=\"12dp\"\r\n            android:layout_marginTop=\"9dp\"\r\n            android:text=\"Spent: $300 / $500\"\r\n            android:textColor=\"@color/white\"\r\n            android:textSize=\"16sp\" />\r\n\r\n        <!-- Spacer -->\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"12dp\" />\r\n\r\n        <!-- Progress bar container -->\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:gravity=\"center_vertical\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <com.google.android.material.progressindicator.LinearProgressIndicator\r\n                android:id=\"@+id/progressBudget\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"16dp\"\r\n                android:layout_marginStart=\"9dp\"\r\n                android:layout_marginEnd=\"8dp\"\r\n                android:layout_weight=\"1\"\r\n                android:progress=\"60\"\r\n                android:progressTintMode=\"src_in\"\r\n                app:indicatorColor=\"@color/teal_700\"\r\n                app:trackColor=\"@color/gray\"\r\n                app:trackCornerRadius=\"8dp\" />\r\n\r\n            <!-- Percentage text -->\r\n            <TextView\r\n                android:id=\"@+id/tvProgressPercentage\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginEnd=\"20dp\"\r\n                android:layout_marginBottom=\"5dp\"\r\n                android:text=\"60%\"\r\n                android:textColor=\"@color/white\"\r\n                android:textSize=\"14sp\" />\r\n        </LinearLayout>\r\n\r\n    </LinearLayout>\r\n</com.google.android.material.card.MaterialCardView>\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/item_budget.xml b/app/src/main/res/layout/item_budget.xml
---- a/app/src/main/res/layout/item_budget.xml	(revision aeff7419715d5d540dc246f922fac8ddd8b6be06)
-+++ b/app/src/main/res/layout/item_budget.xml	(date 1762065750708)
-@@ -5,13 +5,12 @@
-     android:layout_width="match_parent"
-     android:layout_height="wrap_content"
-     android:layout_marginVertical="10dp"
--    android:layout_marginHorizontal="8dp"
-+    android:layout_marginHorizontal="2dp"
-     android:padding="20dp"
-     app:cardCornerRadius="20dp"
-     app:cardElevation="10dp"
-     app:strokeColor="@color/gray"
--    app:strokeWidth="1dp"
--    >
-+    app:strokeWidth="1dp">
- 
-     <LinearLayout
-         android:layout_width="match_parent"
-@@ -19,44 +18,55 @@
-         android:background="@drawable/glassy_teal_popup"
-         android:orientation="vertical">
- 
--        <!-- Top Row: Category & Action Buttons -->
-         <LinearLayout
-             android:layout_width="match_parent"
-             android:layout_height="wrap_content"
-             android:gravity="center_vertical"
--            android:orientation="horizontal">
-+            android:orientation="horizontal"
-+            android:paddingTop="10dp"
-+            android:paddingBottom="10dp">
- 
--            <!-- Category name -->
--            <TextView
--                android:id="@+id/tvCategory"
-+            <LinearLayout
-                 android:layout_width="0dp"
-                 android:layout_height="wrap_content"
-                 android:layout_marginStart="12dp"
-                 android:layout_weight="1"
--                android:text="Food"
--                android:textColor="@color/white"
--                android:textSize="22sp"
--                android:textStyle="bold" />
-+                android:orientation="vertical">
-+
-+                <TextView
-+                    android:id="@+id/tvCategory"
-+                    android:layout_width="match_parent"
-+                    android:layout_height="wrap_content"
-+                    android:text="Food"
-+                    android:textColor="@color/white"
-+                    android:textSize="16sp"
-+                    android:textStyle="bold" />
- 
--            <!-- Edit Button -->
-+                <TextView
-+                    android:id="@+id/tvDateRange"
-+                    android:layout_width="match_parent"
-+                    android:layout_height="wrap_content"
-+                    android:text="01 Nov 2025 - 30 Nov 2025"
-+                    android:textColor="@color/white"
-+                    android:textSize="14sp"
-+                    android:alpha="0.8" />
-+            </LinearLayout>
-+
-             <ImageButton
-                 android:id="@+id/btnEdit"
--                android:layout_width="40dp"
--                android:layout_height="40dp"
--                android:layout_marginTop="8dp"
--                android:layout_marginEnd="16dp"
-+                android:layout_width="36dp"
-+                android:layout_height="36dp"
-+                android:layout_marginEnd="4dp"
-                 android:background="@drawable/button_border_ash"
-                 android:contentDescription="Edit Budget"
-                 android:padding="8dp"
-                 android:src="@drawable/ic_edit"
-                 app:tint="@color/white" />
- 
--            <!-- Delete Button -->
-             <ImageButton
-                 android:id="@+id/btnDelete"
--                android:layout_width="40dp"
--                android:layout_height="40dp"
--                android:layout_marginTop="8dp"
-+                android:layout_width="36dp"
-+                android:layout_height="36dp"
-                 android:layout_marginEnd="12dp"
-                 android:background="@drawable/button_border_black"
-                 android:contentDescription="Delete Budget"
-@@ -65,53 +75,47 @@
-                 app:tint="@color/black" />
-         </LinearLayout>
- 
--        <!-- Budget details -->
-         <TextView
-             android:id="@+id/tvBudgetDetails"
-             android:layout_width="wrap_content"
-             android:layout_height="wrap_content"
--            android:layout_marginLeft="12dp"
-+            android:layout_marginStart="12dp"
-             android:layout_marginTop="9dp"
-             android:text="Spent: $300 / $500"
-             android:textColor="@color/white"
--            android:textSize="16sp" />
-+            android:textSize="14sp" />
- 
--        <!-- Spacer -->
-         <View
-             android:layout_width="match_parent"
-             android:layout_height="12dp" />
- 
--        <!-- Progress bar container -->
-         <LinearLayout
-             android:layout_width="match_parent"
-             android:layout_height="wrap_content"
-             android:gravity="center_vertical"
--            android:orientation="horizontal">
--
--            <com.google.android.material.progressindicator.LinearProgressIndicator
--                android:id="@+id/progressBudget"
--                android:layout_width="0dp"
--                android:layout_height="16dp"
--                android:layout_marginStart="9dp"
--                android:layout_marginEnd="8dp"
--                android:layout_weight="1"
--                android:progress="60"
--                android:progressTintMode="src_in"
--                app:indicatorColor="@color/teal_700"
--                app:trackColor="@color/gray"
--                app:trackCornerRadius="8dp" />
-+            android:orientation="horizontal"
-+            android:paddingBottom="10dp"> <com.google.android.material.progressindicator.LinearProgressIndicator
-+            android:id="@+id/progressBudget"
-+            android:layout_width="0dp"
-+            android:layout_height="16dp"
-+            android:layout_marginStart="9dp"
-+            android:layout_marginEnd="8dp"
-+            android:layout_weight="1"
-+            android:progress="60"
-+            android:progressTintMode="src_in"
-+            app:indicatorColor="@color/teal_700"
-+            app:trackColor="@color/gray"
-+            app:trackCornerRadius="8dp" />
- 
--            <!-- Percentage text -->
-             <TextView
-                 android:id="@+id/tvProgressPercentage"
-                 android:layout_width="wrap_content"
-                 android:layout_height="wrap_content"
-                 android:layout_marginEnd="20dp"
--                android:layout_marginBottom="5dp"
-                 android:text="60%"
-                 android:textColor="@color/white"
-                 android:textSize="14sp" />
-         </LinearLayout>
- 
-     </LinearLayout>
--</com.google.android.material.card.MaterialCardView>
-+</com.google.android.material.card.MaterialCardView>
-\ No newline at end of file
-Index: app/src/main/res/layout/fragment_savings_goals.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:padding=\"16dp\"\r\n    tools:context=\".ui.savings.SavingsGoalsFragment\">\r\n\r\n    <!-- Add Goal Button (Top Right Corner, same style as your friend's) -->\r\n    <ImageButton\r\n        android:id=\"@+id/btnAddGoal\"\r\n        android:layout_width=\"48dp\"\r\n        android:layout_height=\"48dp\"\r\n        android:layout_alignParentTop=\"true\"\r\n        android:layout_alignParentEnd=\"true\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:layout_marginEnd=\"8dp\"\r\n        android:background=\"@drawable/teal_color_border_button\"\r\n        android:padding=\"12dp\"\r\n        android:contentDescription=\"Add Savings Goal\"\r\n        android:src=\"@android:drawable/ic_input_add\"\r\n        app:tint=\"@color/white\"\r\n        android:elevation=\"4dp\" />\r\n\r\n    <!-- RecyclerView below the button -->\r\n    <androidx.recyclerview.widget.RecyclerView\r\n        android:id=\"@+id/recyclerGoals\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_below=\"@id/btnAddGoal\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:clipToPadding=\"false\"\r\n        android:paddingBottom=\"80dp\"\r\n        tools:listitem=\"@layout/item_goal\" />\r\n\r\n</RelativeLayout>\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/fragment_savings_goals.xml b/app/src/main/res/layout/fragment_savings_goals.xml
---- a/app/src/main/res/layout/fragment_savings_goals.xml	(revision aeff7419715d5d540dc246f922fac8ddd8b6be06)
-+++ b/app/src/main/res/layout/fragment_savings_goals.xml	(date 1762077556896)
-@@ -1,5 +1,6 @@
- <?xml version="1.0" encoding="utf-8"?>
--<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
-+<androidx.constraintlayout.widget.ConstraintLayout
-+    xmlns:android="http://schemas.android.com/apk/res/android"
-     xmlns:app="http://schemas.android.com/apk/res-auto"
-     xmlns:tools="http://schemas.android.com/tools"
-     android:layout_width="match_parent"
-@@ -7,31 +8,62 @@
-     android:padding="16dp"
-     tools:context=".ui.savings.SavingsGoalsFragment">
- 
--    <!-- Add Goal Button (Top Right Corner, same style as your friend's) -->
-+    <!-- ‚ûï Add Goal Button -->
-     <ImageButton
-         android:id="@+id/btnAddGoal"
-         android:layout_width="48dp"
-         android:layout_height="48dp"
--        android:layout_alignParentTop="true"
--        android:layout_alignParentEnd="true"
--        android:layout_marginTop="8dp"
--        android:layout_marginEnd="8dp"
-         android:background="@drawable/teal_color_border_button"
-         android:padding="12dp"
-         android:contentDescription="Add Savings Goal"
-         android:src="@android:drawable/ic_input_add"
-         app:tint="@color/white"
--        android:elevation="4dp" />
-+        android:elevation="4dp"
-+        app:layout_constraintTop_toTopOf="parent"
-+        app:layout_constraintEnd_toEndOf="parent" />
-+
-+    <!-- üñºÔ∏è No Goals Image -->
-+    <ImageView
-+        android:id="@+id/imageNoGoals"
-+        android:layout_width="200dp"
-+        android:layout_height="200dp"
-+        android:src="@drawable/ic_no_goals"
-+        android:contentDescription="No Savings Goals"
-+        android:visibility="gone"
-+        app:tint="#BBBBBB"
-+        app:layout_constraintTop_toBottomOf="@id/btnAddGoal"
-+        app:layout_constraintBottom_toBottomOf="parent"
-+        app:layout_constraintStart_toStartOf="parent"
-+        app:layout_constraintEnd_toEndOf="parent"
-+        app:layout_constraintVertical_bias="0.4" />
- 
--    <!-- RecyclerView below the button -->
-+    <!-- üìù No Goals Text -->
-+    <TextView
-+        android:id="@+id/textNoGoals"
-+        android:layout_width="wrap_content"
-+        android:layout_height="wrap_content"
-+        android:text="No Savings Goals"
-+        android:textColor="#BBBBBB"
-+        android:textSize="16sp"
-+        android:textStyle="bold"
-+        android:visibility="gone"
-+        app:layout_constraintTop_toBottomOf="@id/imageNoGoals"
-+        app:layout_constraintStart_toStartOf="parent"
-+        app:layout_constraintEnd_toEndOf="parent"
-+        android:layout_marginTop="8dp"/>
-+
-+    <!-- üìã RecyclerView -->
-     <androidx.recyclerview.widget.RecyclerView
-         android:id="@+id/recyclerGoals"
--        android:layout_width="match_parent"
--        android:layout_height="match_parent"
--        android:layout_below="@id/btnAddGoal"
--        android:layout_marginTop="16dp"
-+        android:layout_width="0dp"
-+        android:layout_height="0dp"
-         android:clipToPadding="false"
-         android:paddingBottom="80dp"
-+        app:layout_constraintTop_toBottomOf="@id/btnAddGoal"
-+        app:layout_constraintBottom_toBottomOf="parent"
-+        app:layout_constraintStart_toStartOf="parent"
-+        app:layout_constraintEnd_toEndOf="parent"
-+        android:layout_marginTop="16dp"
-         tools:listitem="@layout/item_goal" />
- 
--</RelativeLayout>
-+</androidx.constraintlayout.widget.ConstraintLayout>
-Index: app/src/main/res/layout/fragment_budget.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:orientation=\"vertical\"\r\n    android:padding=\"16dp\"\r\n    android:background=\"?android:attr/colorBackground\">\r\n\r\n    <!-- Row: Spinner + Add Budget Button -->\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:orientation=\"horizontal\"\r\n        android:gravity=\"center_vertical\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:layout_marginBottom=\"16dp\">\r\n\r\n        <!-- Spinner to filter by month -->\r\n        <Spinner\r\n            android:id=\"@+id/spinnerMonthFilter\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"48dp\"\r\n            android:layout_weight=\"1\"\r\n            android:spinnerMode=\"dropdown\"\r\n            android:background=\"@drawable/teal_color_border_button_outline\"\r\n            android:popupBackground=\"?attr/colorSurface\"\r\n            android:textSize=\"18sp\"\r\n            android:paddingStart=\"12dp\"\r\n            android:paddingEnd=\"12dp\"/>\r\n\r\n        <!-- Small gap between spinner and button -->\r\n        <Space\r\n            android:layout_width=\"8dp\"\r\n            android:layout_height=\"wrap_content\"/>\r\n\r\n        <!-- Add Budget Button -->\r\n        <ImageButton\r\n            android:id=\"@+id/btnAddBudget\"\r\n            android:layout_width=\"48dp\"\r\n            android:layout_height=\"48dp\"\r\n            android:background=\"@drawable/teal_color_border_button\"\r\n            android:padding=\"12dp\"\r\n            android:contentDescription=\"Add Budget\"\r\n            android:src=\"@android:drawable/ic_input_add\"\r\n            app:tint=\"@color/white\"\r\n            android:elevation=\"4dp\"/>\r\n    </LinearLayout>\r\n\r\n    <!-- RecyclerView for budget list -->\r\n    <androidx.recyclerview.widget.RecyclerView\r\n        android:id=\"@+id/recyclerBudgets\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"0dp\"\r\n        android:layout_weight=\"1\"\r\n        android:clipToPadding=\"false\"\r\n        android:paddingBottom=\"8dp\"\r\n        android:scrollbars=\"vertical\"\r\n        android:divider=\"?attr/colorOutline\"/>\r\n</LinearLayout>\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/fragment_budget.xml b/app/src/main/res/layout/fragment_budget.xml
---- a/app/src/main/res/layout/fragment_budget.xml	(revision aeff7419715d5d540dc246f922fac8ddd8b6be06)
-+++ b/app/src/main/res/layout/fragment_budget.xml	(date 1762077409897)
-@@ -1,61 +1,83 @@
- <?xml version="1.0" encoding="utf-8"?>
--<LinearLayout
-+<androidx.constraintlayout.widget.ConstraintLayout
-     xmlns:android="http://schemas.android.com/apk/res/android"
-     xmlns:app="http://schemas.android.com/apk/res-auto"
-+    xmlns:tools="http://schemas.android.com/tools"
-     android:layout_width="match_parent"
-     android:layout_height="match_parent"
--    android:orientation="vertical"
-     android:padding="16dp"
--    android:background="?android:attr/colorBackground">
-+    tools:context=".ui.budget.BudgetFragment">
- 
--    <!-- Row: Spinner + Add Budget Button -->
--    <LinearLayout
--        android:layout_width="match_parent"
--        android:layout_height="wrap_content"
--        android:orientation="horizontal"
--        android:gravity="center_vertical"
--        android:layout_marginTop="8dp"
--        android:layout_marginBottom="16dp">
--
--        <!-- Spinner to filter by month -->
--        <Spinner
--            android:id="@+id/spinnerMonthFilter"
--            android:layout_width="0dp"
--            android:layout_height="48dp"
--            android:layout_weight="1"
--            android:spinnerMode="dropdown"
--            android:background="@drawable/teal_color_border_button_outline"
--            android:popupBackground="?attr/colorSurface"
--            android:textSize="18sp"
--            android:paddingStart="12dp"
--            android:paddingEnd="12dp"/>
-+    <!-- üîù Spinner + Add Button -->
-+    <Spinner
-+        android:id="@+id/spinnerMonthFilter"
-+        android:layout_width="0dp"
-+        android:layout_height="48dp"
-+        android:background="@drawable/teal_color_border_button_outline"
-+        android:spinnerMode="dropdown"
-+        android:paddingStart="12dp"
-+        android:paddingEnd="12dp"
-+        android:gravity="center_vertical"
-+        app:layout_constraintTop_toTopOf="parent"
-+        app:layout_constraintStart_toStartOf="parent"
-+        app:layout_constraintEnd_toStartOf="@+id/btnAddBudget"
-+        android:layout_marginEnd="8dp"/>
- 
--        <!-- Small gap between spinner and button -->
--        <Space
--            android:layout_width="8dp"
--            android:layout_height="wrap_content"/>
--
--        <!-- Add Budget Button -->
--        <ImageButton
--            android:id="@+id/btnAddBudget"
--            android:layout_width="48dp"
--            android:layout_height="48dp"
--            android:background="@drawable/teal_color_border_button"
--            android:padding="12dp"
--            android:contentDescription="Add Budget"
--            android:src="@android:drawable/ic_input_add"
--            app:tint="@color/white"
--            android:elevation="4dp"/>
--    </LinearLayout>
-+    <ImageButton
-+        android:id="@+id/btnAddBudget"
-+        android:layout_width="48dp"
-+        android:layout_height="48dp"
-+        android:background="@drawable/teal_color_border_button"
-+        android:padding="12dp"
-+        android:contentDescription="Add Budget"
-+        android:src="@android:drawable/ic_input_add"
-+        app:tint="@color/white"
-+        android:elevation="4dp"
-+        app:layout_constraintTop_toTopOf="parent"
-+        app:layout_constraintEnd_toEndOf="parent" />
-+
-+    <!-- üñºÔ∏è No Budgets Image -->
-+    <ImageView
-+        android:id="@+id/imageNoBudgets"
-+        android:layout_width="200dp"
-+        android:layout_height="200dp"
-+        android:src="@drawable/ic_no_budgets"
-+        android:contentDescription="No Budgets"
-+        android:visibility="gone"
-+        app:tint="#BBBBBB"
-+        app:layout_constraintTop_toBottomOf="@id/btnAddBudget"
-+        app:layout_constraintBottom_toBottomOf="parent"
-+        app:layout_constraintStart_toStartOf="parent"
-+        app:layout_constraintEnd_toEndOf="parent"
-+        app:layout_constraintVertical_bias="0.4" />
- 
--    <!-- RecyclerView for budget list -->
-+    <!-- üìù No Budgets Text -->
-+    <TextView
-+        android:id="@+id/textNoBudgets"
-+        android:layout_width="wrap_content"
-+        android:layout_height="wrap_content"
-+        android:text="No Budgets"
-+        android:textColor="#BBBBBB"
-+        android:textSize="16sp"
-+        android:textStyle="bold"
-+        android:visibility="gone"
-+        app:layout_constraintTop_toBottomOf="@id/imageNoBudgets"
-+        app:layout_constraintStart_toStartOf="parent"
-+        app:layout_constraintEnd_toEndOf="parent"
-+        android:layout_marginTop="8dp"/>
-+
-+    <!-- üìã RecyclerView -->
-     <androidx.recyclerview.widget.RecyclerView
-         android:id="@+id/recyclerBudgets"
--        android:layout_width="match_parent"
-+        android:layout_width="0dp"
-         android:layout_height="0dp"
--        android:layout_weight="1"
-+        app:layout_constraintTop_toBottomOf="@id/btnAddBudget"
-+        app:layout_constraintBottom_toBottomOf="parent"
-+        app:layout_constraintStart_toStartOf="parent"
-+        app:layout_constraintEnd_toEndOf="parent"
-+        android:layout_marginTop="8dp"
-         android:clipToPadding="false"
-         android:paddingBottom="8dp"
-         android:scrollbars="vertical"
-         android:divider="?attr/colorOutline"/>
--</LinearLayout>
-+</androidx.constraintlayout.widget.ConstraintLayout>
-Index: app/src/main/java/com/example/finix/ui/budget/BudgetFragment.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.finix.ui.budget;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.app.DatePickerDialog;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.AutoCompleteTextView;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\n\r\nimport com.example.finix.R;\r\nimport com.example.finix.data.Budget;\r\nimport com.example.finix.data.Category;\r\nimport com.example.finix.data.CategoryDAO;\r\nimport com.example.finix.data.FinixDatabase;\r\nimport com.example.finix.data.Transaction;\r\nimport com.example.finix.databinding.FragmentBudgetBinding;\r\nimport com.google.android.material.button.MaterialButton;\r\nimport com.google.android.material.textfield.MaterialAutoCompleteTextView;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\npublic class BudgetFragment extends Fragment {\r\n\r\n    private FragmentBudgetBinding binding;\r\n    private BudgetViewModel budgetViewModel;\r\n    private BudgetAdapter adapter;\r\n\r\n    private long startDateMillis = 0;\r\n    private long endDateMillis = 0;\r\n\r\n    public interface OnBudgetActionListener {\r\n        void onEdit(Budget budget);\r\n        void onDelete(Budget budget);\r\n    }\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        binding = FragmentBudgetBinding.inflate(inflater, container, false);\r\n        budgetViewModel = new ViewModelProvider(this).get(BudgetViewModel.class);\r\n        // --- Adapter initialized with listener for edit/delete ---\r\n        adapter = new BudgetAdapter(requireContext(), new BudgetAdapter.OnBudgetActionListener() {\r\n            @Override\r\n            public void onEdit(Budget budget) {\r\n                showAddBudgetDialog(budget); // Edit\r\n            }\r\n\r\n            @Override\r\n            public void onDelete(Budget budget) {\r\n                showDeleteConfirmationDialog(budget); //Delete\r\n            }\r\n        });\r\n\r\n        binding.recyclerBudgets.setLayoutManager(new LinearLayoutManager(getContext()));\r\n        binding.recyclerBudgets.setAdapter(adapter);\r\n\r\n        loadBudgets();\r\n\r\n        binding.btnAddBudget.setOnClickListener(v -> showAddBudgetDialog(null));\r\n\r\n        return binding.getRoot();\r\n    }\r\n\r\n    private void loadBudgets() {\r\n        new Thread(() -> {\r\n            List<Budget> budgets = budgetViewModel.getAllBudgets();\r\n            List<Transaction> transactions = FinixDatabase.getDatabase(requireContext()).transactionDao().getAllTransactions();\r\n            List<Category> categories = FinixDatabase.getDatabase(requireContext()).categoryDao().getAllCategories();\r\n\r\n            requireActivity().runOnUiThread(() -> {\r\n                adapter.setData(budgets, transactions, categories);\r\n                loadMonthFilter(budgets);\r\n            });\r\n        }).start();\r\n    }\r\n\r\n    private void showAddBudgetDialog(Budget budgetToEdit) {\r\n        View dialogView = LayoutInflater.from(getContext()).inflate(R.layout.dialog_add_budget, null);\r\n\r\n        AutoCompleteTextView etCategory = dialogView.findViewById(R.id.actCategory);\r\n        EditText etAmount = dialogView.findViewById(R.id.etAmount);\r\n        Button btnSave = dialogView.findViewById(R.id.btnSaveBudget);\r\n\r\n        LinearLayout llAddNewCategory = dialogView.findViewById(R.id.llAddNewCategory);\r\n        EditText etNewCategory = dialogView.findViewById(R.id.etNewCategory);\r\n        Button btnSaveCategory = dialogView.findViewById(R.id.btnSaveCategory);\r\n        Button btnCancelCategory = dialogView.findViewById(R.id.btnCancelCategory);\r\n\r\n        TextView tvStartDate = dialogView.findViewById(R.id.StartDate);\r\n        TextView tvEndDate = dialogView.findViewById(R.id.EndDate);\r\n        ImageButton btnPickDate1 = dialogView.findViewById(R.id.btnPickDate1);\r\n        ImageButton btnPickDate2 = dialogView.findViewById(R.id.btnPickDate2);\r\n\r\n        AlertDialog dialog = new AlertDialog.Builder(getContext())\r\n                .setView(dialogView)\r\n                .create();\r\n\r\n\r\n        // Load categories for AutoComplete\r\n        new Thread(() -> {\r\n            CategoryDAO categoryDao = FinixDatabase.getDatabase(requireContext()).categoryDao();\r\n            List<Category> categoryList = categoryDao.getAllCategories();\r\n            List<String> categoryNames = new ArrayList<>();\r\n\r\n            for (Category c : categoryList) categoryNames.add(c.getName());\r\n            categoryNames.add(\"+ Add New Category\");\r\n\r\n            requireActivity().runOnUiThread(() -> {\r\n                ArrayAdapter<String> adapter = new ArrayAdapter<>(\r\n                        requireContext(),\r\n                        android.R.layout.simple_dropdown_item_1line,\r\n                        categoryNames\r\n                );\r\n                etCategory.setAdapter(adapter);\r\n\r\n                // Show dropdown on click\r\n                etCategory.setOnClickListener(v -> etCategory.showDropDown());\r\n\r\n                // Handle selection\r\n                etCategory.setOnItemClickListener((parent, view, position, id) -> {\r\n                    String selected = categoryNames.get(position);\r\n                    if (selected.equals(\"+ Add New Category\")) {\r\n                        etCategory.setVisibility(View.GONE);\r\n                        llAddNewCategory.setVisibility(View.VISIBLE);\r\n                    } else {\r\n                        llAddNewCategory.setVisibility(View.GONE);\r\n                    }\r\n                });\r\n            });\r\n        }).start();\r\n\r\n        // Date Pickers\r\n        btnPickDate1.setOnClickListener(v -> showDatePicker(tvStartDate, true));\r\n        btnPickDate2.setOnClickListener(v -> showDatePicker(tvEndDate, false));\r\n\r\n        // --- Prefill if editing ---\r\n        if (budgetToEdit != null) { // <-- New block for edit\r\n            etAmount.setText(String.valueOf(budgetToEdit.getBudgetedAmount()));\r\n            startDateMillis = budgetToEdit.getStartDate();\r\n            endDateMillis = budgetToEdit.getEndDate();\r\n            SimpleDateFormat sdf = new SimpleDateFormat(\"dd MMM yyyy\", Locale.getDefault());\r\n            tvStartDate.setText(sdf.format(startDateMillis));\r\n            tvEndDate.setText(sdf.format(endDateMillis));\r\n\r\n            new Thread(() -> {\r\n                List<Category> categories = FinixDatabase.getDatabase(requireContext()).categoryDao().getAllCategories();\r\n                for (Category c : categories) {\r\n                    if (c.getId() == budgetToEdit.getCategoryId()) {\r\n                        String catName = c.getName();\r\n                        requireActivity().runOnUiThread(() -> etCategory.setText(catName));\r\n                        break;\r\n                    }\r\n                }\r\n            }).start();\r\n        }\r\n\r\n        // Save new category\r\n        btnSaveCategory.setOnClickListener(v -> {\r\n            String newCategoryName = etNewCategory.getText().toString().trim();\r\n            if (newCategoryName.isEmpty()) {\r\n                Toast.makeText(getContext(), \"Please enter a category name\", Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n\r\n            new Thread(() -> {\r\n                try {\r\n                    CategoryDAO categoryDao = FinixDatabase.getDatabase(requireContext()).categoryDao();\r\n\r\n                    // Insert the new category\r\n                    categoryDao.insert(new Category(newCategoryName));\r\n\r\n                    // Fetch updated categories\r\n                    List<Category> updated = categoryDao.getAllCategories();\r\n                    List<String> updatedNames = new ArrayList<>();\r\n                    for (Category c : updated) updatedNames.add(c.getName());\r\n                    updatedNames.add(\"+ Add New Category\");\r\n\r\n                    // Update UI on main thread\r\n                    requireActivity().runOnUiThread(() -> {\r\n                        showCustomMessage(\"Information\", \"Category Added \");\r\n\r\n                        // Reset visibility\r\n                        llAddNewCategory.setVisibility(View.GONE);\r\n                        etCategory.setVisibility(View.VISIBLE);\r\n                        etCategory.setText(newCategoryName);\r\n\r\n                        // Reload dropdown\r\n                        ArrayAdapter<String> newAdapter = new ArrayAdapter<>(\r\n                                requireContext(),\r\n                                android.R.layout.simple_dropdown_item_1line,\r\n                                updatedNames\r\n                        );\r\n                        etCategory.setAdapter(newAdapter);\r\n                    });\r\n\r\n                } catch (Exception e) {\r\n                    // Catch any DB or runtime exception\r\n                    requireActivity().runOnUiThread(() ->\r\n                            showCustomMessage(\"Error\", \"Error adding category: \" + e.getMessage())\r\n                    );\r\n                    e.printStackTrace();\r\n                }\r\n            }).start();\r\n        });\r\n\r\n\r\n\r\n        // Cancel adding category\r\n        btnCancelCategory.setOnClickListener(v -> {\r\n            llAddNewCategory.setVisibility(View.GONE);\r\n            etCategory.setVisibility(View.VISIBLE);\r\n        });\r\n\r\n\r\n        // Save Budget\r\n        btnSave.setOnClickListener(v -> {\r\n            String categoryName = etCategory.getText().toString().trim();\r\n            String amountText = etAmount.getText().toString().trim();\r\n\r\n            if (categoryName.isEmpty() || amountText.isEmpty() || startDateMillis == 0 || endDateMillis == 0) {\r\n                showCustomMessage(\"Error\", \"Fill all Feilds \");\r\n                return;\r\n            }\r\n\r\n            double amount;\r\n            try {\r\n                amount = Double.parseDouble(amountText);\r\n            } catch (NumberFormatException e) {\r\n                showCustomMessage(\"Error\", \"Invalid Amount : \" + e.getMessage());\r\n                return;\r\n            }\r\n\r\n            //Limit the budget amount to 999,999\r\n            if (amount > 999999) {\r\n                requireActivity().runOnUiThread(() ->\r\n                        showCustomMessage(\"Error\", \"Amount cannot exceed Rs 999,999\"));\r\n                return;\r\n            }\r\n\r\n\r\n            new Thread(() -> {\r\n                try {\r\n                    CategoryDAO categoryDao = FinixDatabase.getDatabase(requireContext()).categoryDao();\r\n                    List<Category> allCategories = categoryDao.getAllCategories();\r\n\r\n                    // Find existing category\r\n                    Category matchingCategory = null;\r\n                    for (Category c : allCategories) {\r\n                        if (c.getName().equalsIgnoreCase(categoryName)) {\r\n                            matchingCategory = c;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    int categoryId;\r\n                    if (matchingCategory == null) {\r\n                        Category newCat = new Category(categoryName);\r\n                        categoryDao.insert(newCat);\r\n\r\n                        // Fetch latest category\r\n                        List<Category> updated = categoryDao.getAllCategories();\r\n                        categoryId = updated.get(updated.size() - 1).getId();\r\n                    } else {\r\n                        categoryId = matchingCategory.getId();\r\n                    }\r\n\r\n                    if (budgetToEdit != null) { // <-- Edit mode\r\n                        budgetToEdit.setCategoryId(categoryId);\r\n                        budgetToEdit.setBudgetedAmount(amount);\r\n                        budgetToEdit.setStartDate(startDateMillis);\r\n                        budgetToEdit.setEndDate(endDateMillis);\r\n                        budgetViewModel.update(budgetToEdit); // <-- ensure ViewModel has update()\r\n                    } else { // Add mode\r\n                        Budget newBudget = new Budget(categoryId, amount, startDateMillis, endDateMillis);\r\n                        budgetViewModel.insert(newBudget);\r\n                    }\r\n\r\n                    requireActivity().runOnUiThread(() -> {\r\n                        loadBudgets();\r\n                        dialog.dismiss();\r\n                        showCustomMessage(\"Information\", \"Budged Added Sucessfully \");\r\n                    });\r\n\r\n                } catch (Exception e) {\r\n                    requireActivity().runOnUiThread(() ->\r\n                            showCustomMessage(\"Error\", \"Error Saving Budget: \" + e.getMessage())\r\n                    );\r\n                    e.printStackTrace();\r\n                }\r\n            }).start();\r\n        });\r\n\r\n        dialog.show();\r\n    }\r\n\r\n\r\n    private void showDatePicker(TextView targetView, boolean isStart) {\r\n        Calendar calendar = Calendar.getInstance();\r\n        DatePickerDialog datePickerDialog = new DatePickerDialog(\r\n                requireContext(),\r\n                (view, year, month, dayOfMonth) -> {\r\n                    calendar.set(year, month, dayOfMonth, 0, 0);\r\n                    long selectedDate = calendar.getTimeInMillis();\r\n                    SimpleDateFormat sdf = new SimpleDateFormat(\"dd MMM yyyy\", Locale.getDefault());\r\n                    targetView.setText(sdf.format(calendar.getTime()));\r\n\r\n                    if (isStart) startDateMillis = selectedDate;\r\n                    else endDateMillis = selectedDate;\r\n                },\r\n                calendar.get(Calendar.YEAR),\r\n                calendar.get(Calendar.MONTH),\r\n                calendar.get(Calendar.DAY_OF_MONTH)\r\n        );\r\n        datePickerDialog.show();\r\n    }\r\n\r\n    private void showCustomMessage(String title, String message) {\r\n        // Inflate the custom layout\r\n        View layout = LayoutInflater.from(requireContext()).inflate(R.layout.custom_message, null);\r\n\r\n        ImageView icon = layout.findViewById(R.id.toast_icon);\r\n        TextView infoLabel = layout.findViewById(R.id.info_label);\r\n        TextView toastMessage = layout.findViewById(R.id.toast_message);\r\n        ImageView closeBtn = layout.findViewById(R.id.toast_close);\r\n        ProgressBar progressBar = layout.findViewById(R.id.toast_progress);\r\n\r\n        infoLabel.setText(title);\r\n        toastMessage.setText(message);\r\n        progressBar.setProgress(100); // Can be animated if needed\r\n\r\n        // Optional: Close button\r\n        closeBtn.setOnClickListener(v -> {\r\n            if (layout.getParent() instanceof android.view.ViewGroup) {\r\n                ((ViewGroup) layout.getParent()).removeView(layout);\r\n            }\r\n        });\r\n\r\n        // Create and show toast\r\n        Toast toast = new Toast(requireContext());\r\n        toast.setDuration(Toast.LENGTH_LONG);\r\n        toast.setView(layout);\r\n        toast.show();\r\n    }\r\n\r\n    // --- NEW: Delete Confirmation Dialog ---\r\n    private void showDeleteConfirmationDialog(Budget budgetToDelete) {\r\n        View dialogView = LayoutInflater.from(getContext()).inflate(R.layout.delete_confirmation_popup, null);\r\n\r\n        Button btnCancel = dialogView.findViewById(R.id.cancelDeleteBtn);\r\n        Button btnConfirm = dialogView.findViewById(R.id.confirmDeleteBtn);\r\n\r\n        AlertDialog dialog = new AlertDialog.Builder(getContext())\r\n                .setView(dialogView)\r\n                .create();\r\n\r\n        btnCancel.setOnClickListener(v -> dialog.dismiss());\r\n\r\n        btnConfirm.setOnClickListener(v -> {\r\n            new Thread(() -> {\r\n                budgetViewModel.delete(budgetToDelete); // <-- Delete action\r\n                requireActivity().runOnUiThread(() -> {\r\n                    loadBudgets();\r\n                    dialog.dismiss();\r\n                    showCustomMessage(\"Information\", \"Budget Deleted Successfully\");\r\n                });\r\n            }).start();\r\n        });\r\n\r\n        dialog.show();\r\n    }\r\n\r\n    private void loadMonthFilter(List<Budget> budgets) {\r\n        List<String> months = new ArrayList<>();\r\n        months.add(\"All\"); // default option\r\n\r\n        SimpleDateFormat sdf = new SimpleDateFormat(\"MMMM yyyy\", Locale.getDefault());\r\n        for (Budget b : budgets) {\r\n            String month = sdf.format(new Date(b.getStartDate()));\r\n            if (!months.contains(month)) months.add(month);\r\n        }\r\n\r\n        ArrayAdapter<String> adapter = new ArrayAdapter<>(\r\n                requireContext(),\r\n                android.R.layout.simple_spinner_item,\r\n                months\r\n        );\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        binding.spinnerMonthFilter.setAdapter(adapter);\r\n\r\n        binding.spinnerMonthFilter.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {\r\n                filterBudgetsByMonth(months.get(position));\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView<?> parent) {}\r\n        });\r\n    }\r\n\r\n    private void filterBudgetsByMonth(String month) {\r\n        new Thread(() -> {\r\n            List<Budget> allBudgets = budgetViewModel.getAllBudgets();\r\n            List<Transaction> transactions = FinixDatabase.getDatabase(requireContext()).transactionDao().getAllTransactions();\r\n            List<Category> categories = FinixDatabase.getDatabase(requireContext()).categoryDao().getAllCategories();\r\n\r\n            if (!month.equals(\"All\")) {\r\n                SimpleDateFormat sdf = new SimpleDateFormat(\"MMMM yyyy\", Locale.getDefault());\r\n                List<Budget> filtered = new ArrayList<>();\r\n                for (Budget b : allBudgets) {\r\n                    if (sdf.format(new Date(b.getStartDate())).equals(month)) filtered.add(b);\r\n                }\r\n                allBudgets = filtered;\r\n            }\r\n\r\n            List<Budget> finalBudgets = allBudgets;\r\n            requireActivity().runOnUiThread(() -> adapter.setData(finalBudgets, transactions, categories));\r\n        }).start();\r\n    }\r\n\r\n\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/finix/ui/budget/BudgetFragment.java b/app/src/main/java/com/example/finix/ui/budget/BudgetFragment.java
---- a/app/src/main/java/com/example/finix/ui/budget/BudgetFragment.java	(revision aeff7419715d5d540dc246f922fac8ddd8b6be06)
-+++ b/app/src/main/java/com/example/finix/ui/budget/BudgetFragment.java	(date 1762076737015)
-@@ -2,25 +2,32 @@
- 
- import android.app.AlertDialog;
- import android.app.DatePickerDialog;
-+import android.content.DialogInterface;
-+import android.graphics.Color;
-+import android.graphics.drawable.ColorDrawable;
- import android.os.Bundle;
-+import android.os.CountDownTimer;
- import android.view.LayoutInflater;
- import android.view.View;
- import android.view.ViewGroup;
-+import android.view.Window;
-+import android.view.WindowManager;
- import android.widget.AdapterView;
- import android.widget.ArrayAdapter;
- import android.widget.AutoCompleteTextView;
- import android.widget.Button;
- import android.widget.EditText;
- import android.widget.ImageButton;
--import android.widget.ImageView;
-+import android.widget.ImageView; // <-- Ensure this is imported
- import android.widget.LinearLayout;
- import android.widget.ProgressBar;
--import android.widget.TextView;
-+import android.widget.TextView; // <-- Ensure this is imported
- import android.widget.Toast;
- 
- import androidx.fragment.app.Fragment;
- import androidx.lifecycle.ViewModelProvider;
- import androidx.recyclerview.widget.LinearLayoutManager;
-+import androidx.recyclerview.widget.RecyclerView; // <-- Need to access RecyclerView outside of binding
- 
- import com.example.finix.R;
- import com.example.finix.data.Budget;
-@@ -45,6 +52,12 @@
-     private BudgetViewModel budgetViewModel;
-     private BudgetAdapter adapter;
- 
-+    // üí° NEW: Placeholder views for empty state
-+    private ImageView imageNoBudgets;
-+    private TextView textNoBudgets;
-+    private RecyclerView recyclerBudgets;
-+    // ------------------------------------
-+
-     private long startDateMillis = 0;
-     private long endDateMillis = 0;
- 
-@@ -58,6 +71,13 @@
- 
-         binding = FragmentBudgetBinding.inflate(inflater, container, false);
-         budgetViewModel = new ViewModelProvider(this).get(BudgetViewModel.class);
-+
-+        // üí° NEW: Initialize RecyclerView and Placeholder views
-+        recyclerBudgets = binding.recyclerBudgets;
-+        imageNoBudgets = binding.getRoot().findViewById(R.id.imageNoBudgets);
-+        textNoBudgets = binding.getRoot().findViewById(R.id.textNoBudgets);
-+        // ------------------------------------
-+
-         // --- Adapter initialized with listener for edit/delete ---
-         adapter = new BudgetAdapter(requireContext(), new BudgetAdapter.OnBudgetActionListener() {
-             @Override
-@@ -71,8 +91,8 @@
-             }
-         });
- 
--        binding.recyclerBudgets.setLayoutManager(new LinearLayoutManager(getContext()));
--        binding.recyclerBudgets.setAdapter(adapter);
-+        recyclerBudgets.setLayoutManager(new LinearLayoutManager(getContext()));
-+        recyclerBudgets.setAdapter(adapter);
- 
-         loadBudgets();
- 
-@@ -88,15 +108,53 @@
-             List<Category> categories = FinixDatabase.getDatabase(requireContext()).categoryDao().getAllCategories();
- 
-             requireActivity().runOnUiThread(() -> {
--                adapter.setData(budgets, transactions, categories);
--                loadMonthFilter(budgets);
-+                // Check if any budgets were loaded
-+                boolean hasBudgets = budgets != null && !budgets.isEmpty();
-+
-+                // Get a reference to the Spinner
-+                View spinner = binding.spinnerMonthFilter;
-+
-+                if (hasBudgets) {
-+                    // 1. Show the budget list and the filter
-+                    recyclerBudgets.setVisibility(View.VISIBLE);
-+                    spinner.setVisibility(View.VISIBLE); // SHOW the filter
-+
-+                    // 2. Hide the empty state indicators
-+                    imageNoBudgets.setVisibility(View.GONE);
-+                    textNoBudgets.setVisibility(View.GONE);
-+
-+                    // 3. Load data into the adapter and populate the filter options
-+                    adapter.setData(budgets, transactions, categories);
-+                    loadMonthFilter(budgets);
-+                } else {
-+                    // 1. Hide the budget list, but make the filter INVISIBLE (keeps its space)
-+                    recyclerBudgets.setVisibility(View.GONE);
-+                    spinner.setVisibility(View.INVISIBLE); // üí° FIX: Use INVISIBLE to prevent the button from moving left
-+
-+                    // 2. Show the empty state indicators
-+                    imageNoBudgets.setVisibility(View.VISIBLE);
-+                    textNoBudgets.setVisibility(View.VISIBLE);
-+                }
-             });
-         }).start();
-     }
- 
-     private void showAddBudgetDialog(Budget budgetToEdit) {
--        View dialogView = LayoutInflater.from(getContext()).inflate(R.layout.dialog_add_budget, null);
-+        View dialogView = LayoutInflater.from(requireContext()).inflate(R.layout.dialog_add_budget, null);
-+        AlertDialog dialog = new AlertDialog.Builder(requireContext()).setView(dialogView).create();
-+
-+        if (dialog.getWindow() != null) {
-+            // CRITICAL FIX 1: Force Full Width and Full Height
-+            dialog.getWindow().setLayout(WindowManager.LayoutParams.MATCH_PARENT, WindowManager.LayoutParams.MATCH_PARENT);
- 
-+            // CRITICAL FIX 2: Ensure dialog resizes when keyboard appears
-+            dialog.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE);
-+
-+            // CRITICAL FIX 3: Remove default AlertDialog padding/insets for true full screen
-+            dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));
-+        }
-+
-+        TextView tvDialogTitle = dialogView.findViewById(R.id.tvDialogTitle); // Added for title change
-         AutoCompleteTextView etCategory = dialogView.findViewById(R.id.actCategory);
-         EditText etAmount = dialogView.findViewById(R.id.etAmount);
-         Button btnSave = dialogView.findViewById(R.id.btnSaveBudget);
-@@ -111,20 +169,39 @@
-         ImageButton btnPickDate1 = dialogView.findViewById(R.id.btnPickDate1);
-         ImageButton btnPickDate2 = dialogView.findViewById(R.id.btnPickDate2);
- 
--        AlertDialog dialog = new AlertDialog.Builder(getContext())
--                .setView(dialogView)
--                .create();
-+        // --- Variables to store original values for edit check ---
-+        final boolean isEditing = (budgetToEdit != null);
-+        final long originalStartDate = isEditing ? budgetToEdit.getStartDate() : 0;
-+        final long originalEndDate = isEditing ? budgetToEdit.getEndDate() : 0;
-+        final double originalAmount = isEditing ? budgetToEdit.getBudgetedAmount() : 0.0;
-+        // Category ID requires an async lookup, so we use a holder
-+        final int[] originalCategoryId = {isEditing ? budgetToEdit.getCategoryId() : 0};
-+        final int originalBudgetId = isEditing ? budgetToEdit.getId() : 0; // Needed for exclusion check in Edit Mode
-+
-+        // --- UI Setup for Edit Mode ---
-+        if (isEditing) {
-+            tvDialogTitle.setText("Edit Budget");
-+            btnSave.setText("Update Budget");
-+        } else {
-+            tvDialogTitle.setText("Add New Budget");
-+            btnSave.setText("Save");
-+        }
- 
- 
-         // Load categories for AutoComplete
-         new Thread(() -> {
-             CategoryDAO categoryDao = FinixDatabase.getDatabase(requireContext()).categoryDao();
-             List<Category> categoryList = categoryDao.getAllCategories();
-+
-+            // 1. Initialize the list with the special option first (Fix for category order)
-             List<String> categoryNames = new ArrayList<>();
--
--            for (Category c : categoryList) categoryNames.add(c.getName());
-             categoryNames.add("+ Add New Category");
- 
-+            // 2. Add all fetched category names after the special option
-+            for (Category c : categoryList) {
-+                categoryNames.add(c.getName());
-+            }
-+
-             requireActivity().runOnUiThread(() -> {
-                 ArrayAdapter<String> adapter = new ArrayAdapter<>(
-                         requireContext(),
-@@ -138,6 +215,7 @@
- 
-                 // Handle selection
-                 etCategory.setOnItemClickListener((parent, view, position, id) -> {
-+                    // Note: The position variable now correctly reflects the index in the new list order
-                     String selected = categoryNames.get(position);
-                     if (selected.equals("+ Add New Category")) {
-                         etCategory.setVisibility(View.GONE);
-@@ -154,10 +232,10 @@
-         btnPickDate2.setOnClickListener(v -> showDatePicker(tvEndDate, false));
- 
-         // --- Prefill if editing ---
--        if (budgetToEdit != null) { // <-- New block for edit
-+        if (isEditing) { // <-- Use isEditing flag
-             etAmount.setText(String.valueOf(budgetToEdit.getBudgetedAmount()));
--            startDateMillis = budgetToEdit.getStartDate();
--            endDateMillis = budgetToEdit.getEndDate();
-+            startDateMillis = originalStartDate; // Set initial state
-+            endDateMillis = originalEndDate;     // Set initial state
-             SimpleDateFormat sdf = new SimpleDateFormat("dd MMM yyyy", Locale.getDefault());
-             tvStartDate.setText(sdf.format(startDateMillis));
-             tvEndDate.setText(sdf.format(endDateMillis));
-@@ -168,6 +246,8 @@
-                     if (c.getId() == budgetToEdit.getCategoryId()) {
-                         String catName = c.getName();
-                         requireActivity().runOnUiThread(() -> etCategory.setText(catName));
-+                        // originalCategoryId[0] is already set, but confirm it's correct
-+                        originalCategoryId[0] = c.getId();
-                         break;
-                     }
-                 }
-@@ -187,17 +267,28 @@
-                     CategoryDAO categoryDao = FinixDatabase.getDatabase(requireContext()).categoryDao();
- 
-                     // Insert the new category
--                    categoryDao.insert(new Category(newCategoryName));
-+                    Category newCategory = new Category(newCategoryName);
-+                    long newRowId = categoryDao.insert(newCategory); // Get the ID of the new category
- 
-                     // Fetch updated categories
-                     List<Category> updated = categoryDao.getAllCategories();
-                     List<String> updatedNames = new ArrayList<>();
--                    for (Category c : updated) updatedNames.add(c.getName());
-+
-+                    // Fix: Ensure "+ Add New Category" is first when reloading the list
-                     updatedNames.add("+ Add New Category");
-+                    for (Category c : updated) updatedNames.add(c.getName());
-+
-+                    // After saving a new category during an edit, update the originalCategoryId holder
-+                    if (isEditing) {
-+                        Category savedCat = categoryDao.getCategoryById((int)newRowId);
-+                        if (savedCat != null) {
-+                            originalCategoryId[0] = savedCat.getId();
-+                        }
-+                    }
- 
-                     // Update UI on main thread
-                     requireActivity().runOnUiThread(() -> {
--                        showCustomMessage("Information", "Category Added ");
-+                        showCustomToast("Category Added");
- 
-                         // Reset visibility
-                         llAddNewCategory.setVisibility(View.GONE);
-@@ -216,7 +307,7 @@
-                 } catch (Exception e) {
-                     // Catch any DB or runtime exception
-                     requireActivity().runOnUiThread(() ->
--                            showCustomMessage("Error", "Error adding category: " + e.getMessage())
-+                            showCustomToast("Error adding category: " + e.getMessage())
-                     );
-                     e.printStackTrace();
-                 }
-@@ -224,7 +315,6 @@
-         });
- 
- 
--
-         // Cancel adding category
-         btnCancelCategory.setOnClickListener(v -> {
-             llAddNewCategory.setVisibility(View.GONE);
-@@ -232,13 +322,13 @@
-         });
- 
- 
--        // Save Budget
-+        // Save/Update Budget
-         btnSave.setOnClickListener(v -> {
-             String categoryName = etCategory.getText().toString().trim();
-             String amountText = etAmount.getText().toString().trim();
- 
-             if (categoryName.isEmpty() || amountText.isEmpty() || startDateMillis == 0 || endDateMillis == 0) {
--                showCustomMessage("Error", "Fill all Feilds ");
-+                showCustomToast("Fill all Fields");
-                 return;
-             }
- 
-@@ -246,14 +336,14 @@
-             try {
-                 amount = Double.parseDouble(amountText);
-             } catch (NumberFormatException e) {
--                showCustomMessage("Error", "Invalid Amount : " + e.getMessage());
-+                showCustomToast("Invalid Amount: " + e.getMessage());
-                 return;
-             }
- 
-             //Limit the budget amount to 999,999
-             if (amount > 999999) {
-                 requireActivity().runOnUiThread(() ->
--                        showCustomMessage("Error", "Amount cannot exceed Rs 999,999"));
-+                        showCustomToast("Amount cannot exceed Rs 999,999"));
-                 return;
-             }
- 
-@@ -274,6 +364,7 @@
- 
-                     int categoryId;
-                     if (matchingCategory == null) {
-+                        // If category is brand new and not saved via the inline form, save it now.
-                         Category newCat = new Category(categoryName);
-                         categoryDao.insert(newCat);
- 
-@@ -284,13 +375,66 @@
-                         categoryId = matchingCategory.getId();
-                     }
- 
--                    if (budgetToEdit != null) { // <-- Edit mode
-+                    // --- NEW VALIDATION: Check for existing budget in the same month/category ---
-+
-+                    // Set up a SimpleDateFormat to compare only Month and Year
-+                    SimpleDateFormat monthYearFormat = new SimpleDateFormat("MMMM yyyy", Locale.getDefault());
-+                    String newBudgetDateString = monthYearFormat.format(new Date(startDateMillis));
-+
-+                    List<Budget> existingBudgets = budgetViewModel.getAllBudgets();
-+
-+                    for (Budget existingBudget : existingBudgets) {
-+                        // Skip the current budget being edited to allow changes to itself
-+                        if (isEditing && existingBudget.getId() == originalBudgetId) {
-+                            continue;
-+                        }
-+
-+                        // 1. Check if the categories match
-+                        if (existingBudget.getCategoryId() == categoryId) {
-+
-+                            String existingBudgetDateString = monthYearFormat.format(new Date(existingBudget.getStartDate()));
-+
-+                            // 2. Check if the month and year match
-+                            if (newBudgetDateString.equals(existingBudgetDateString)) {
-+
-+                                // DUPLICATE BUDGET FOUND! Prevent insertion/update.
-+                                requireActivity().runOnUiThread(() -> {
-+                                    showCustomToast("A budget for '" + categoryName + "' already exists in " + newBudgetDateString);
-+                                });
-+                                return; // STOP execution of the thread
-+                            }
-+                        }
-+                    }
-+                    // ------------------ END NEW VALIDATION -------------------
-+
-+                    // --- VALIDATION: Check for no changes during Edit mode ---
-+                    if (isEditing) {
-+                        boolean categoryChanged = (categoryId != originalCategoryId[0]);
-+                        boolean amountChanged = (Math.abs(amount - originalAmount) > 0.001); // Use delta for double comparison
-+                        boolean startDateChanged = (startDateMillis != originalStartDate);
-+                        boolean endDateChanged = (endDateMillis != originalEndDate);
-+
-+                        if (!categoryChanged && !amountChanged && !startDateChanged && !endDateChanged) {
-+                            requireActivity().runOnUiThread(() -> {
-+                                // Do NOT dismiss dialog
-+                                showCustomToast("No changes detected.");
-+                            });
-+                            return; // Stop execution, keep dialog open
-+                        }
-+                    }
-+
-+                    // --- Proceed with Save/Update ---
-+                    String successMessage;
-+
-+                    if (isEditing) { // <-- Edit mode
-                         budgetToEdit.setCategoryId(categoryId);
-                         budgetToEdit.setBudgetedAmount(amount);
-                         budgetToEdit.setStartDate(startDateMillis);
-                         budgetToEdit.setEndDate(endDateMillis);
--                        budgetViewModel.update(budgetToEdit); // <-- ensure ViewModel has update()
--                    } else { // Add mode
-+                        budgetViewModel.update(budgetToEdit);
-+                        successMessage = "Budget Updated Successfully";
-+                    } else {
-+                        successMessage = "Budget Added Successfully"; // Add mode
-                         Budget newBudget = new Budget(categoryId, amount, startDateMillis, endDateMillis);
-                         budgetViewModel.insert(newBudget);
-                     }
-@@ -298,12 +442,12 @@
-                     requireActivity().runOnUiThread(() -> {
-                         loadBudgets();
-                         dialog.dismiss();
--                        showCustomMessage("Information", "Budged Added Sucessfully ");
-+                        showCustomToast(successMessage);
-                     });
- 
-                 } catch (Exception e) {
-                     requireActivity().runOnUiThread(() ->
--                            showCustomMessage("Error", "Error Saving Budget: " + e.getMessage())
-+                            showCustomToast("Error Saving Budget: " + e.getMessage())
-                     );
-                     e.printStackTrace();
-                 }
-@@ -319,7 +463,10 @@
-         DatePickerDialog datePickerDialog = new DatePickerDialog(
-                 requireContext(),
-                 (view, year, month, dayOfMonth) -> {
--                    calendar.set(year, month, dayOfMonth, 0, 0);
-+                    // Ensure time is set to midnight (00:00:00) for accurate date comparisons
-+                    calendar.set(year, month, dayOfMonth, 0, 0, 0);
-+                    calendar.set(Calendar.MILLISECOND, 0);
-+
-                     long selectedDate = calendar.getTimeInMillis();
-                     SimpleDateFormat sdf = new SimpleDateFormat("dd MMM yyyy", Locale.getDefault());
-                     targetView.setText(sdf.format(calendar.getTime()));
-@@ -331,63 +478,143 @@
-                 calendar.get(Calendar.MONTH),
-                 calendar.get(Calendar.DAY_OF_MONTH)
-         );
-+
-         datePickerDialog.show();
-+
-+        // --- ADDED: Color customization for buttons ---
-+        datePickerDialog.getButton(DialogInterface.BUTTON_POSITIVE)
-+                .setTextColor(Color.parseColor("#00BFA5")); // Teal color for OK button
-+        datePickerDialog.getButton(DialogInterface.BUTTON_NEGATIVE)
-+                .setTextColor(Color.parseColor("#FF5252")); // Red color for CANCEL button
-+        // ---------------------------------------------
-     }
- 
--    private void showCustomMessage(String title, String message) {
--        // Inflate the custom layout
--        View layout = LayoutInflater.from(requireContext()).inflate(R.layout.custom_message, null);
-+    /**
-+     * Replaces showCustomMessage with a custom toast-like AlertDialog at the bottom.
-+     * @param message The message to display.
-+     */
-+    private void showCustomToast(String message) {
-+        LayoutInflater inflater = getLayoutInflater();
-+        View layout = inflater.inflate(R.layout.custom_message, null);
- 
--        ImageView icon = layout.findViewById(R.id.toast_icon);
--        TextView infoLabel = layout.findViewById(R.id.info_label);
--        TextView toastMessage = layout.findViewById(R.id.toast_message);
--        ImageView closeBtn = layout.findViewById(R.id.toast_close);
-+        TextView text = layout.findViewById(R.id.toast_message);
-+        ImageView close = layout.findViewById(R.id.toast_close);
-         ProgressBar progressBar = layout.findViewById(R.id.toast_progress);
- 
--        infoLabel.setText(title);
--        toastMessage.setText(message);
--        progressBar.setProgress(100); // Can be animated if needed
-+        text.setText(message);
-+        progressBar.setProgress(100);
-+
-+        androidx.appcompat.app.AlertDialog dialog = new androidx.appcompat.app.AlertDialog.Builder(requireContext())
-+                .setView(layout)
-+                .create();
- 
--        // Optional: Close button
--        closeBtn.setOnClickListener(v -> {
--            if (layout.getParent() instanceof android.view.ViewGroup) {
--                ((ViewGroup) layout.getParent()).removeView(layout);
--            }
--        });
-+        close.setOnClickListener(v -> dialog.dismiss());
-+
-+        if (dialog.getWindow() != null) {
-+            dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));
-+            dialog.getWindow().setDimAmount(0f);
-+
-+            WindowManager.LayoutParams params = dialog.getWindow().getAttributes();
-+            params.width = WindowManager.LayoutParams.MATCH_PARENT;
-+            params.height = WindowManager.LayoutParams.WRAP_CONTENT;
-+
-+            // Set gravity to BOTTOM
-+            params.gravity = android.view.Gravity.BOTTOM;
-+
-+            // Set offset from bottom in pixels
-+            params.y = 50;
-+
-+            dialog.getWindow().setAttributes(params);
-+        }
-+
-+        dialog.show();
- 
--        // Create and show toast
--        Toast toast = new Toast(requireContext());
--        toast.setDuration(Toast.LENGTH_LONG);
--        toast.setView(layout);
--        toast.show();
-+        new CountDownTimer(3000, 50) {
-+            public void onTick(long millisUntilFinished) {
-+                int progress = (int) ((millisUntilFinished / 3000.0) * 100);
-+                progressBar.setProgress(progress);
-+            }
-+            public void onFinish() {
-+                if (dialog.isShowing()) dialog.dismiss();
-+            }
-+        }.start();
-     }
- 
--    // --- NEW: Delete Confirmation Dialog ---
-+    // Inside BudgetFragment.java
-     private void showDeleteConfirmationDialog(Budget budgetToDelete) {
--        View dialogView = LayoutInflater.from(getContext()).inflate(R.layout.delete_confirmation_popup, null);
-+        // ... (All the dialog setup before fetching the category name)
-+
-+        // *** FIX: Perform synchronous database access on a background thread ***
-+        new Thread(() -> {
-+            // Synchronously fetch the category name in the background
-+            String categoryName = getCategoryName(budgetToDelete.getCategoryId());
-+
-+            // Once the name is fetched, switch back to the main thread to update the UI (the dialog message)
-+            requireActivity().runOnUiThread(() -> {
-+                View dialogView = LayoutInflater.from(getContext()).inflate(R.layout.delete_confirmation_popup, null);
- 
--        Button btnCancel = dialogView.findViewById(R.id.cancelDeleteBtn);
--        Button btnConfirm = dialogView.findViewById(R.id.confirmDeleteBtn);
-+                TextView tvMessage = dialogView.findViewById(R.id.deleteMessage);
-+                Button btnCancel = dialogView.findViewById(R.id.cancelDeleteBtn);
-+                Button btnConfirm = dialogView.findViewById(R.id.confirmDeleteBtn);
- 
--        AlertDialog dialog = new AlertDialog.Builder(getContext())
--                .setView(dialogView)
--                .create();
-+                // 1. Set Custom Message
-+                String message = "Are you sure you want to delete the budget for '" + categoryName + "'?";
-+                tvMessage.setText(message);
-+                // -----------------------------
-+
-+                AlertDialog dialog = new AlertDialog.Builder(getContext())
-+                        .setView(dialogView)
-+                        .setCancelable(true)
-+                        .create();
- 
--        btnCancel.setOnClickListener(v -> dialog.dismiss());
-+                // The dialog MUST be shown before setting window properties
-+                dialog.show();
-+
-+                // ... (Rest of dialog customization and button listeners)
-+
-+                // --- 2. Window Customization (Moved to after show() and using 70% width) ---
-+                Window window = dialog.getWindow();
-+                if (window != null) {
-+                    // Set transparent background
-+                    window.setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));
-+
-+                    // Set width to 70% of screen (CHANGED from 0.8)
-+                    int dialogWidth = (int)(requireActivity().getResources().getDisplayMetrics().widthPixels * 0.7);
-+                    window.setLayout(dialogWidth, WindowManager.LayoutParams.WRAP_CONTENT);
-+                }
-+                // --------------------------------------------------------
-+
-+                btnCancel.setOnClickListener(v -> dialog.dismiss());
- 
--        btnConfirm.setOnClickListener(v -> {
--            new Thread(() -> {
--                budgetViewModel.delete(budgetToDelete); // <-- Delete action
--                requireActivity().runOnUiThread(() -> {
--                    loadBudgets();
--                    dialog.dismiss();
--                    showCustomMessage("Information", "Budget Deleted Successfully");
--                });
--            }).start();
--        });
-+                btnConfirm.setOnClickListener(v -> {
-+                    // The actual delete operation is already on a background thread later on
-+                    new Thread(() -> {
-+                        budgetViewModel.delete(budgetToDelete); // <-- Delete action
-+                        requireActivity().runOnUiThread(() -> {
-+                            loadBudgets();
-+                            dialog.dismiss();
-+                            showCustomToast("Budget Deleted Successfully");
-+                        });
-+                    }).start();
-+                });
-+            });
-+        }).start();
-+    }
- 
--        dialog.show();
-+    /**
-+     * Synchronously fetches the category name. Only call from a background thread or a helper method.
-+     */
-+    private String getCategoryName(int categoryId) {
-+        CategoryDAO categoryDao = FinixDatabase.getDatabase(requireContext()).categoryDao();
-+        List<Category> categories = categoryDao.getAllCategories();
-+        for (Category c : categories) {
-+            if (c.getId() == categoryId) {
-+                return c.getName();
-+            }
-+        }
-+        return "Unknown Category";
-     }
-+
- 
-     private void loadMonthFilter(List<Budget> budgets) {
-         List<String> months = new ArrayList<>();
-@@ -437,6 +664,4 @@
-             requireActivity().runOnUiThread(() -> adapter.setData(finalBudgets, transactions, categories));
-         }).start();
-     }
--
--
--}
-+}
-\ No newline at end of file
-Index: app/src/main/res/layout/dialog_add_budget.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:orientation=\"vertical\"\r\n    android:padding=\"24dp\"\r\n    android:background=\"@drawable/glassy_teal_popup\">\r\n\r\n    <!-- Dialog Title: Changed to WHITE text for contrast on dark teal background -->\r\n    <TextView\r\n        android:id=\"@+id/tvDialogTitle\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Add New Budget\"\r\n        android:textSize=\"20sp\"\r\n        android:textStyle=\"bold\"\r\n        android:textColor=\"@color/white\"\r\n        android:layout_gravity=\"center_horizontal\"\r\n        android:layout_marginBottom=\"16dp\"/>\r\n\r\n    <!-- Category Section -->\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:orientation=\"vertical\"\r\n        android:layout_marginBottom=\"12dp\">\r\n\r\n        <!-- Category Dropdown -->\r\n        <AutoCompleteTextView\r\n            android:id=\"@+id/actCategory\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:hint=\"Select category\"\r\n            android:background=\"@drawable/edittext_bg\"\r\n            android:padding=\"12dp\"\r\n            android:textColor=\"@color/white\"\r\n            android:textColorHint=\"@color/white\"\r\n            android:dropDownWidth=\"match_parent\"\r\n            android:dropDownSelector=\"@color/teal_700\"\r\n            android:layout_marginBottom=\"8dp\"/>\r\n\r\n        <!-- Add New Category Section -->\r\n        <LinearLayout\r\n            android:id=\"@+id/llAddNewCategory\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"horizontal\"\r\n            android:gravity=\"center_vertical\"\r\n            android:visibility=\"gone\"\r\n            android:layout_marginBottom=\"12dp\">\r\n\r\n            <EditText\r\n                android:id=\"@+id/etNewCategory\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_weight=\"1\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:hint=\"New category\"\r\n                android:background=\"@drawable/edittext_bg\"\r\n                android:padding=\"12dp\"\r\n                android:maxLength=\"14\"\r\n                android:textColor=\"@color/white\"\r\n                android:textColorHint=\"@color/black\" />\r\n\r\n            <androidx.appcompat.widget.AppCompatButton\r\n                android:id=\"@+id/btnSaveCategory\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"Save\"\r\n                android:layout_marginStart=\"8dp\"\r\n                android:background=\"@drawable/glassy_teal_button\"\r\n                android:textColor=\"@color/white\" />\r\n\r\n            <androidx.appcompat.widget.AppCompatButton\r\n                android:id=\"@+id/btnCancelCategory\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"Back\"\r\n                android:layout_marginStart=\"8dp\"\r\n                android:background=\"@drawable/glassy_gray_button\"\r\n                android:textColor=\"@color/white\" />\r\n        </LinearLayout>\r\n    </LinearLayout>\r\n\r\n\r\n    <!-- Budget Amount Input -->\r\n    <EditText\r\n        android:id=\"@+id/etAmount\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"12dp\"\r\n        android:hint=\"Budget Amount\"\r\n        android:inputType=\"numberDecimal\"\r\n        android:maxLength=\"6\"\r\n        android:padding=\"12dp\"\r\n        android:textColor=\"@color/white\"\r\n        android:textColorHint=\"@color/white\"\r\n        android:background=\"@drawable/edittext_bg\" />\r\n\r\n    <!-- Start Date/Time Picker -->\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:orientation=\"horizontal\"\r\n        android:gravity=\"center_vertical\"\r\n        android:layout_marginTop=\"25dp\"\r\n        android:layout_marginBottom=\"12dp\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/StartDate\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_weight=\"1\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Select Start Date\"\r\n            android:textColor=\"@color/white\"\r\n            android:textColorHint=\"@color/white\"\r\n            android:background=\"@drawable/edittext_bg\"\r\n            android:padding=\"12dp\"\r\n            android:layout_marginEnd=\"8dp\"\r\n            android:gravity=\"center_vertical\"/> <!-- Added gravity for alignment -->\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/btnPickDate1\"\r\n            android:layout_width=\"40dp\"\r\n            android:layout_height=\"40dp\"\r\n            android:background=\"?attr/selectableItemBackgroundBorderless\"\r\n            android:src=\"@drawable/ic_calendar_custom2\"\r\n            app:tint=\"@color/white\"\r\n            android:contentDescription=\"Pick Start Date\"/>\r\n    </LinearLayout>\r\n\r\n\r\n    <!-- End Date/Time Picker -->\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:orientation=\"horizontal\"\r\n        android:gravity=\"center_vertical\"\r\n        android:layout_marginBottom=\"12dp\"\r\n        android:layout_marginTop=\"20dp\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/EndDate\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_weight=\"1\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Select End Date\"\r\n            android:textColor=\"@color/white\"\r\n            android:textColorHint=\"@color/white\"\r\n            android:background=\"@drawable/edittext_bg\"\r\n            android:padding=\"12dp\"\r\n            android:layout_marginEnd=\"8dp\"\r\n            android:gravity=\"center_vertical\"/> <!-- Added gravity for alignment -->\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/btnPickDate2\"\r\n            android:layout_width=\"40dp\"\r\n            android:layout_height=\"40dp\"\r\n            android:background=\"?attr/selectableItemBackgroundBorderless\"\r\n            android:src=\"@drawable/ic_calendar_custom2\"\r\n            app:tint=\"@color/white\"\r\n            android:contentDescription=\"Pick End Date\"/>\r\n    </LinearLayout>\r\n\r\n    <!-- Save Button -->\r\n    <com.google.android.material.button.MaterialButton\r\n        android:id=\"@+id/btnSaveBudget\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Save\"\r\n        android:textAllCaps=\"false\"\r\n        android:layout_marginTop=\"16dp\"\r\n        app:cornerRadius=\"12dp\"\r\n        app:backgroundTint=\"@color/teal_700\"\r\n        android:icon=\"@android:drawable/ic_input_add\"\r\n        android:iconTint=\"@color/white\"\r\n        app:iconPadding=\"8dp\"/>\r\n</LinearLayout>\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/dialog_add_budget.xml b/app/src/main/res/layout/dialog_add_budget.xml
---- a/app/src/main/res/layout/dialog_add_budget.xml	(revision aeff7419715d5d540dc246f922fac8ddd8b6be06)
-+++ b/app/src/main/res/layout/dialog_add_budget.xml	(date 1762065457304)
-@@ -1,33 +1,36 @@
- <?xml version="1.0" encoding="utf-8"?>
--<LinearLayout
-+<ScrollView
-     xmlns:android="http://schemas.android.com/apk/res/android"
-     xmlns:app="http://schemas.android.com/apk/res-auto"
-     android:layout_width="match_parent"
-     android:layout_height="wrap_content"
--    android:orientation="vertical"
-     android:padding="24dp"
-     android:background="@drawable/glassy_teal_popup">
- 
--    <!-- Dialog Title: Changed to WHITE text for contrast on dark teal background -->
--    <TextView
--        android:id="@+id/tvDialogTitle"
--        android:layout_width="wrap_content"
--        android:layout_height="wrap_content"
--        android:text="Add New Budget"
--        android:textSize="20sp"
--        android:textStyle="bold"
--        android:textColor="@color/white"
--        android:layout_gravity="center_horizontal"
--        android:layout_marginBottom="16dp"/>
-+    <LinearLayout
-+        android:layout_width="match_parent"
-+        android:layout_height="wrap_content"
-+        android:orientation="vertical">
-+
-+        <TextView
-+            android:id="@+id/tvDialogTitle"
-+            android:layout_width="match_parent"
-+            android:layout_height="wrap_content"
-+            android:text="Add New Budget"
-+            android:textSize="20sp"
-+            android:textStyle="bold"
-+            android:textColor="@color/white"
-+            android:gravity="center"
-+            android:paddingBottom="16dp"/>
- 
--    <!-- Category Section -->
--    <LinearLayout
--        android:layout_width="match_parent"
--        android:layout_height="wrap_content"
--        android:orientation="vertical"
--        android:layout_marginBottom="12dp">
-+        <TextView
-+            android:layout_width="match_parent"
-+            android:layout_height="wrap_content"
-+            android:text="Category"
-+            android:textColor="@color/white"
-+            android:textStyle="bold"
-+            android:layout_marginBottom="4dp" />
- 
--        <!-- Category Dropdown -->
-         <AutoCompleteTextView
-             android:id="@+id/actCategory"
-             android:layout_width="match_parent"
-@@ -37,11 +40,8 @@
-             android:padding="12dp"
-             android:textColor="@color/white"
-             android:textColorHint="@color/white"
--            android:dropDownWidth="match_parent"
--            android:dropDownSelector="@color/teal_700"
--            android:layout_marginBottom="8dp"/>
-+            android:layout_marginBottom="12dp"/>
- 
--        <!-- Add New Category Section -->
-         <LinearLayout
-             android:id="@+id/llAddNewCategory"
-             android:layout_width="match_parent"
-@@ -61,10 +61,11 @@
-                 android:padding="12dp"
-                 android:maxLength="14"
-                 android:textColor="@color/white"
--                android:textColorHint="@color/black" />
-+                android:textColorHint="@color/white" />
- 
-             <androidx.appcompat.widget.AppCompatButton
-                 android:id="@+id/btnSaveCategory"
-+                android:backgroundTint="@null"
-                 android:layout_width="wrap_content"
-                 android:layout_height="wrap_content"
-                 android:text="Save"
-@@ -74,6 +75,7 @@
- 
-             <androidx.appcompat.widget.AppCompatButton
-                 android:id="@+id/btnCancelCategory"
-+                android:backgroundTint="@null"
-                 android:layout_width="wrap_content"
-                 android:layout_height="wrap_content"
-                 android:text="Back"
-@@ -81,99 +83,110 @@
-                 android:background="@drawable/glassy_gray_button"
-                 android:textColor="@color/white" />
-         </LinearLayout>
--    </LinearLayout>
- 
-+        <TextView
-+            android:layout_width="match_parent"
-+            android:layout_height="wrap_content"
-+            android:text="Budget Amount"
-+            android:textColor="@color/white"
-+            android:textStyle="bold"
-+            android:layout_marginBottom="4dp" />
- 
--    <!-- Budget Amount Input -->
--    <EditText
--        android:id="@+id/etAmount"
--        android:layout_width="match_parent"
--        android:layout_height="wrap_content"
--        android:layout_marginTop="12dp"
--        android:hint="Budget Amount"
--        android:inputType="numberDecimal"
--        android:maxLength="6"
--        android:padding="12dp"
--        android:textColor="@color/white"
--        android:textColorHint="@color/white"
--        android:background="@drawable/edittext_bg" />
-+        <EditText
-+            android:id="@+id/etAmount"
-+            android:layout_width="match_parent"
-+            android:layout_height="wrap_content"
-+            android:hint="Enter amount"
-+            android:inputType="numberDecimal"
-+            android:maxLength="6"
-+            android:padding="12dp"
-+            android:textColor="@color/white"
-+            android:textColorHint="@color/white"
-+            android:background="@drawable/edittext_bg"
-+            android:layout_marginBottom="12dp"/>
- 
--    <!-- Start Date/Time Picker -->
--    <LinearLayout
--        android:layout_width="match_parent"
--        android:layout_height="wrap_content"
--        android:orientation="horizontal"
--        android:gravity="center_vertical"
--        android:layout_marginTop="25dp"
--        android:layout_marginBottom="12dp">
-+        <TextView
-+            android:layout_width="match_parent"
-+            android:layout_height="wrap_content"
-+            android:text="Start Date"
-+            android:textColor="@color/white"
-+            android:textStyle="bold"
-+            android:layout_marginBottom="4dp" />
-+
-+        <LinearLayout
-+            android:layout_width="match_parent"
-+            android:layout_height="wrap_content"
-+            android:orientation="horizontal"
-+            android:gravity="center_vertical"
-+            android:layout_marginBottom="12dp">
- 
--        <TextView
--            android:id="@+id/StartDate"
--            android:layout_width="0dp"
--            android:layout_weight="1"
--            android:layout_height="wrap_content"
--            android:text="Select Start Date"
--            android:textColor="@color/white"
--            android:textColorHint="@color/white"
--            android:background="@drawable/edittext_bg"
--            android:padding="12dp"
--            android:layout_marginEnd="8dp"
--            android:gravity="center_vertical"/> <!-- Added gravity for alignment -->
-+            <TextView
-+                android:id="@+id/StartDate"
-+                android:layout_width="0dp"
-+                android:layout_weight="1"
-+                android:layout_height="wrap_content"
-+                android:text="Select Start Date"
-+                android:textColor="@color/white"
-+                android:background="@drawable/edittext_bg"
-+                android:padding="12dp"
-+                android:layout_marginEnd="8dp"/>
- 
--        <ImageButton
--            android:id="@+id/btnPickDate1"
--            android:layout_width="40dp"
--            android:layout_height="40dp"
--            android:background="?attr/selectableItemBackgroundBorderless"
--            android:src="@drawable/ic_calendar_custom2"
--            app:tint="@color/white"
--            android:contentDescription="Pick Start Date"/>
--    </LinearLayout>
-+            <ImageButton
-+                android:id="@+id/btnPickDate1"
-+                android:layout_width="40dp"
-+                android:layout_height="40dp"
-+                android:background="?attr/selectableItemBackgroundBorderless"
-+                android:src="@drawable/ic_calendar_custom2"
-+                app:tint="@color/white"
-+                android:contentDescription="Pick Start Date"/>
-+        </LinearLayout>
- 
-+        <TextView
-+            android:layout_width="match_parent"
-+            android:layout_height="wrap_content"
-+            android:text="End Date"
-+            android:textColor="@color/white"
-+            android:textStyle="bold"
-+            android:layout_marginBottom="4dp" />
- 
--    <!-- End Date/Time Picker -->
--    <LinearLayout
--        android:layout_width="match_parent"
--        android:layout_height="wrap_content"
--        android:orientation="horizontal"
--        android:gravity="center_vertical"
--        android:layout_marginBottom="12dp"
--        android:layout_marginTop="20dp">
-+        <LinearLayout
-+            android:layout_width="match_parent"
-+            android:layout_height="wrap_content"
-+            android:orientation="horizontal"
-+            android:gravity="center_vertical"
-+            android:layout_marginBottom="16dp">
- 
--        <TextView
--            android:id="@+id/EndDate"
--            android:layout_width="0dp"
--            android:layout_weight="1"
--            android:layout_height="wrap_content"
--            android:text="Select End Date"
--            android:textColor="@color/white"
--            android:textColorHint="@color/white"
--            android:background="@drawable/edittext_bg"
--            android:padding="12dp"
--            android:layout_marginEnd="8dp"
--            android:gravity="center_vertical"/> <!-- Added gravity for alignment -->
-+            <TextView
-+                android:id="@+id/EndDate"
-+                android:layout_width="0dp"
-+                android:layout_weight="1"
-+                android:layout_height="wrap_content"
-+                android:text="Select End Date"
-+                android:textColor="@color/white"
-+                android:background="@drawable/edittext_bg"
-+                android:padding="12dp"
-+                android:layout_marginEnd="8dp"/>
- 
--        <ImageButton
--            android:id="@+id/btnPickDate2"
--            android:layout_width="40dp"
--            android:layout_height="40dp"
--            android:background="?attr/selectableItemBackgroundBorderless"
--            android:src="@drawable/ic_calendar_custom2"
--            app:tint="@color/white"
--            android:contentDescription="Pick End Date"/>
--    </LinearLayout>
-+            <ImageButton
-+                android:id="@+id/btnPickDate2"
-+                android:layout_width="40dp"
-+                android:layout_height="40dp"
-+                android:background="?attr/selectableItemBackgroundBorderless"
-+                android:src="@drawable/ic_calendar_custom2"
-+                app:tint="@color/white"
-+                android:contentDescription="Pick End Date"/>
-+        </LinearLayout>
- 
--    <!-- Save Button -->
--    <com.google.android.material.button.MaterialButton
--        android:id="@+id/btnSaveBudget"
--        android:layout_width="match_parent"
--        android:layout_height="wrap_content"
--        android:text="Save"
--        android:textAllCaps="false"
--        android:layout_marginTop="16dp"
--        app:cornerRadius="12dp"
--        app:backgroundTint="@color/teal_700"
--        android:icon="@android:drawable/ic_input_add"
--        android:iconTint="@color/white"
--        app:iconPadding="8dp"/>
--</LinearLayout>
-+        <androidx.appcompat.widget.AppCompatButton
-+            android:id="@+id/btnSaveBudget"
-+            android:backgroundTint="@null"
-+            android:layout_width="match_parent"
-+            android:layout_height="wrap_content"
-+            android:text="Save"
-+            android:background="@drawable/glassy_teal_button"
-+            android:textColor="@color/white"
-+            android:padding="12dp"
-+            android:textStyle="bold"
-+            android:layout_marginTop="8dp" />
-+    </LinearLayout>
-+</ScrollView>
-\ No newline at end of file
-Index: app/src/main/java/com/example/finix/ui/savings/SavingsGoalsFragment.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.finix.ui.savings;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.app.DatePickerDialog;\r\nimport android.content.DialogInterface;\r\nimport android.graphics.Color;\r\nimport android.os.Bundle;\r\nimport android.text.InputFilter;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.AutoCompleteTextView;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.Observer;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.finix.R;\r\nimport com.example.finix.data.SavingsGoal;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.Map;\r\n\r\npublic class SavingsGoalsFragment extends Fragment {\r\n\r\n    private SavingsGoalsViewModel viewModel;\r\n    private SavingsGoalsAdapter adapter;\r\n\r\n    // categoryId -> name\r\n    private final Map<Integer, String> categoryMap = new HashMap<>();\r\n\r\n    // ------------------------------------------------------------\r\n    // Lifecycle\r\n    // ------------------------------------------------------------\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        return inflater.inflate(R.layout.fragment_savings_goals, container, false);\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        viewModel = new ViewModelProvider(this).get(SavingsGoalsViewModel.class);\r\n\r\n        // RecyclerView\r\n        RecyclerView rv = view.findViewById(R.id.recyclerGoals);\r\n        rv.setLayoutManager(new LinearLayoutManager(requireContext()));\r\n        adapter = new SavingsGoalsAdapter(\r\n                catId -> categoryMap.getOrDefault(catId, \"Unknown\"),\r\n                new SavingsGoalsAdapter.OnGoalActionListener() {\r\n                    @Override public void onEdit(SavingsGoal goal) { showEditGoalDialog(goal); }\r\n                    @Override public void onDelete(SavingsGoal goal) { showConfirmDelete(goal); }\r\n                }\r\n        );\r\n        rv.setAdapter(adapter);\r\n\r\n        // Observe data\r\n        viewModel.getAllGoals().observe(getViewLifecycleOwner(), adapter::submitList);\r\n        viewModel.getCategoryMapLive().observe(getViewLifecycleOwner(), map -> {\r\n            categoryMap.clear();\r\n            if (map != null) categoryMap.putAll(map);\r\n            adapter.notifyDataSetChanged();\r\n        });\r\n\r\n        // FAB\r\n        ImageButton btnAdd = view.findViewById(R.id.btnAddGoal);\r\n        btnAdd.setOnClickListener(v -> showAddGoalDialog());\r\n    }\r\n\r\n    // ------------------------------------------------------------\r\n    // ADD GOAL\r\n    // ------------------------------------------------------------\r\n    private void showAddGoalDialog() {\r\n        View popup = LayoutInflater.from(requireContext()).inflate(R.layout.dialog_add_goal, null);\r\n        AlertDialog dialog = new AlertDialog.Builder(requireContext()).setView(popup).create();\r\n\r\n        // Category controls\r\n        AutoCompleteTextView actCategory = popup.findViewById(R.id.etCategory);\r\n        LinearLayout llAddCategory = popup.findViewById(R.id.llAddNewCategory);\r\n        EditText etNewCategory = popup.findViewById(R.id.etNewCategory);\r\n        Button btnSaveCategory = popup.findViewById(R.id.btnSaveCategory);\r\n        Button btnBackCategory = popup.findViewById(R.id.btnCancelCategory);\r\n\r\n        // Goal fields\r\n        EditText etGoalName = popup.findViewById(R.id.etGoalName);\r\n        EditText etGoalDescription = popup.findViewById(R.id.etGoalDescription);\r\n        EditText etTargetAmount = popup.findViewById(R.id.etTargetAmount);\r\n        EditText etTargetDate = popup.findViewById(R.id.etTargetDate);\r\n        ImageButton btnPickDate = popup.findViewById(R.id.btnPickDate);\r\n        Button btnSave = popup.findViewById(R.id.btnSaveGoal);\r\n\r\n        etNewCategory.setFilters(new InputFilter[]{new InputFilter.LengthFilter(14)});\r\n\r\n        // Category dropdown setup\r\n        List<String> categoriesList = new ArrayList<>();\r\n        Map<String, Integer> nameToId = new HashMap<>();\r\n        categoriesList.add(\"Add New Category\");\r\n        Map<Integer, String> current = viewModel.getCategoryMapLive().getValue();\r\n        if (current != null) {\r\n            for (Map.Entry<Integer, String> e : current.entrySet()) {\r\n                categoriesList.add(e.getValue());\r\n                nameToId.put(e.getValue(), e.getKey());\r\n            }\r\n        }\r\n        ArrayAdapter<String> ddAdapter = new ArrayAdapter<>(\r\n                requireContext(), android.R.layout.simple_dropdown_item_1line, categoriesList);\r\n        actCategory.setAdapter(ddAdapter);\r\n        actCategory.setThreshold(0);\r\n        actCategory.setOnFocusChangeListener((v, hasFocus) -> {\r\n            if (hasFocus) { refreshCategories(ddAdapter, categoriesList, nameToId, actCategory); actCategory.showDropDown(); }\r\n        });\r\n        actCategory.setOnClickListener(v -> { refreshCategories(ddAdapter, categoriesList, nameToId, actCategory); actCategory.showDropDown(); });\r\n        actCategory.setOnItemClickListener((parent, v, pos, id) -> {\r\n            String selected = ddAdapter.getItem(pos);\r\n            if (\"Add New Category\".equals(selected)) {\r\n                llAddCategory.setVisibility(View.VISIBLE);\r\n                actCategory.setVisibility(View.GONE);\r\n            }\r\n        });\r\n\r\n        btnSaveCategory.setOnClickListener(v -> {\r\n            String newCat = etNewCategory.getText().toString().trim();\r\n            if (newCat.isEmpty()) {\r\n                Toast.makeText(requireContext(), \"Category cannot be empty\", Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n            viewModel.addCategory(newCat);\r\n            Toast.makeText(requireContext(), \"New category added!\", Toast.LENGTH_SHORT).show();\r\n            onCategoryAdded(newCat, ddAdapter, categoriesList, nameToId, actCategory, llAddCategory, etNewCategory);\r\n        });\r\n        btnBackCategory.setOnClickListener(v -> {\r\n            llAddCategory.setVisibility(View.GONE);\r\n            actCategory.setVisibility(View.VISIBLE);\r\n        });\r\n\r\n        // Date picker\r\n        View.OnClickListener pickDate = v -> showDatePicker(date -> etTargetDate.setText(date));\r\n        etTargetDate.setOnClickListener(pickDate);\r\n        btnPickDate.setOnClickListener(pickDate);\r\n\r\n        // Save goal\r\n        btnSave.setOnClickListener(v -> {\r\n            String catName = actCategory.getText().toString().trim();\r\n            String goalName = etGoalName.getText().toString().trim();\r\n            String desc = etGoalDescription.getText().toString().trim();\r\n            String amountStr = etTargetAmount.getText().toString().trim();\r\n            String dateStr = etTargetDate.getText().toString().trim();\r\n\r\n            if (catName.isEmpty() || goalName.isEmpty() || amountStr.isEmpty() || dateStr.isEmpty()) {\r\n                Toast.makeText(requireContext(), \"Please fill all fields\", Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n            if (!nameToId.containsKey(catName)) {\r\n                Toast.makeText(requireContext(), \"Invalid category!\", Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n\r\n            int categoryId = nameToId.get(catName);\r\n            double targetAmount;\r\n            try { targetAmount = Double.parseDouble(amountStr); }\r\n            catch (NumberFormatException e) { Toast.makeText(requireContext(), \"Invalid amount\", Toast.LENGTH_SHORT).show(); return; }\r\n\r\n            long targetDateMillis = parseDateToMillis(dateStr);\r\n            if (targetDateMillis == -1) { Toast.makeText(requireContext(), \"Invalid date\", Toast.LENGTH_SHORT).show(); return; }\r\n\r\n            SavingsGoal goal = new SavingsGoal(categoryId, goalName, desc, targetAmount, targetDateMillis);\r\n            viewModel.insert(goal);\r\n            Toast.makeText(requireContext(), \"Goal saved!\", Toast.LENGTH_SHORT).show();\r\n            dialog.dismiss();\r\n        });\r\n\r\n        dialog.show();\r\n    }\r\n\r\n    // ------------------------------------------------------------\r\n    // EDIT GOAL\r\n    // ------------------------------------------------------------\r\n    private void showEditGoalDialog(@NonNull SavingsGoal existing) {\r\n        View popup = LayoutInflater.from(requireContext()).inflate(R.layout.dialog_add_goal, null);\r\n        AlertDialog dialog = new AlertDialog.Builder(requireContext()).setView(popup).create();\r\n\r\n        AutoCompleteTextView actCategory = popup.findViewById(R.id.etCategory);\r\n        LinearLayout llAddCategory = popup.findViewById(R.id.llAddNewCategory);\r\n        EditText etNewCategory = popup.findViewById(R.id.etNewCategory);\r\n        Button btnSaveCategory = popup.findViewById(R.id.btnSaveCategory);\r\n        Button btnBackCategory = popup.findViewById(R.id.btnCancelCategory);\r\n\r\n        EditText etGoalName = popup.findViewById(R.id.etGoalName);\r\n        EditText etGoalDescription = popup.findViewById(R.id.etGoalDescription);\r\n        EditText etTargetAmount = popup.findViewById(R.id.etTargetAmount);\r\n        EditText etTargetDate = popup.findViewById(R.id.etTargetDate);\r\n        ImageButton btnPickDate = popup.findViewById(R.id.btnPickDate);\r\n        Button btnSave = popup.findViewById(R.id.btnSaveGoal);\r\n\r\n        // Prefill\r\n        etGoalName.setText(existing.getGoalName());\r\n        etGoalDescription.setText(existing.getGoalDescription());\r\n        etTargetAmount.setText(String.valueOf(existing.getTargetAmount()));\r\n        etTargetDate.setText(new SimpleDateFormat(\"dd/MM/yyyy\", Locale.getDefault()).format(new Date(existing.getTargetDate())));\r\n\r\n        // Category dropdown\r\n        List<String> categoriesList = new ArrayList<>();\r\n        Map<String, Integer> nameToId = new HashMap<>();\r\n        categoriesList.add(\"Add New Category\");\r\n        Map<Integer, String> current = viewModel.getCategoryMapLive().getValue();\r\n        if (current != null) {\r\n            for (Map.Entry<Integer, String> e : current.entrySet()) {\r\n                categoriesList.add(e.getValue());\r\n                nameToId.put(e.getValue(), e.getKey());\r\n            }\r\n        }\r\n        ArrayAdapter<String> ddAdapter = new ArrayAdapter<>(\r\n                requireContext(), android.R.layout.simple_dropdown_item_1line, categoriesList);\r\n        actCategory.setAdapter(ddAdapter);\r\n        actCategory.setThreshold(0);\r\n\r\n        // set current category name\r\n        actCategory.setText(categoryMap.getOrDefault(existing.getCategoryId(), \"\"), false);\r\n\r\n        actCategory.setOnFocusChangeListener((v, hasFocus) -> {\r\n            if (hasFocus) { refreshCategories(ddAdapter, categoriesList, nameToId, actCategory); actCategory.showDropDown(); }\r\n        });\r\n        actCategory.setOnClickListener(v -> { refreshCategories(ddAdapter, categoriesList, nameToId, actCategory); actCategory.showDropDown(); });\r\n        actCategory.setOnItemClickListener((parent, v, pos, id) -> {\r\n            String selected = ddAdapter.getItem(pos);\r\n            if (\"Add New Category\".equals(selected)) {\r\n                llAddCategory.setVisibility(View.VISIBLE);\r\n                actCategory.setVisibility(View.GONE);\r\n            }\r\n        });\r\n\r\n        btnSaveCategory.setOnClickListener(v -> {\r\n            String newCat = etNewCategory.getText().toString().trim();\r\n            if (newCat.isEmpty()) { Toast.makeText(requireContext(), \"Category cannot be empty\", Toast.LENGTH_SHORT).show(); return; }\r\n            viewModel.addCategory(newCat);\r\n            Toast.makeText(requireContext(), \"New category added!\", Toast.LENGTH_SHORT).show();\r\n            onCategoryAdded(newCat, ddAdapter, categoriesList, nameToId, actCategory, llAddCategory, etNewCategory);\r\n        });\r\n        btnBackCategory.setOnClickListener(v -> {\r\n            llAddCategory.setVisibility(View.GONE);\r\n            actCategory.setVisibility(View.VISIBLE);\r\n        });\r\n\r\n        // Date picker\r\n        View.OnClickListener pickDate = v -> showDatePicker(date -> etTargetDate.setText(date));\r\n        etTargetDate.setOnClickListener(pickDate);\r\n        btnPickDate.setOnClickListener(pickDate);\r\n\r\n        btnSave.setText(\"UPDATE GOAL\");\r\n        btnSave.setOnClickListener(v -> {\r\n            String catName = actCategory.getText().toString().trim();\r\n            String goalName = etGoalName.getText().toString().trim();\r\n            String desc = etGoalDescription.getText().toString().trim();\r\n            String amountStr = etTargetAmount.getText().toString().trim();\r\n            String dateStr = etTargetDate.getText().toString().trim();\r\n\r\n            if (catName.isEmpty() || goalName.isEmpty() || amountStr.isEmpty() || dateStr.isEmpty()) {\r\n                Toast.makeText(requireContext(), \"Please fill all fields\", Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n            if (!nameToId.containsKey(catName)) {\r\n                Toast.makeText(requireContext(), \"Invalid category!\", Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n\r\n            int categoryId = nameToId.get(catName);\r\n            double targetAmount;\r\n            try { targetAmount = Double.parseDouble(amountStr); }\r\n            catch (NumberFormatException e) { Toast.makeText(requireContext(), \"Invalid amount\", Toast.LENGTH_SHORT).show(); return; }\r\n\r\n            long targetDateMillis = parseDateToMillis(dateStr);\r\n            if (targetDateMillis == -1) { Toast.makeText(requireContext(), \"Invalid date\", Toast.LENGTH_SHORT).show(); return; }\r\n\r\n            // ‚úÖ Added validation for no changes\r\n            boolean noChange =\r\n                    existing.getCategoryId() == categoryId &&\r\n                            existing.getGoalName().equals(goalName) &&\r\n                            ((existing.getGoalDescription() == null && desc.isEmpty()) ||\r\n                                    (existing.getGoalDescription() != null && existing.getGoalDescription().equals(desc))) &&\r\n                            existing.getTargetAmount() == targetAmount &&\r\n                            existing.getTargetDate() == targetDateMillis;\r\n\r\n            if (noChange) {\r\n                Toast.makeText(requireContext(), \"No changes detected\", Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n\r\n            // Build updated goal with same primary key\r\n            SavingsGoal updated = new SavingsGoal(categoryId, goalName, desc, targetAmount, targetDateMillis);\r\n            updated.setId(existing.getId());\r\n\r\n            viewModel.update(updated);\r\n            Toast.makeText(requireContext(), \"Goal updated!\", Toast.LENGTH_SHORT).show();\r\n            dialog.dismiss();\r\n        });\r\n\r\n\r\n        dialog.show();\r\n    }\r\n\r\n    // ------------------------------------------------------------\r\n    // CONFIRM DELETE\r\n    // ------------------------------------------------------------\r\n    private void showConfirmDelete(SavingsGoal goal) {\r\n        View v = LayoutInflater.from(requireContext())\r\n                .inflate(R.layout.delete_confirmation_popup, null, false);\r\n\r\n        TextView tvMessage = v.findViewById(R.id.deleteMessage);\r\n        Button btnCancel = v.findViewById(R.id.cancelDeleteBtn);\r\n        Button btnDelete = v.findViewById(R.id.confirmDeleteBtn);\r\n\r\n        String amount = String.format(Locale.getDefault(), \"Rs. %,.2f\", goal.getTargetAmount());\r\n        String goalName = goal.getGoalName() == null ? \"\" : goal.getGoalName();\r\n\r\n        tvMessage.setText(\"Are you sure you want to delete the goal of \" + amount + \" for '\" + goalName + \"'?\");\r\n\r\n        AlertDialog dialog = new AlertDialog.Builder(requireContext())\r\n                .setView(v)\r\n                .setCancelable(false)\r\n                .create();\r\n\r\n        btnCancel.setOnClickListener(x -> dialog.dismiss());\r\n        btnDelete.setOnClickListener(x -> {\r\n            viewModel.delete(goal);\r\n            Toast.makeText(requireContext(), \"Goal deleted\", Toast.LENGTH_SHORT).show();\r\n            dialog.dismiss();\r\n        });\r\n\r\n        dialog.show();\r\n    }\r\n\r\n\r\n    // ------------------------------------------------------------\r\n    // Helpers\r\n    // ------------------------------------------------------------\r\n    private interface OnDatePicked { void onPicked(String ddMMyyyy); }\r\n\r\n    private void showDatePicker(OnDatePicked cb) {\r\n        final Calendar calendar = Calendar.getInstance();\r\n        SimpleDateFormat format = new SimpleDateFormat(\"dd/MM/yyyy HH:mm\", Locale.getDefault());\r\n\r\n        DatePickerDialog dp = new DatePickerDialog(\r\n                requireContext(),\r\n                (view, y, m, d) -> {\r\n                    calendar.set(y, m, d);\r\n                    // \uD83D\uDD52 Add TimePicker after selecting date\r\n                    android.app.TimePickerDialog tp = new android.app.TimePickerDialog(\r\n                            requireContext(),\r\n                            (timeView, h, min) -> {\r\n                                calendar.set(Calendar.HOUR_OF_DAY, h);\r\n                                calendar.set(Calendar.MINUTE, min);\r\n                                String selectedDateTime = format.format(calendar.getTime());\r\n                                cb.onPicked(selectedDateTime);\r\n                            },\r\n                            calendar.get(Calendar.HOUR_OF_DAY),\r\n                            calendar.get(Calendar.MINUTE),\r\n                            true\r\n                    );\r\n                    tp.show();\r\n                    tp.getButton(DialogInterface.BUTTON_POSITIVE)\r\n                            .setTextColor(Color.parseColor(\"#00BFA5\")); // teal OK\r\n                    tp.getButton(DialogInterface.BUTTON_NEGATIVE)\r\n                            .setTextColor(Color.parseColor(\"#FF5252\")); // red CANCEL\r\n                },\r\n                calendar.get(Calendar.YEAR),\r\n                calendar.get(Calendar.MONTH),\r\n                calendar.get(Calendar.DAY_OF_MONTH)\r\n        );\r\n\r\n        dp.show();\r\n        dp.getButton(DialogInterface.BUTTON_POSITIVE)\r\n                .setTextColor(Color.parseColor(\"#00BFA5\")); // teal OK\r\n        dp.getButton(DialogInterface.BUTTON_NEGATIVE)\r\n                .setTextColor(Color.parseColor(\"#FF5252\")); // red CANCEL\r\n    }\r\n\r\n\r\n\r\n    private long parseDateToMillis(String ddMMyyyy) {\r\n        try {\r\n            Date parsed = new SimpleDateFormat(\"dd/MM/yyyy\", Locale.getDefault()).parse(ddMMyyyy);\r\n            return (parsed != null) ? parsed.getTime() : -1;\r\n        } catch (Exception e) {\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    private void onCategoryAdded(String newCat,\r\n                                 ArrayAdapter<String> adapter,\r\n                                 List<String> categoriesList,\r\n                                 Map<String, Integer> nameToId,\r\n                                 AutoCompleteTextView actCategory,\r\n                                 LinearLayout llAddCategory,\r\n                                 EditText etNewCategory) {\r\n\r\n        Observer<Map<Integer, String>> oneTime = new Observer<Map<Integer, String>>() {\r\n            @Override\r\n            public void onChanged(Map<Integer, String> map) {\r\n                if (map != null && map.containsValue(newCat)) {\r\n                    categoriesList.clear();\r\n                    nameToId.clear();\r\n                    categoriesList.add(\"Add New Category\");\r\n                    for (Map.Entry<Integer, String> e : map.entrySet()) {\r\n                        categoriesList.add(e.getValue());\r\n                        nameToId.put(e.getValue(), e.getKey());\r\n                    }\r\n                    adapter.notifyDataSetChanged();\r\n\r\n                    actCategory.post(() -> {\r\n                        actCategory.setText(newCat, false);\r\n                        actCategory.setVisibility(View.VISIBLE);\r\n                        llAddCategory.setVisibility(View.GONE);\r\n                        etNewCategory.setText(\"\");\r\n                    });\r\n\r\n                    viewModel.getCategoryMapLive().removeObserver(this);\r\n                }\r\n            }\r\n        };\r\n        viewModel.getCategoryMapLive().observe(getViewLifecycleOwner(), oneTime);\r\n        viewModel.fetchLatestCategoryMap();\r\n    }\r\n\r\n    private void refreshCategories(ArrayAdapter<String> adapter,\r\n                                   List<String> categoriesList,\r\n                                   Map<String, Integer> nameToId,\r\n                                   AutoCompleteTextView actCategory) {\r\n\r\n        viewModel.fetchLatestCategoryMap();\r\n        Observer<Map<Integer, String>> obs = new Observer<Map<Integer, String>>() {\r\n            @Override\r\n            public void onChanged(Map<Integer, String> map) {\r\n                if (map != null) {\r\n                    categoriesList.clear();\r\n                    nameToId.clear();\r\n                    categoriesList.add(\"Add New Category\");\r\n                    for (Map.Entry<Integer, String> e : map.entrySet()) {\r\n                        categoriesList.add(e.getValue());\r\n                        nameToId.put(e.getValue(), e.getKey());\r\n                    }\r\n                    adapter.notifyDataSetChanged();\r\n                    actCategory.post(actCategory::showDropDown);\r\n                }\r\n                viewModel.getCategoryMapLive().removeObserver(this);\r\n            }\r\n        };\r\n        viewModel.getCategoryMapLive().observe(getViewLifecycleOwner(), obs);\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/finix/ui/savings/SavingsGoalsFragment.java b/app/src/main/java/com/example/finix/ui/savings/SavingsGoalsFragment.java
---- a/app/src/main/java/com/example/finix/ui/savings/SavingsGoalsFragment.java	(revision aeff7419715d5d540dc246f922fac8ddd8b6be06)
-+++ b/app/src/main/java/com/example/finix/ui/savings/SavingsGoalsFragment.java	(date 1762071158948)
-@@ -4,17 +4,23 @@
- import android.app.DatePickerDialog;
- import android.content.DialogInterface;
- import android.graphics.Color;
-+import android.graphics.drawable.ColorDrawable;
- import android.os.Bundle;
-+import android.os.CountDownTimer; // <-- NEW IMPORT
- import android.text.InputFilter;
- import android.view.LayoutInflater;
- import android.view.View;
- import android.view.ViewGroup;
-+import android.view.Window;
-+import android.view.WindowManager;
- import android.widget.ArrayAdapter;
- import android.widget.AutoCompleteTextView;
- import android.widget.Button;
- import android.widget.EditText;
- import android.widget.ImageButton;
-+import android.widget.ImageView;
- import android.widget.LinearLayout;
-+import android.widget.ProgressBar;
- import android.widget.TextView;
- import android.widget.Toast;
- 
-@@ -47,6 +53,11 @@
-     // categoryId -> name
-     private final Map<Integer, String> categoryMap = new HashMap<>();
- 
-+    // üí° NEW: Placeholder views for empty state
-+    private ImageView imageNoGoals;
-+    private TextView textNoGoals;
-+    private RecyclerView recyclerView; // Added for easy access
-+
-     // ------------------------------------------------------------
-     // Lifecycle
-     // ------------------------------------------------------------
-@@ -61,9 +72,9 @@
- 
-         viewModel = new ViewModelProvider(this).get(SavingsGoalsViewModel.class);
- 
--        // RecyclerView
--        RecyclerView rv = view.findViewById(R.id.recyclerGoals);
--        rv.setLayoutManager(new LinearLayoutManager(requireContext()));
-+        // RecyclerView setup
-+        recyclerView = view.findViewById(R.id.recyclerGoals); // Assign to member variable
-+        recyclerView.setLayoutManager(new LinearLayoutManager(requireContext()));
-         adapter = new SavingsGoalsAdapter(
-                 catId -> categoryMap.getOrDefault(catId, "Unknown"),
-                 new SavingsGoalsAdapter.OnGoalActionListener() {
-@@ -71,10 +82,28 @@
-                     @Override public void onDelete(SavingsGoal goal) { showConfirmDelete(goal); }
-                 }
-         );
--        rv.setAdapter(adapter);
-+        recyclerView.setAdapter(adapter);
-+
-+        // üí° NEW: Initialize placeholder views
-+        imageNoGoals = view.findViewById(R.id.imageNoGoals);
-+        textNoGoals = view.findViewById(R.id.textNoGoals);
-+        // ------------------------------------
- 
-         // Observe data
--        viewModel.getAllGoals().observe(getViewLifecycleOwner(), adapter::submitList);
-+        viewModel.getAllGoals().observe(getViewLifecycleOwner(), goals -> {
-+            // üí° UPDATED: Visibility toggle logic
-+            if (goals == null || goals.isEmpty()) {
-+                recyclerView.setVisibility(View.GONE);
-+                imageNoGoals.setVisibility(View.VISIBLE);
-+                textNoGoals.setVisibility(View.VISIBLE);
-+            } else {
-+                recyclerView.setVisibility(View.VISIBLE);
-+                imageNoGoals.setVisibility(View.GONE);
-+                textNoGoals.setVisibility(View.GONE);
-+                adapter.submitList(goals);
-+            }
-+        });
-+
-         viewModel.getCategoryMapLive().observe(getViewLifecycleOwner(), map -> {
-             categoryMap.clear();
-             if (map != null) categoryMap.putAll(map);
-@@ -93,6 +122,17 @@
-         View popup = LayoutInflater.from(requireContext()).inflate(R.layout.dialog_add_goal, null);
-         AlertDialog dialog = new AlertDialog.Builder(requireContext()).setView(popup).create();
- 
-+        if (dialog.getWindow() != null) {
-+            // CRITICAL FIX 1: Force Full Width and Full Height
-+            dialog.getWindow().setLayout(WindowManager.LayoutParams.MATCH_PARENT, WindowManager.LayoutParams.MATCH_PARENT);
-+
-+            // CRITICAL FIX 2: Ensure dialog resizes when keyboard appears
-+            dialog.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE);
-+
-+            // CRITICAL FIX 3: Remove default AlertDialog padding/insets for true full screen
-+            dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));
-+        }
-+
-         // Category controls
-         AutoCompleteTextView actCategory = popup.findViewById(R.id.etCategory);
-         LinearLayout llAddCategory = popup.findViewById(R.id.llAddNewCategory);
-@@ -108,7 +148,14 @@
-         ImageButton btnPickDate = popup.findViewById(R.id.btnPickDate);
-         Button btnSave = popup.findViewById(R.id.btnSaveGoal);
- 
-+        // Set character limits
-         etNewCategory.setFilters(new InputFilter[]{new InputFilter.LengthFilter(14)});
-+        // New limit for Category Name
-+        actCategory.setFilters(new InputFilter[]{new InputFilter.LengthFilter(14)});
-+        // New limit for Goal Name
-+        etGoalName.setFilters(new InputFilter[]{new InputFilter.LengthFilter(14)});
-+        // New limit for Target Amount
-+        etTargetAmount.setFilters(new InputFilter[]{new InputFilter.LengthFilter(7)});
- 
-         // Category dropdown setup
-         List<String> categoriesList = new ArrayList<>();
-@@ -140,11 +187,13 @@
-         btnSaveCategory.setOnClickListener(v -> {
-             String newCat = etNewCategory.getText().toString().trim();
-             if (newCat.isEmpty()) {
--                Toast.makeText(requireContext(), "Category cannot be empty", Toast.LENGTH_SHORT).show();
-+                // üìù Changed to showCustomToast and removed prefix
-+                showCustomToast("Category cannot be empty");
-                 return;
-             }
-             viewModel.addCategory(newCat);
--            Toast.makeText(requireContext(), "New category added!", Toast.LENGTH_SHORT).show();
-+            // üìù Changed to showCustomToast and removed prefix
-+            showCustomToast("New category added!");
-             onCategoryAdded(newCat, ddAdapter, categoriesList, nameToId, actCategory, llAddCategory, etNewCategory);
-         });
-         btnBackCategory.setOnClickListener(v -> {
-@@ -166,25 +215,36 @@
-             String dateStr = etTargetDate.getText().toString().trim();
- 
-             if (catName.isEmpty() || goalName.isEmpty() || amountStr.isEmpty() || dateStr.isEmpty()) {
--                Toast.makeText(requireContext(), "Please fill all fields", Toast.LENGTH_SHORT).show();
-+                // üìù Changed to showCustomToast and removed prefix
-+                showCustomToast("Please fill all fields");
-                 return;
-             }
-             if (!nameToId.containsKey(catName)) {
--                Toast.makeText(requireContext(), "Invalid category!", Toast.LENGTH_SHORT).show();
-+                // üìù Changed to showCustomToast and removed prefix
-+                showCustomToast("Invalid category!");
-                 return;
-             }
- 
-             int categoryId = nameToId.get(catName);
-             double targetAmount;
-             try { targetAmount = Double.parseDouble(amountStr); }
--            catch (NumberFormatException e) { Toast.makeText(requireContext(), "Invalid amount", Toast.LENGTH_SHORT).show(); return; }
-+            catch (NumberFormatException e) {
-+                // üìù Changed to showCustomToast and removed prefix
-+                showCustomToast("Invalid amount");
-+                return;
-+            }
- 
-             long targetDateMillis = parseDateToMillis(dateStr);
--            if (targetDateMillis == -1) { Toast.makeText(requireContext(), "Invalid date", Toast.LENGTH_SHORT).show(); return; }
-+            if (targetDateMillis == -1) {
-+                // üìù Changed to showCustomToast and removed prefix
-+                showCustomToast("Invalid date");
-+                return;
-+            }
- 
-             SavingsGoal goal = new SavingsGoal(categoryId, goalName, desc, targetAmount, targetDateMillis);
-             viewModel.insert(goal);
--            Toast.makeText(requireContext(), "Goal saved!", Toast.LENGTH_SHORT).show();
-+            // üìù Changed to showCustomToast and removed prefix
-+            showCustomToast("Goal saved!");
-             dialog.dismiss();
-         });
- 
-@@ -198,6 +258,23 @@
-         View popup = LayoutInflater.from(requireContext()).inflate(R.layout.dialog_add_goal, null);
-         AlertDialog dialog = new AlertDialog.Builder(requireContext()).setView(popup).create();
- 
-+        if (dialog.getWindow() != null) {
-+            // CRITICAL FIX 1: Force Full Width and Full Height
-+            dialog.getWindow().setLayout(WindowManager.LayoutParams.MATCH_PARENT, WindowManager.LayoutParams.MATCH_PARENT);
-+
-+            // CRITICAL FIX 2: Ensure dialog resizes when keyboard appears
-+            dialog.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE);
-+
-+            // CRITICAL FIX 3: Remove default AlertDialog padding/insets for true full screen
-+            dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));
-+        }
-+
-+        // Find the title TextView and set the text
-+        TextView tvTitle = popup.findViewById(R.id.popupTitle);
-+        if (tvTitle != null) {
-+            tvTitle.setText("Edit Goal");
-+        }
-+
-         AutoCompleteTextView actCategory = popup.findViewById(R.id.etCategory);
-         LinearLayout llAddCategory = popup.findViewById(R.id.llAddNewCategory);
-         EditText etNewCategory = popup.findViewById(R.id.etNewCategory);
-@@ -211,6 +288,12 @@
-         ImageButton btnPickDate = popup.findViewById(R.id.btnPickDate);
-         Button btnSave = popup.findViewById(R.id.btnSaveGoal);
- 
-+        // Set character limits
-+        etNewCategory.setFilters(new InputFilter[]{new InputFilter.LengthFilter(14)});
-+        actCategory.setFilters(new InputFilter[]{new InputFilter.LengthFilter(14)});
-+        etGoalName.setFilters(new InputFilter[]{new InputFilter.LengthFilter(14)});
-+        etTargetAmount.setFilters(new InputFilter[]{new InputFilter.LengthFilter(7)});
-+
-         // Prefill
-         etGoalName.setText(existing.getGoalName());
-         etGoalDescription.setText(existing.getGoalDescription());
-@@ -250,9 +333,14 @@
- 
-         btnSaveCategory.setOnClickListener(v -> {
-             String newCat = etNewCategory.getText().toString().trim();
--            if (newCat.isEmpty()) { Toast.makeText(requireContext(), "Category cannot be empty", Toast.LENGTH_SHORT).show(); return; }
-+            if (newCat.isEmpty()) {
-+                // üìù Changed to showCustomToast and removed prefix
-+                showCustomToast("Category cannot be empty");
-+                return;
-+            }
-             viewModel.addCategory(newCat);
--            Toast.makeText(requireContext(), "New category added!", Toast.LENGTH_SHORT).show();
-+            // üìù Changed to showCustomToast and removed prefix
-+            showCustomToast("New category added!");
-             onCategoryAdded(newCat, ddAdapter, categoriesList, nameToId, actCategory, llAddCategory, etNewCategory);
-         });
-         btnBackCategory.setOnClickListener(v -> {
-@@ -274,21 +362,31 @@
-             String dateStr = etTargetDate.getText().toString().trim();
- 
-             if (catName.isEmpty() || goalName.isEmpty() || amountStr.isEmpty() || dateStr.isEmpty()) {
--                Toast.makeText(requireContext(), "Please fill all fields", Toast.LENGTH_SHORT).show();
-+                // üìù Changed to showCustomToast and removed prefix
-+                showCustomToast("Please fill all fields");
-                 return;
-             }
-             if (!nameToId.containsKey(catName)) {
--                Toast.makeText(requireContext(), "Invalid category!", Toast.LENGTH_SHORT).show();
-+                // üìù Changed to showCustomToast and removed prefix
-+                showCustomToast("Invalid category!");
-                 return;
-             }
- 
-             int categoryId = nameToId.get(catName);
-             double targetAmount;
-             try { targetAmount = Double.parseDouble(amountStr); }
--            catch (NumberFormatException e) { Toast.makeText(requireContext(), "Invalid amount", Toast.LENGTH_SHORT).show(); return; }
-+            catch (NumberFormatException e) {
-+                // üìù Changed to showCustomToast and removed prefix
-+                showCustomToast("Invalid amount");
-+                return;
-+            }
- 
-             long targetDateMillis = parseDateToMillis(dateStr);
--            if (targetDateMillis == -1) { Toast.makeText(requireContext(), "Invalid date", Toast.LENGTH_SHORT).show(); return; }
-+            if (targetDateMillis == -1) {
-+                // üìù Changed to showCustomToast and removed prefix
-+                showCustomToast("Invalid date");
-+                return;
-+            }
- 
-             // ‚úÖ Added validation for no changes
-             boolean noChange =
-@@ -300,7 +398,8 @@
-                             existing.getTargetDate() == targetDateMillis;
- 
-             if (noChange) {
--                Toast.makeText(requireContext(), "No changes detected", Toast.LENGTH_SHORT).show();
-+                // üìù Changed to showCustomToast and removed prefix
-+                showCustomToast("No changes detected");
-                 return;
-             }
- 
-@@ -309,11 +408,11 @@
-             updated.setId(existing.getId());
- 
-             viewModel.update(updated);
--            Toast.makeText(requireContext(), "Goal updated!", Toast.LENGTH_SHORT).show();
-+            // üìù Changed to showCustomToast and removed prefix
-+            showCustomToast("Goal updated!");
-             dialog.dismiss();
-         });
- 
--
-         dialog.show();
-     }
- 
-@@ -325,27 +424,48 @@
-                 .inflate(R.layout.delete_confirmation_popup, null, false);
- 
-         TextView tvMessage = v.findViewById(R.id.deleteMessage);
-+        // You should also set the typeface here, as discussed previously:
-+        // tvMessage.setTypeface(Typeface.MONOSPACE);
-+
-         Button btnCancel = v.findViewById(R.id.cancelDeleteBtn);
-         Button btnDelete = v.findViewById(R.id.confirmDeleteBtn);
- 
--        String amount = String.format(Locale.getDefault(), "Rs. %,.2f", goal.getTargetAmount());
-+        String amount = String.format(Locale.getDefault(), "Rs. %,.0f", goal.getTargetAmount());
-         String goalName = goal.getGoalName() == null ? "" : goal.getGoalName();
- 
-         tvMessage.setText("Are you sure you want to delete the goal of " + amount + " for '" + goalName + "'?");
- 
-         AlertDialog dialog = new AlertDialog.Builder(requireContext())
-                 .setView(v)
--                .setCancelable(false)
-+                .setCancelable(true)
-                 .create();
- 
-+        // The dialog MUST be shown before setting window properties to ensure the Window object is active
-+        dialog.show(); // üëà MOVED show() HERE
-+
-+        // --- Window Customization Block (Now runs AFTER show()) ---
-+        Window window = dialog.getWindow();
-+        if (window != null) {
-+            // Set transparent background
-+            window.setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));
-+
-+            // Set width to 70% of screen
-+            int dialogWidth = (int)(requireActivity().getResources().getDisplayMetrics().widthPixels * 0.8);
-+            window.setLayout(dialogWidth, WindowManager.LayoutParams.WRAP_CONTENT);
-+        }
-+        // -----------------------------------------------------------
-+
-         btnCancel.setOnClickListener(x -> dialog.dismiss());
-         btnDelete.setOnClickListener(x -> {
-+            // 1. Delete the goal
-             viewModel.delete(goal);
--            Toast.makeText(requireContext(), "Goal deleted", Toast.LENGTH_SHORT).show();
-+
-+            // 2. Show toast
-+            showCustomToast("Goal deleted");
-+
-+            // 3. Dismiss dialog
-             dialog.dismiss();
-         });
--
--        dialog.show();
-     }
- 
- 
-@@ -356,30 +476,14 @@
- 
-     private void showDatePicker(OnDatePicked cb) {
-         final Calendar calendar = Calendar.getInstance();
--        SimpleDateFormat format = new SimpleDateFormat("dd/MM/yyyy HH:mm", Locale.getDefault());
-+        SimpleDateFormat format = new SimpleDateFormat("dd/MM/yyyy", Locale.getDefault());
- 
-         DatePickerDialog dp = new DatePickerDialog(
-                 requireContext(),
-                 (view, y, m, d) -> {
-                     calendar.set(y, m, d);
--                    // üïí Add TimePicker after selecting date
--                    android.app.TimePickerDialog tp = new android.app.TimePickerDialog(
--                            requireContext(),
--                            (timeView, h, min) -> {
--                                calendar.set(Calendar.HOUR_OF_DAY, h);
--                                calendar.set(Calendar.MINUTE, min);
--                                String selectedDateTime = format.format(calendar.getTime());
--                                cb.onPicked(selectedDateTime);
--                            },
--                            calendar.get(Calendar.HOUR_OF_DAY),
--                            calendar.get(Calendar.MINUTE),
--                            true
--                    );
--                    tp.show();
--                    tp.getButton(DialogInterface.BUTTON_POSITIVE)
--                            .setTextColor(Color.parseColor("#00BFA5")); // teal OK
--                    tp.getButton(DialogInterface.BUTTON_NEGATIVE)
--                            .setTextColor(Color.parseColor("#FF5252")); // red CANCEL
-+                    String selectedDate = format.format(calendar.getTime());
-+                    cb.onPicked(selectedDate);
-                 },
-                 calendar.get(Calendar.YEAR),
-                 calendar.get(Calendar.MONTH),
-@@ -393,8 +497,6 @@
-                 .setTextColor(Color.parseColor("#FF5252")); // red CANCEL
-     }
- 
--
--
-     private long parseDateToMillis(String ddMMyyyy) {
-         try {
-             Date parsed = new SimpleDateFormat("dd/MM/yyyy", Locale.getDefault()).parse(ddMMyyyy);
-@@ -465,4 +567,51 @@
-         };
-         viewModel.getCategoryMapLive().observe(getViewLifecycleOwner(), obs);
-     }
-+
-+    private void showCustomToast(String message) { // Method to show custom toast dialog
-+        LayoutInflater inflater = getLayoutInflater(); // Get inflater to load custom layout
-+        View layout = inflater.inflate(R.layout.custom_message, null); // Inflate the custom toast layout
-+
-+        TextView text = layout.findViewById(R.id.toast_message); // Get TextView for message
-+        ImageView close = layout.findViewById(R.id.toast_close); // Get close button ImageView
-+        ProgressBar progressBar = layout.findViewById(R.id.toast_progress); // Get ProgressBar
-+
-+        text.setText(message); // Set the toast message text
-+        progressBar.setProgress(100); // Initialize progress bar to full
-+
-+        androidx.appcompat.app.AlertDialog dialog = new androidx.appcompat.app.AlertDialog.Builder(requireContext()) // Use requireContext() here
-+                .setView(layout) // Set custom layout
-+                .create(); // Create dialog instance
-+
-+        close.setOnClickListener(v -> dialog.dismiss()); // Close dialog on button click
-+
-+        if (dialog.getWindow() != null) { // Check if window exists
-+            dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT)); // Make background transparent
-+            dialog.getWindow().setDimAmount(0f); // Remove dim behind dialog
-+
-+            WindowManager.LayoutParams params = dialog.getWindow().getAttributes(); // Get window attributes
-+            params.width = WindowManager.LayoutParams.MATCH_PARENT; // Set width to match parent
-+            params.height = WindowManager.LayoutParams.WRAP_CONTENT; // Set height to wrap content
-+
-+            // üõ†Ô∏è UPDATED: Set gravity to BOTTOM
-+            params.gravity = android.view.Gravity.BOTTOM; // Position at bottom
-+
-+            // üõ†Ô∏è UPDATED: Set offset from bottom in pixels
-+            params.y = 50;
-+
-+            dialog.getWindow().setAttributes(params); // Apply attributes
-+        }
-+
-+        dialog.show(); // Show the dialog
-+
-+        new CountDownTimer(3000, 50) { // Timer for auto-dismiss: 3s, tick every 50ms
-+            public void onTick(long millisUntilFinished) { // Called on every tick
-+                int progress = (int) ((millisUntilFinished / 3000.0) * 100); // Calculate progress
-+                progressBar.setProgress(progress); // Update progress bar
-+            }
-+            public void onFinish() { // Called when timer finishes
-+                if (dialog.isShowing()) dialog.dismiss(); // Dismiss dialog
-+            }
-+        }.start(); // Start timer
-+    }
- }
-\ No newline at end of file
-Index: app/src/main/res/values/colors.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<resources>\r\n    <color name=\"purple_200\">#FFBB86FC</color>\r\n    <color name=\"purple_500\">#FF6200EE</color>\r\n    <color name=\"purple_700\">#FF3700B3</color>\r\n    <color name=\"teal_200\">#FF03DAC5</color>\r\n    <color name=\"teal_700\">#FF018786</color>\r\n    <color name=\"black\">#FF000000</color>\r\n    <color name=\"white\">#FFFFFFFF</color>\r\n    <color name=\"menu_popup_text_color\">#FFFFFF</color> <!-- \uD83E\uDD0D White text for menu -->\r\n    <color name=\"gray\">#FF888888</color> <!-- medium gray -->\r\n    <color name=\"dark_gray\">#71797E</color> <!-- dark gray -->\r\n    <color name=\"delete_red\">#FF3B30</color> <!-- Apple-style red -->\r\n\r\n    <color name=\"red\">#F44336</color>\r\n    <color name=\"yellow\">#FFEB3B</color>\r\n\r\n</resources>\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/values/colors.xml b/app/src/main/res/values/colors.xml
---- a/app/src/main/res/values/colors.xml	(revision aeff7419715d5d540dc246f922fac8ddd8b6be06)
-+++ b/app/src/main/res/values/colors.xml	(date 1762068109180)
-@@ -13,6 +13,8 @@
-     <color name="delete_red">#FF3B30</color> <!-- Apple-style red -->
- 
-     <color name="red">#F44336</color>
--    <color name="yellow">#FFEB3B</color>
-+    <color name="yellow">#FFC107</color>
-+
-+    <color name="red_orange">#FF5722</color>
- 
- </resources>
-Index: app/src/main/res/layout/fragment_transactions.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:padding=\"16dp\"\r\n    tools:context=\".ui.transactions.TransactionsFragment\">\r\n\r\n    <Spinner\r\n        android:id=\"@+id/spinnerMonthYear\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"48dp\"\r\n        android:prompt=\"@string/select_month_year\"\r\n        android:background=\"@drawable/teal_color_border_button_outline\"\r\n        android:spinnerMode=\"dropdown\"\r\n        android:paddingStart=\"12dp\"\r\n        android:paddingEnd=\"12dp\"\r\n        android:gravity=\"center_vertical\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toStartOf=\"@+id/buttonAddTransaction\"\r\n        android:layout_marginEnd=\"8dp\"/>\r\n\r\n    <ImageButton\r\n        android:id=\"@+id/buttonAddTransaction\"\r\n        android:layout_width=\"48dp\"\r\n        android:layout_height=\"48dp\"\r\n        android:background=\"@drawable/teal_color_border_button\"\r\n        android:padding=\"12dp\"\r\n        android:contentDescription=\"Add Transaction\"\r\n        android:src=\"@android:drawable/ic_input_add\"\r\n        app:tint=\"@color/white\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        android:elevation=\"4dp\" />\r\n\r\n    <ImageView\r\n        android:id=\"@+id/imageNoTransactions\"\r\n        android:layout_width=\"200dp\"\r\n        android:layout_height=\"200dp\"\r\n        android:src=\"@drawable/ic_no_transactions\"\r\n        android:contentDescription=\"No Transactions\"\r\n        android:visibility=\"gone\"\r\n        app:tint=\"#BBBBBB\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/buttonAddTransaction\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.4\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/textNoTransactions\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"No Transactions\"\r\n        android:textColor=\"#BBBBBB\"\r\n        android:textSize=\"16sp\"\r\n        android:textStyle=\"bold\"\r\n        android:visibility=\"gone\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/imageNoTransactions\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        android:layout_marginTop=\"8dp\"/>\r\n\r\n    <androidx.core.widget.NestedScrollView\r\n        android:id=\"@+id/scrollViewTransactions\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"0dp\"\r\n        android:fillViewport=\"true\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/buttonAddTransaction\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        android:layout_marginTop=\"8dp\"> <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"horizontal\"\r\n            android:gravity=\"center_vertical\"\r\n            android:layout_marginTop=\"16dp\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/textIncomeLabel\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Income\"\r\n                android:textSize=\"18sp\"\r\n                android:textStyle=\"bold\" />\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/buttonFilterIncome\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\"\r\n                android:gravity=\"center_vertical\"\r\n                android:padding=\"8dp\"\r\n                android:background=\"?attr/selectableItemBackground\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/imageFilterIncome\"\r\n                    android:layout_width=\"24dp\"\r\n                    android:layout_height=\"24dp\"\r\n                    android:src=\"@drawable/ic_filter\"\r\n                    app:tint=\"#DDDDDD\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/textFilterIncome\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"Filter\"\r\n                    android:layout_marginStart=\"4dp\"\r\n                    android:textSize=\"14sp\" />\r\n            </LinearLayout>\r\n        </LinearLayout>\r\n\r\n        <androidx.recyclerview.widget.RecyclerView\r\n            android:id=\"@+id/recyclerIncome\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"8dp\"\r\n            android:clipToPadding=\"false\"\r\n            android:nestedScrollingEnabled=\"false\"\r\n            tools:listitem=\"@layout/item_transaction\" />\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"horizontal\"\r\n            android:gravity=\"center_vertical\"\r\n            android:layout_marginTop=\"16dp\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/textExpensesLabel\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Expenses\"\r\n                android:textSize=\"18sp\"\r\n                android:textStyle=\"bold\" />\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/buttonFilterExpenses\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\"\r\n                android:gravity=\"center_vertical\"\r\n                android:padding=\"8dp\"\r\n                android:background=\"?attr/selectableItemBackground\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/imageFilterExpenses\"\r\n                    android:layout_width=\"24dp\"\r\n                    android:layout_height=\"24dp\"\r\n                    android:src=\"@drawable/ic_filter\"\r\n                    app:tint=\"@color/white\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/textFilterExpenses\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"Filter\"\r\n                    android:layout_marginStart=\"4dp\"\r\n                    android:textSize=\"14sp\" />\r\n            </LinearLayout>\r\n        </LinearLayout>\r\n\r\n        <androidx.recyclerview.widget.RecyclerView\r\n            android:id=\"@+id/recyclerExpenses\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"8dp\"\r\n            android:clipToPadding=\"false\"\r\n            android:nestedScrollingEnabled=\"false\"\r\n            tools:listitem=\"@layout/item_transaction\" />\r\n\r\n    </LinearLayout>\r\n    </androidx.core.widget.NestedScrollView>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/fragment_transactions.xml b/app/src/main/res/layout/fragment_transactions.xml
---- a/app/src/main/res/layout/fragment_transactions.xml	(revision aeff7419715d5d540dc246f922fac8ddd8b6be06)
-+++ b/app/src/main/res/layout/fragment_transactions.xml	(date 1762070111904)
-@@ -73,7 +73,9 @@
-         app:layout_constraintStart_toStartOf="parent"
-         app:layout_constraintEnd_toEndOf="parent"
-         app:layout_constraintBottom_toBottomOf="parent"
--        android:layout_marginTop="8dp"> <LinearLayout
-+        android:layout_marginTop="8dp">
-+
-+        <LinearLayout
-         android:layout_width="match_parent"
-         android:layout_height="wrap_content"
-         android:orientation="vertical">
-Index: app/src/main/res/layout/item_transaction.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:padding=\"12dp\"\r\n    android:background=\"@drawable/transaction_item_bg\">\r\n\r\n    <!-- Category Text -->\r\n    <TextView\r\n        android:id=\"@+id/tvCategory\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Food\"\r\n        android:textSize=\"16sp\"\r\n        android:textStyle=\"bold\"\r\n        android:textColor=\"@color/white\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\" />\r\n\r\n    <!-- Amount Text -->\r\n    <TextView\r\n        android:id=\"@+id/tvAmount\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"$12.50\"\r\n        android:textSize=\"16sp\"\r\n        android:textStyle=\"bold\"\r\n        android:textColor=\"@color/white\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintStart_toEndOf=\"@id/tvCategory\"\r\n        app:layout_constraintEnd_toStartOf=\"@id/btnEdit\"\r\n        app:layout_constraintHorizontal_bias=\"1\"\r\n        android:gravity=\"end\"\r\n        android:layout_marginEnd=\"15dp\" />\r\n\r\n    <!-- Description Text -->\r\n    <TextView\r\n        android:id=\"@+id/tvDescription\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Lunch at McDonald's\"\r\n        android:textSize=\"14sp\"\r\n        android:textColor=\"#DDDDDD\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tvCategory\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toStartOf=\"@id/btnEdit\"\r\n        android:layout_marginTop=\"4dp\"\r\n        android:layout_marginEnd=\"15dp\" />\r\n\r\n    <!-- Edit Button -->\r\n    <ImageButton\r\n        android:id=\"@+id/btnEdit\"\r\n        android:layout_width=\"36dp\"\r\n        android:layout_height=\"36dp\"\r\n        android:layout_marginEnd=\"4dp\"\r\n        android:background=\"@drawable/button_border_ash\"\r\n        android:contentDescription=\"Edit Transaction\"\r\n        android:padding=\"8dp\"\r\n        android:src=\"@drawable/ic_edit\"\r\n        app:tint=\"#DDDDDD\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintEnd_toStartOf=\"@id/btnDelete\"\r\n        app:layout_constraintBottom_toBottomOf=\"@id/tvDescription\" />\r\n\r\n    <!-- Delete Button -->\r\n    <ImageButton\r\n        android:id=\"@+id/btnDelete\"\r\n        android:layout_width=\"36dp\"\r\n        android:layout_height=\"36dp\"\r\n        android:background=\"@drawable/button_border_black\"\r\n        android:contentDescription=\"Delete Transaction\"\r\n        android:padding=\"8dp\"\r\n        android:src=\"@drawable/ic_delete\"\r\n        app:tint=\"#000000\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintBottom_toBottomOf=\"@id/tvDescription\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/item_transaction.xml b/app/src/main/res/layout/item_transaction.xml
---- a/app/src/main/res/layout/item_transaction.xml	(revision aeff7419715d5d540dc246f922fac8ddd8b6be06)
-+++ b/app/src/main/res/layout/item_transaction.xml	(date 1762064417765)
-@@ -1,81 +1,88 @@
- <?xml version="1.0" encoding="utf-8"?>
--<androidx.constraintlayout.widget.ConstraintLayout
-+<com.google.android.material.card.MaterialCardView
-     xmlns:android="http://schemas.android.com/apk/res/android"
-     xmlns:app="http://schemas.android.com/apk/res-auto"
-     android:layout_width="match_parent"
-     android:layout_height="wrap_content"
--    android:padding="12dp"
--    android:background="@drawable/transaction_item_bg">
-+    android:layout_marginVertical="8dp"
-+    android:layout_marginHorizontal="2dp"
-+    app:cardCornerRadius="16dp"
-+    app:cardElevation="10dp"
-+    app:strokeColor="@color/gray"
-+    app:strokeWidth="1dp">
-+
-+    <androidx.constraintlayout.widget.ConstraintLayout
-+        android:layout_width="match_parent"
-+        android:layout_height="wrap_content"
-+        android:padding="12dp"
-+        android:background="@drawable/glassy_teal_popup">
- 
--    <!-- Category Text -->
--    <TextView
--        android:id="@+id/tvCategory"
--        android:layout_width="wrap_content"
--        android:layout_height="wrap_content"
--        android:text="Food"
--        android:textSize="16sp"
--        android:textStyle="bold"
--        android:textColor="@color/white"
--        app:layout_constraintTop_toTopOf="parent"
--        app:layout_constraintStart_toStartOf="parent" />
-+        <TextView
-+            android:id="@+id/tvCategory"
-+            android:layout_width="wrap_content"
-+            android:layout_height="wrap_content"
-+            android:text="Food"
-+            android:textSize="16sp"
-+            android:textStyle="bold"
-+            android:textColor="@color/white"
-+            app:layout_constraintTop_toTopOf="parent"
-+            app:layout_constraintStart_toStartOf="parent" />
- 
--    <!-- Amount Text -->
--    <TextView
--        android:id="@+id/tvAmount"
--        android:layout_width="0dp"
--        android:layout_height="wrap_content"
--        android:text="$12.50"
--        android:textSize="16sp"
--        android:textStyle="bold"
--        android:textColor="@color/white"
--        app:layout_constraintTop_toTopOf="parent"
--        app:layout_constraintStart_toEndOf="@id/tvCategory"
--        app:layout_constraintEnd_toStartOf="@id/btnEdit"
--        app:layout_constraintHorizontal_bias="1"
--        android:gravity="end"
--        android:layout_marginEnd="15dp" />
-+        <TextView
-+            android:id="@+id/tvAmount"
-+            android:layout_width="0dp"
-+            android:layout_height="wrap_content"
-+            android:text="$12.50"
-+            android:textSize="16sp"
-+            android:textStyle="bold"
-+            android:textColor="@color/white"
-+            app:layout_constraintTop_toTopOf="parent"
-+            app:layout_constraintStart_toEndOf="@id/tvCategory"
-+            app:layout_constraintEnd_toStartOf="@id/btnEdit"
-+            app:layout_constraintHorizontal_bias="1"
-+            android:gravity="end"
-+            android:layout_marginEnd="15dp" />
- 
--    <!-- Description Text -->
--    <TextView
--        android:id="@+id/tvDescription"
--        android:layout_width="0dp"
--        android:layout_height="wrap_content"
--        android:text="Lunch at McDonald's"
--        android:textSize="14sp"
--        android:textColor="#DDDDDD"
--        app:layout_constraintTop_toBottomOf="@id/tvCategory"
--        app:layout_constraintStart_toStartOf="parent"
--        app:layout_constraintEnd_toStartOf="@id/btnEdit"
--        android:layout_marginTop="4dp"
--        android:layout_marginEnd="15dp" />
-+        <TextView
-+            android:id="@+id/tvDescription"
-+            android:layout_width="0dp"
-+            android:layout_height="wrap_content"
-+            android:text="Lunch at McDonald's"
-+            android:textSize="14sp"
-+            android:textColor="#DDDDDD"
-+            app:layout_constraintTop_toBottomOf="@id/tvCategory"
-+            app:layout_constraintStart_toStartOf="parent"
-+            app:layout_constraintEnd_toStartOf="@id/btnEdit"
-+            android:layout_marginTop="4dp"
-+            android:layout_marginEnd="15dp" />
- 
--    <!-- Edit Button -->
--    <ImageButton
--        android:id="@+id/btnEdit"
--        android:layout_width="36dp"
--        android:layout_height="36dp"
--        android:layout_marginEnd="4dp"
--        android:background="@drawable/button_border_ash"
--        android:contentDescription="Edit Transaction"
--        android:padding="8dp"
--        android:src="@drawable/ic_edit"
--        app:tint="#DDDDDD"
--        app:layout_constraintTop_toTopOf="parent"
--        app:layout_constraintEnd_toStartOf="@id/btnDelete"
--        app:layout_constraintBottom_toBottomOf="@id/tvDescription" />
-+        <ImageButton
-+            android:id="@+id/btnEdit"
-+            android:layout_width="36dp"
-+            android:layout_height="36dp"
-+            android:layout_marginEnd="4dp"
-+            android:background="@drawable/button_border_ash"
-+            android:contentDescription="Edit Transaction"
-+            android:padding="8dp"
-+            android:src="@drawable/ic_edit"
-+            app:tint="#DDDDDD"
-+            app:layout_constraintTop_toTopOf="parent"
-+            app:layout_constraintEnd_toStartOf="@id/btnDelete"
-+            app:layout_constraintBottom_toBottomOf="@id/tvDescription" />
- 
--    <!-- Delete Button -->
--    <ImageButton
--        android:id="@+id/btnDelete"
--        android:layout_width="36dp"
--        android:layout_height="36dp"
--        android:background="@drawable/button_border_black"
--        android:contentDescription="Delete Transaction"
--        android:padding="8dp"
--        android:src="@drawable/ic_delete"
--        app:tint="#000000"
--        app:layout_constraintTop_toTopOf="parent"
--        app:layout_constraintEnd_toEndOf="parent"
--        app:layout_constraintBottom_toBottomOf="@id/tvDescription" />
-+        <ImageButton
-+            android:id="@+id/btnDelete"
-+            android:layout_width="36dp"
-+            android:layout_height="36dp"
-+            android:background="@drawable/button_border_black"
-+            android:contentDescription="Delete Transaction"
-+            android:padding="8dp"
-+            android:src="@drawable/ic_delete"
-+            app:tint="#000000"
-+            app:layout_constraintTop_toTopOf="parent"
-+            app:layout_constraintEnd_toEndOf="parent"
-+            app:layout_constraintBottom_toBottomOf="@id/tvDescription" />
- 
--</androidx.constraintlayout.widget.ConstraintLayout>
-+    </androidx.constraintlayout.widget.ConstraintLayout>
-+
-+</com.google.android.material.card.MaterialCardView>
-\ No newline at end of file
-Index: app/src/main/java/com/example/finix/data/Budget.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.finix.data;\r\n\r\nimport androidx.room.ColumnInfo;\r\nimport androidx.room.Entity;\r\nimport androidx.room.ForeignKey;\r\nimport androidx.room.PrimaryKey;\r\n\r\n// Setting the entity for the budgets table, now with a Foreign Key to Category\r\n@Entity(tableName = \"budgets\",\r\n        foreignKeys = @ForeignKey(entity = Category.class,\r\n                parentColumns = \"id\", // PK of Category table\r\n                childColumns = \"category_id\", // FK in Budget table\r\n                onDelete = ForeignKey.RESTRICT))\r\npublic class Budget {\r\n\r\n    // Primary Key\r\n    @PrimaryKey(autoGenerate = true)\r\n    @ColumnInfo(name = \"budget_id\")\r\n    private int id;\r\n\r\n    // Updated to use the Foreign Key category_id\r\n    @ColumnInfo(name = \"category_id\")\r\n    private int categoryId;\r\n\r\n    @ColumnInfo(name = \"budgeted_amount\")\r\n    private double budgetedAmount;\r\n\r\n    @ColumnInfo(name = \"start_date\")\r\n    private long startDate;\r\n\r\n    @ColumnInfo(name = \"end_date\")\r\n    private long endDate;\r\n\r\n    // Constructor updated\r\n    public Budget(int categoryId, double budgetedAmount, long startDate, long endDate) {\r\n        this.categoryId = categoryId;\r\n        this.budgetedAmount = budgetedAmount;\r\n        this.startDate = startDate;\r\n        this.endDate = endDate;\r\n    }\r\n\r\n    // --- Getters and Setters ---\r\n    public int getId() { return id; }\r\n    public void setId(int id) { this.id = id; }\r\n\r\n    public int getCategoryId() { return categoryId; } // Updated getter\r\n    public void setCategoryId(int categoryId) { this.categoryId = categoryId; } // Updated setter\r\n\r\n    public double getBudgetedAmount() { return budgetedAmount; }\r\n    public void setBudgetedAmount(double budgetedAmount) { this.budgetedAmount = budgetedAmount; }\r\n\r\n    public long getStartDate() { return startDate; }\r\n    public void setStartDate(long startDate) { this.startDate = startDate; }\r\n\r\n    public long getEndDate() { return endDate; }\r\n    public void setEndDate(long endDate) { this.endDate = endDate; }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/finix/data/Budget.java b/app/src/main/java/com/example/finix/data/Budget.java
---- a/app/src/main/java/com/example/finix/data/Budget.java	(revision aeff7419715d5d540dc246f922fac8ddd8b6be06)
-+++ b/app/src/main/java/com/example/finix/data/Budget.java	(date 1762076401847)
-@@ -3,13 +3,16 @@
- import androidx.room.ColumnInfo;
- import androidx.room.Entity;
- import androidx.room.ForeignKey;
-+import androidx.room.Ignore;
-+import androidx.room.Index;
- import androidx.room.PrimaryKey;
- 
- // Setting the entity for the budgets table, now with a Foreign Key to Category
- @Entity(tableName = "budgets",
-+        indices = {@Index(value = {"category_id"})}, // Fix applied here
-         foreignKeys = @ForeignKey(entity = Category.class,
--                parentColumns = "id", // PK of Category table
--                childColumns = "category_id", // FK in Budget table
-+                parentColumns = "id",
-+                childColumns = "category_id",
-                 onDelete = ForeignKey.RESTRICT))
- public class Budget {
- 
-@@ -31,6 +34,8 @@
-     @ColumnInfo(name = "end_date")
-     private long endDate;
- 
-+    public Budget(){};
-+    @Ignore
-     // Constructor updated
-     public Budget(int categoryId, double budgetedAmount, long startDate, long endDate) {
-         this.categoryId = categoryId;
-Index: app/src/main/res/drawable/transaction_item_bg.xml
-===================================================================
-diff --git a/app/src/main/res/drawable/transaction_item_bg.xml b/app/src/main/res/drawable/transaction_item_bg.xml
-deleted file mode 100644
---- a/app/src/main/res/drawable/transaction_item_bg.xml	(revision aeff7419715d5d540dc246f922fac8ddd8b6be06)
-+++ /dev/null	(revision aeff7419715d5d540dc246f922fac8ddd8b6be06)
-@@ -1,22 +0,0 @@
--<!-- res/drawable/transaction_item_bg.xml -->
--<shape xmlns:android="http://schemas.android.com/apk/res/android"
--    android:shape="rectangle">
--
--    <!-- Dark glassy teal fill -->
--    <solid android:color="#AA00796B"/> <!-- semi-transparent dark teal -->
--
--    <!-- Rounded corners -->
--    <corners android:radius="12dp"/>
--
--    <!-- Optional subtle border -->
--    <stroke
--        android:width="1dp"
--        android:color="#55000000"/> <!-- semi-transparent black for soft edge -->
--
--    <!-- Inner padding -->
--    <padding
--        android:left="8dp"
--        android:top="8dp"
--        android:right="8dp"
--        android:bottom="8dp"/>
--</shape>
-Index: app/src/main/res/drawable/ic_no_budgets.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/drawable/ic_no_budgets.xml b/app/src/main/res/drawable/ic_no_budgets.xml
-new file mode 100644
---- /dev/null	(date 1762071425118)
-+++ b/app/src/main/res/drawable/ic_no_budgets.xml	(date 1762071425118)
-@@ -0,0 +1,19 @@
-+<vector xmlns:android="http://schemas.android.com/apk/res/android" android:height="512dp" android:viewportHeight="980" android:viewportWidth="980" android:width="512dp">
-+      
-+    <path android:fillColor="#000000" android:pathData="M485.7,-0.45C489.06,-0.44 492.42,-0.44 495.78,-0.47C518.51,-0.62 540.51,0.61 563,4C564.4,4.2 564.4,4.2 565.83,4.41C576.84,6.01 587.65,8.37 598.47,10.91C601.02,11.51 603.58,12.1 606.14,12.68C614.17,14.54 622.15,16.44 630,19C630.97,19.31 631.94,19.62 632.94,19.94C669.76,31.86 704.67,46.27 738,66C738.87,66.52 738.87,66.52 739.77,67.04C746.88,71.25 753.95,75.53 760.94,79.94C761.55,80.32 762.16,80.69 762.78,81.08C764.23,82 765.62,82.99 767,84C767,84.66 767,85.32 767,86C767.99,86 768.98,86 770,86C770,86.66 770,87.32 770,88C771.09,88.4 771.09,88.4 772.21,88.8C776.89,90.81 780.74,93.98 784.81,97C786.14,97.96 786.14,97.96 787.49,98.95C788.32,99.56 789.16,100.18 790.02,100.81C790.78,101.38 791.55,101.94 792.34,102.52C792.88,103.01 793.43,103.5 794,104C794,104.66 794,105.32 794,106C795.07,106.37 795.07,106.37 796.17,106.75C799.31,108.14 801.64,109.84 804.31,112C805.2,112.7 806.08,113.4 806.99,114.13C807.65,114.74 808.32,115.36 809,116C809,116.66 809,117.32 809,118C809.58,118.27 810.17,118.53 810.77,118.81C814.61,120.86 817.57,123.93 820.75,126.88C821.8,127.81 821.8,127.81 822.86,128.77C823.52,129.38 824.18,129.99 824.86,130.62C825.46,131.17 826.07,131.72 826.69,132.29C828,134 828,134 828,138C826.77,139.73 826.77,139.73 825,141.49C824.33,142.17 823.66,142.85 822.97,143.54C821.84,144.65 821.84,144.65 820.7,145.77C819.91,146.56 819.13,147.35 818.32,148.16C815.67,150.82 813.01,153.45 810.35,156.09C808.45,157.98 806.56,159.88 804.66,161.77C800.57,165.86 796.48,169.94 792.38,174.01C786.45,179.91 780.53,185.82 774.61,191.73C765,201.32 755.38,210.91 745.76,220.49C736.42,229.78 727.09,239.08 717.76,248.38C716.9,249.24 716.9,249.24 716.02,250.12C709.75,256.37 703.48,262.62 697.21,268.88C696.39,269.7 696.39,269.7 695.54,270.54C692.24,273.84 692.24,273.84 688.93,277.14C682.48,283.57 676.03,290.01 669.57,296.44C665.52,300.47 661.47,304.5 657.42,308.54C655.09,310.87 652.75,313.2 650.41,315.52C647.87,318.05 645.34,320.57 642.81,323.1C642.07,323.83 641.33,324.57 640.57,325.32C637.15,328.74 633.97,332.17 631,336C626.57,340 626.57,340 623,340C623.61,334.81 625.27,330.51 627.31,325.75C627.95,324.23 628.59,322.72 629.23,321.2C629.69,320.12 629.69,320.12 630.16,319.01C631.2,316.52 632.16,314.01 633.13,311.5C634.68,307.56 636.6,303.94 638.75,300.3C640.05,297.92 641.08,295.47 642.13,292.97C643.79,289.21 645.71,285.58 647.63,281.94C648.06,281.11 648.5,280.27 648.95,279.42C652.32,273.09 656,267.08 659.96,261.11C662.4,257.39 664.62,253.57 666.81,249.7C667.2,249.14 667.59,248.58 668,248C668.66,248 669.32,248 670,248C670.34,246.98 670.34,246.98 670.69,245.93C672.32,242.29 674.55,239.28 676.94,236.13C677.92,234.8 678.91,233.48 679.9,232.16C680.41,231.48 680.92,230.8 681.44,230.1C683.02,227.98 684.56,225.83 686.1,223.68C686.6,222.99 687.09,222.3 687.61,221.59C688.57,220.26 689.52,218.92 690.47,217.57C691.6,216.01 692.79,214.5 694,213C694.66,213 695.32,213 696,213C698.65,207.08 698.65,207.08 698.4,200.8C695.54,195.86 691.42,192.69 686.79,189.45C686.2,188.97 685.61,188.49 685,188C685,187.34 685,186.68 685,186C684.38,185.69 683.76,185.38 683.13,185.06C681.75,184.38 680.38,183.69 679,183C679,182.34 679,181.68 679,181C677.9,180.6 677.9,180.6 676.77,180.19C674.05,179.02 672.05,177.71 669.69,175.94C659.54,168.69 648.44,162.92 637,158C636.27,157.65 635.54,157.31 634.79,156.95C629.4,154.42 623.92,152.68 618.22,150.99C615.44,150.14 612.77,149.18 610.06,148.13C596.22,143 581.53,139.51 567,137C566.32,136.88 565.63,136.76 564.92,136.64C559.3,135.67 553.65,134.82 548,134C547.15,133.87 546.3,133.74 545.42,133.61C513.11,128.79 472.21,123.66 440,131C436.1,135.72 434.93,139.86 434.28,145.82C434.15,146.99 434.03,148.16 433.9,149.36C433.77,150.6 433.63,151.85 433.5,153.13C433.37,154.38 433.23,155.64 433.09,156.94C432.12,166.28 431.39,175.61 431,185C426.77,186.22 424.71,185.75 420.75,183.94C414.1,181.22 407.36,179.43 400.38,177.75C399.33,177.49 398.28,177.23 397.2,176.97C369.29,170.38 336.04,171.92 311,187C296.52,196.06 296.52,196.06 286,209C285.34,209 284.68,209 284,209C282.1,213.57 281.4,217.28 283,222C285.08,225.43 287.52,228.54 290,231.69C291.3,233.35 292.59,235.02 293.88,236.7C294.45,237.43 295.02,238.16 295.62,238.91C296.99,240.99 297.57,242.57 298,245C298.66,245 299.32,245 300,245C301.26,246.8 301.26,246.8 302.69,249.31C304.93,253.19 307.25,256.99 309.69,260.75C316,270.64 316,270.64 316,275C316.66,275 317.32,275 318,275C318.5,276.06 318.99,277.13 319.5,278.23C323.36,286.47 327.31,294.65 331.41,302.78C333.33,306.67 335.12,310.6 336.89,314.57C337.86,316.69 338.9,318.75 340,320.81C342.33,325.38 343.91,330.2 345.56,335.05C346.68,338.25 347.98,341.36 349.3,344.49C352.07,351.08 354.61,357.74 357.08,364.45C357.82,366.46 358.58,368.47 359.33,370.48C359.81,371.78 360.29,373.07 360.77,374.37C361.2,375.53 361.63,376.68 362.07,377.87C362.95,380.83 363.35,382.95 363,386C361.13,388.31 361.13,388.31 359,390C358.34,390 357.68,390 357,390C357,390.66 357,391.32 357,392C355.34,393.34 353.67,394.67 352,396C351.34,396.83 350.68,397.65 350,398.5C347.9,401.13 345.62,402.9 343,405C341.65,406.65 340.31,408.32 339,410C337.85,411.14 337.85,411.14 336.68,412.31C328.8,420.21 322.06,429.1 315.44,438.06C314.83,438.88 314.22,439.71 313.6,440.55C311.11,443.95 308.8,447.18 307,451C306.34,451 305.68,451 305,451C304.71,451.74 304.42,452.48 304.13,453.25C303.18,455.57 302.15,457.78 301,460C300.34,460 299.68,460 299,460C298.34,461.98 297.68,463.96 297,466C296.34,466 295.68,466 295,466C294.81,466.88 294.81,466.88 294.61,467.78C293.62,471.36 291.71,474.5 289.94,477.75C289.11,479.29 288.29,480.82 287.47,482.36C287.05,483.14 286.64,483.92 286.21,484.72C275.23,505.41 266.23,526.72 259,549C258.5,550.5 258,552 257.5,553.5C257.26,554.21 257.03,554.92 256.79,555.66C256.2,557.41 255.6,559.16 255,560.91C253.25,566 251.65,571.01 250.59,576.3C250,578.98 249.33,581.63 248.65,584.29C246.37,593.14 244.54,602.01 242.94,611C242.81,611.71 242.68,612.42 242.55,613.15C236.96,644.36 231.03,680.91 238.06,712.44C240.27,722.7 240.27,722.7 239,728C237.08,730.17 237.08,730.17 234.55,732.25C229.26,736.77 224.33,741.54 219.42,746.47C218.52,747.37 217.62,748.26 216.7,749.19C214.26,751.62 211.84,754.06 209.41,756.49C206.86,759.05 204.31,761.6 201.75,764.15C196.94,768.97 192.12,773.8 187.3,778.62C181.82,784.12 176.33,789.62 170.84,795.11C159.55,806.41 148.28,817.7 137,829C129.48,825.39 124.34,818.24 119,812C118.06,810.93 117.12,809.85 116.18,808.78C115.18,807.62 114.19,806.47 113.19,805.31C112.71,804.77 112.23,804.22 111.73,803.66C109.1,800.59 107.24,797.86 106,794C105.34,794 104.68,794 104,794C102.52,792.34 102.52,792.34 100.81,790.02C100.2,789.18 99.58,788.35 98.95,787.49C98.3,786.61 97.66,785.72 97,784.81C96.36,783.95 95.72,783.08 95.05,782.19C92.14,778.21 89.69,774.67 88,770C87.34,770 86.68,770 86,770C85.26,768.61 85.26,768.61 84.5,767.19C82.58,763.81 80.38,760.74 78.06,757.63C75.21,753.76 72.71,749.93 70.47,745.69C68.87,742.75 67.16,739.89 65.44,737.02C61.23,729.96 57.29,722.88 53.7,715.48C52.24,712.5 50.74,709.55 49.23,706.6C40.41,689.33 32.83,671.54 26.72,653.13C25.69,650.08 24.56,647.08 23.44,644.06C15.61,622.14 9.8,598.95 6,576C5.81,574.89 5.81,574.89 5.62,573.76C4.04,564.31 2.66,554.87 1.65,545.34C1.33,542.4 0.94,539.82 0,537C-0.1,534.05 -0.15,531.12 -0.15,528.17C-0.15,526.82 -0.15,526.82 -0.16,525.44C-0.16,522.45 -0.17,519.45 -0.17,516.46C-0.17,514.38 -0.17,512.3 -0.18,510.22C-0.18,505.85 -0.19,501.48 -0.19,497.11C-0.19,491.52 -0.2,485.94 -0.22,480.35C-0.23,476.05 -0.23,471.75 -0.23,467.44C-0.23,465.38 -0.23,463.33 -0.24,461.27C-0.25,458.38 -0.25,455.49 -0.24,452.6C-0.25,451.76 -0.25,450.92 -0.26,450.05C-0.23,445.17 0.32,440.75 1.52,436.02C2.3,432.74 2.59,429.41 2.94,426.06C4.94,407.84 8.77,390.07 13,372.25C13.25,371.2 13.5,370.14 13.76,369.06C22.17,334.01 35.64,300.06 52,268C52.79,266.38 53.58,264.75 54.38,263.13C60.81,250.29 68.3,238.02 75.87,225.84C76.85,224.24 77.78,222.61 78.7,220.98C79.13,220.33 79.56,219.67 80,219C80.66,219 81.32,219 82,219C82.29,218.26 82.58,217.51 82.88,216.75C83.82,214.43 84.85,212.22 86,210C86.66,210 87.32,210 88,210C88.26,209.27 88.53,208.54 88.8,207.79C90.81,203.11 93.98,199.26 97,195.19C97.64,194.3 98.28,193.42 98.95,192.51C99.56,191.68 100.18,190.84 100.81,189.98C101.38,189.22 101.94,188.45 102.52,187.66C103.01,187.12 103.5,186.57 104,186C104.66,186 105.32,186 106,186C106.39,185.15 106.39,185.15 106.79,184.28C108.1,181.8 109.63,179.76 111.38,177.56C112,176.78 112.62,176 113.25,175.2C113.83,174.47 114.41,173.75 115,173C115.76,171.99 116.53,170.98 117.31,169.94C117.87,169.3 118.43,168.66 119,168C119.66,168 120.32,168 121,168C121.21,167.47 121.43,166.94 121.65,166.39C123.51,163.1 126.04,160.53 128.63,157.81C129.71,156.66 130.79,155.51 131.88,154.35C132.67,153.5 132.67,153.5 133.48,152.64C136.23,149.67 138.86,146.59 141.48,143.51C143,142 143,142 145,142C145,141.34 145,140.68 145,140C146.29,138.7 146.29,138.7 148.19,137.13C150.97,134.77 153.7,132.37 156.36,129.87C156.94,129.33 157.52,128.78 158.11,128.22C159.28,127.12 160.45,126.02 161.61,124.91C165.78,121 165.78,121 168,121C168.33,120.01 168.66,119.02 169,118C170.35,116.67 170.35,116.67 172.05,115.34C172.67,114.85 173.28,114.37 173.92,113.88C174.89,113.13 174.89,113.13 175.88,112.38C176.51,111.87 177.15,111.37 177.81,110.85C180.58,108.7 182.63,107.12 186,106C186,105.34 186,104.68 186,104C187.66,102.52 187.66,102.52 189.98,100.81C190.82,100.2 191.65,99.58 192.51,98.95C193.39,98.3 194.28,97.66 195.19,97C196.05,96.36 196.92,95.72 197.81,95.05C201.79,92.14 205.33,89.69 210,88C210,87.34 210,86.68 210,86C216.75,82 216.75,82 219,82C219,81.34 219,80.68 219,80C219.53,79.72 220.07,79.44 220.62,79.15C224.9,76.85 228.93,74.41 232.88,71.56C238.03,67.89 243.4,64.93 249,62C250.82,61.03 252.64,60.06 254.46,59.09C255.74,58.4 257.02,57.72 258.3,57.04C261.38,55.41 264.44,53.76 267.5,52.07C273.12,48.98 278.65,46.22 284.64,43.95C286.98,43.01 289.15,41.92 291.38,40.75C325.92,23.21 366.01,12.78 404,6C404.66,5.88 405.32,5.76 406,5.64C432.52,0.91 458.82,-0.52 485.7,-0.45Z"/>
-+      
-+    <path android:fillColor="#000000" android:pathData="M842,152C846.47,152.49 848.37,153.9 851.44,157.13C852.21,157.93 852.98,158.74 853.77,159.57C854.51,160.37 855.24,161.18 856,162C856.63,162.69 857.26,163.37 857.91,164.08C862,168.68 862,168.68 862,171C862.99,171.33 863.98,171.66 865,172C866.7,173.92 868.26,175.84 869.81,177.88C870.28,178.48 870.75,179.09 871.24,179.72C876,185.91 880.62,192.21 885.23,198.51C886.07,199.67 886.07,199.67 886.93,200.85C887.46,201.57 887.99,202.3 888.53,203.04C889.77,204.7 891.08,206.29 892.41,207.87C894,210 894,210 894,213C894.66,213 895.32,213 896,213C897.47,215.03 898.81,217.06 900.13,219.19C900.53,219.83 900.93,220.46 901.34,221.12C902.57,223.08 903.78,225.04 905,227C905.65,228.04 906.31,229.08 906.98,230.16C923.29,256.29 939.48,284.6 949,314C949.59,315.7 950.18,317.39 950.77,319.09C952.53,324.13 954.29,329.18 956.04,334.23C956.61,335.88 957.19,337.53 957.76,339.18C966.26,363.45 971.87,388.65 976,414C976.17,415.04 976.35,416.07 976.53,417.14C980.2,439.61 980.63,461.83 980.52,484.57C980.5,489.56 980.51,494.56 980.54,499.55C980.62,522.06 979.84,543.78 976,566C975.71,567.77 975.42,569.54 975.13,571.3C973.72,579.93 971.9,588.47 970,597C969.8,597.96 969.6,598.92 969.39,599.91C967.32,609.49 964.48,618.84 961.7,628.23C960.71,631.56 959.74,634.89 958.83,638.24C957.05,644.76 954.92,650.87 952.22,657.07C950.99,660.01 949.98,662.97 949,666C943.44,683.06 935.01,699.15 926.94,715.14C925.45,718.09 923.98,721.04 922.5,724C921.67,725.67 920.83,727.33 920,729C919.34,729 918.68,729 918,729C917.89,729.73 917.77,730.47 917.66,731.22C916.98,734.09 916.05,735.95 914.5,738.44C913.96,739.31 913.41,740.19 912.85,741.09C912.24,742.05 911.63,743.01 911,744C910.35,745.03 909.7,746.07 909.02,747.13C907.15,750.07 905.25,753.01 903.35,755.93C902.38,757.42 901.42,758.9 900.45,760.39C898.83,762.89 897.2,765.38 895.56,767.88C895.04,768.68 894.52,769.48 893.99,770.31C893.5,771.05 893.01,771.79 892.5,772.55C892.07,773.22 891.63,773.88 891.19,774.57C890.79,775.04 890.4,775.51 890,776C889.34,776 888.68,776 888,776C888,776.99 888,777.98 888,779C887.03,780.03 886.03,781.03 885,782C883.41,784.34 881.91,786.74 880.4,789.14C879.94,789.75 879.48,790.37 879,791C878.34,791 877.68,791 877,791C876.6,791.86 876.6,791.86 876.19,792.74C871.97,800.74 865.04,807.37 859,814C857.7,815.45 856.41,816.91 855.13,818.38C854.59,818.98 854.06,819.59 853.51,820.21C851.93,822.03 851.93,822.03 850.43,824.23C849.96,824.81 849.49,825.4 849,826C848.34,826 847.68,826 847,826C846.67,826.99 846.34,827.98 846,829C845.34,829 844.68,829 844,829C843.67,829.99 843.34,830.98 843,832C842.34,832 841.68,832 841,832C840.67,832.99 840.34,833.98 840,835C839.34,835 838.68,835 838,835C837.67,835.99 837.34,836.98 837,838C836.34,838 835.68,838 835,838C834.67,838.99 834.34,839.98 834,841C833.34,841 832.68,841 832,841C831.67,841.99 831.34,842.98 831,844C830.34,844 829.68,844 829,844C828.67,844.99 828.34,845.98 828,847C827.34,847 826.68,847 826,847C826,847.66 826,848.32 826,849C824.6,850.41 824.6,850.41 822.63,852.06C819.48,854.73 816.41,857.45 813.38,860.25C809.22,863.99 804.94,867.53 800.56,871C799.96,871.48 799.36,871.96 798.73,872.46C796.17,874.47 794.12,875.96 791,877C791,877.66 791,878.32 791,879C789.23,880.23 787.41,881.39 785.56,882.5C781.62,884.62 781.62,884.62 779,888C778.01,888 777.02,888 776,888C776,888.66 776,889.32 776,890C774.56,891.16 774.56,891.16 772.44,892.5C771.62,893.03 770.81,893.55 769.96,894.09C768.99,894.72 768.01,895.35 767,896C764.49,897.66 762,899.33 759.5,901C758.2,901.87 756.89,902.73 755.59,903.6C753.49,905 751.4,906.41 749.32,907.84C745.24,910.62 741.19,913.04 736.73,915.14C734.73,916.09 734.73,916.09 732,918C731.01,918 730.02,918 729,918C729,918.66 729,919.32 729,920C727.96,920.52 726.92,921.04 725.85,921.57C725.18,921.91 724.51,922.24 723.82,922.59C722.34,923.33 720.86,924.07 719.38,924.81C716.38,926.31 713.38,927.81 710.38,929.33C707.93,930.57 705.47,931.79 703,933C702.36,933.32 701.72,933.63 701.05,933.96C657.55,955.23 609.58,970.03 561.59,976.64C559.89,976.87 558.19,977.12 556.49,977.38C536.35,980.4 516.32,980.5 496,980.45C492.22,980.44 488.44,980.44 484.65,980.47C461.4,980.61 438.97,979.75 416,976C414.13,975.71 412.26,975.42 410.39,975.14C401.52,973.77 392.75,972 384,970C382.87,969.75 382.87,969.75 381.73,969.49C363.18,965.35 345.17,959.75 327.13,953.81C325.65,953.33 325.65,953.33 324.16,952.84C318.27,950.88 312.64,948.59 307,946C305.11,945.2 303.21,944.41 301.31,943.63C299.78,942.99 299.78,942.99 298.22,942.34C296.04,941.43 293.86,940.53 291.68,939.63C283.25,936.09 275.08,932.14 266.93,927.98C263.63,926.3 260.32,924.65 257,923C257,922.34 257,921.68 257,921C255.98,920.88 255.98,920.88 254.95,920.76C251.14,919.78 248.11,917.88 244.81,915.81C243.47,914.99 242.12,914.16 240.77,913.33C240.12,912.93 239.47,912.53 238.8,912.11C236.53,910.71 234.24,909.36 231.94,908C227.72,905.46 223.54,902.87 219.38,900.25C218.75,899.86 218.12,899.47 217.47,899.07C215.94,898.1 214.47,897.06 213,896C213,895.34 213,894.68 213,894C212.01,894 211.02,894 210,894C210,893.34 210,892.68 210,892C209.26,891.73 208.52,891.46 207.76,891.18C205.12,890.05 203.11,888.82 200.81,887.13C199.65,886.27 199.65,886.27 198.46,885.4C197.65,884.8 196.84,884.19 196,883.56C194.74,882.63 194.74,882.63 193.46,881.68C187.23,877.02 181.23,872.13 175.37,867.01C173.18,864.99 173.18,864.99 171,864C171,863.34 171,862.68 171,862C170.21,861.69 170.21,861.69 169.41,861.37C165.97,859.41 163.31,856.78 160.44,854.06C159.86,853.52 159.28,852.99 158.69,852.43C156.08,849.99 153.51,847.53 151,845C152.22,841.34 154.29,839.59 157,837C158.3,835.7 159.59,834.4 160.88,833.1C161.98,831.99 161.98,831.99 163.1,830.86C163.89,830.06 164.68,829.27 165.49,828.45C174.06,819.81 182.65,811.18 191.23,802.56C196.43,797.34 201.62,792.12 206.8,786.9C211.33,782.32 215.87,777.76 220.42,773.2C222.83,770.79 225.23,768.38 227.62,765.96C230.28,763.27 232.96,760.59 235.64,757.91C236.83,756.7 236.83,756.7 238.04,755.47C239.13,754.38 239.13,754.38 240.25,753.27C240.88,752.63 241.51,752 242.16,751.34C244,750 244,750 248,750C248.21,750.64 248.42,751.29 248.63,751.95C251.3,759.77 254.84,766.87 259,774C259.38,774.65 259.76,775.3 260.15,775.98C265.36,784.83 270.86,792.57 278,800C279.15,801.37 280.3,802.75 281.44,804.13C284.87,808.11 288.86,811.19 293.06,814.34C293.7,814.89 294.34,815.43 295,816C295,816.66 295,817.32 295,818C295.99,818 296.98,818 298,818C299.49,819.35 299.49,819.35 301,821C305.53,824.63 310.36,827.41 315.56,829.94C316.26,830.28 316.96,830.62 317.68,830.97C319.78,831.99 321.89,833 324,834C325.13,834.54 326.25,835.08 327.41,835.64C334.23,838.74 341.13,841.09 348.31,843.19C349.12,843.43 349.92,843.66 350.75,843.91C363.75,847.55 377.1,849.46 390.56,850.19C391.66,850.25 391.66,850.25 392.78,850.31C421.13,851.77 449.6,851.21 477.98,851.04C482.21,851.01 486.45,850.99 490.68,850.96C505.43,850.88 520.18,850.79 534.93,850.68C539.87,850.64 544.8,850.61 549.74,850.58C555.62,850.54 561.5,850.5 567.39,850.44C569.56,850.42 571.74,850.41 573.92,850.4C590.7,850.3 607.14,849.46 623.56,845.75C624.53,845.53 625.5,845.32 626.49,845.09C657.42,837.91 685.89,820.83 706,796C706.33,795.34 706.66,794.68 707,794C707.66,794 708.32,794 709,794C709.27,793.26 709.54,792.52 709.81,791.76C710.97,789.08 712.23,787.18 714,784.88C742.24,745.31 749.14,692.05 742.56,644.83C742.23,642.89 741.89,640.95 741.53,639.01C740.93,635.6 740.49,632.19 740.06,628.75C739.1,621.42 737.81,614.19 736.38,606.94C736.02,605.12 735.69,603.29 735.35,601.46C733.34,590.78 730.58,580.32 727.76,569.82C727.27,568.01 726.79,566.19 726.3,564.37C725.67,561.97 725.02,559.58 724.38,557.19C724.19,556.5 724.01,555.82 723.82,555.11C722.54,550.46 720.88,546.04 719.05,541.58C718.02,539.04 717.03,536.49 716.07,533.92C710.89,520.14 705.48,506.66 698.79,493.53C697.56,491.11 696.36,488.69 695.18,486.25C692.18,480.1 689.09,474.49 685,469C684.25,467.68 683.52,466.34 682.81,465C680.01,459.78 676.66,454.93 673.3,450.05C670,445.21 670,445.21 670,443C669.34,443 668.68,443 668,443C666.27,440.88 666.27,440.88 664.38,438.13C663.74,437.22 663.11,436.32 662.46,435.38C661,433 661,433 661,431C660.34,431 659.68,431 659,431C657.34,429.01 655.79,427.02 654.25,424.94C653.35,423.74 652.44,422.54 651.54,421.34C651.1,420.76 650.66,420.19 650.21,419.59C647.16,415.58 644.11,411.87 640.13,408.75C639.42,408.17 638.72,407.6 638,407C638,406.01 638,405.02 638,404C637.01,403.67 636.02,403.34 635,403C635,402.34 635,401.68 635,401C634.01,400.67 633.02,400.34 632,400C632,399.34 632,398.68 632,398C631.01,397.67 630.02,397.34 629,397C629,396.34 629,395.68 629,395C628.38,394.69 627.76,394.38 627.13,394.06C625.75,393.38 624.38,392.69 623,392C623,391.34 623,390.68 623,390C622.38,389.71 621.76,389.42 621.13,389.13C619,388 619,388 617,386C617,385.01 617,384.02 617,383C629.46,384.53 640.67,388.73 652,394C652,394.66 652,395.32 652,396C652.71,396.08 653.42,396.16 654.14,396.25C657.69,397.18 659.78,398.77 662.69,401C663.21,401.4 663.73,401.8 664.26,402.21C668.62,405.6 672.74,409.24 676.8,412.99C678.69,414.72 680.62,416.34 682.63,417.94C683.41,418.62 684.19,419.3 685,420C685,420.66 685,421.32 685,422C691.1,423.2 691.1,423.2 697,422C697.33,421.01 697.66,420.02 698,419C698.66,419 699.32,419 700,419C700.33,410.87 698.48,405.09 693,399C681.27,388.06 667.47,379.75 653,373C651.84,372.44 650.68,371.88 649.48,371.31C644.06,368.74 638.85,366.36 633,365C633,361 633,361 634.96,358.54C635.89,357.62 636.81,356.7 637.77,355.74C638.54,354.97 638.54,354.97 639.32,354.18C641.05,352.44 642.79,350.72 644.53,349C645.77,347.76 647.01,346.52 648.25,345.28C651.62,341.9 655,338.54 658.38,335.18C661.92,331.66 665.45,328.13 668.98,324.6C674.92,318.67 680.87,312.74 686.82,306.82C694.44,299.24 702.06,291.64 709.67,284.04C716.22,277.5 722.77,270.96 729.33,264.42C730.74,263.02 732.14,261.62 733.54,260.22C737.55,256.22 741.57,252.23 745.58,248.23C746.8,247.02 748.01,245.82 749.22,244.61C754.78,239.06 760.33,233.53 766.33,228.45C769.38,225.8 772.17,222.88 775,220C775.83,219.2 776.65,218.39 777.5,217.56C779.58,215.43 781.55,213.25 783.5,211C787.24,206.69 791.11,202.72 795.5,199.06C797.88,197.07 799.88,195.05 801.81,192.63C802.53,191.76 803.26,190.89 804,190C804.66,190 805.32,190 806,190C806.24,189.44 806.47,188.88 806.72,188.3C808.29,185.47 810.22,183.54 812.51,181.26C813.87,179.91 813.87,179.91 815.25,178.53C815.72,178.06 816.2,177.59 816.68,177.11C818.1,175.71 819.52,174.3 820.93,172.88C825.6,168.25 830.31,163.73 835.34,159.49C837.87,157.22 839.91,154.68 842,152Z"/>
-+      
-+    <path android:fillColor="#000000" android:pathData="M608.11,404.41C609.19,405.42 610.26,406.46 611.31,407.5C611.88,408.04 612.44,408.58 613.02,409.14C614.69,410.75 616.35,412.37 618,414C619.32,415.28 619.32,415.28 620.67,416.59C624.69,420.53 628.6,424.5 632,429C632,429.66 632,430.32 632,431C632.99,431.33 633.98,431.66 635,432C635,432.66 635,433.32 635,434C635.66,434 636.32,434 637,434C638.4,435.59 638.4,435.59 640.01,437.8C640.9,439.01 640.9,439.01 641.8,440.25C642.42,441.11 643.05,441.98 643.69,442.88C644.32,443.75 644.96,444.63 645.62,445.53C647.42,448.01 649.21,450.5 651,453C651.73,454.01 652.45,455.02 653.2,456.07C654.82,458.36 656.42,460.67 658,463C658.96,464.41 658.96,464.41 659.95,465.84C673,485.12 673,485.12 673,490C673.66,490 674.32,490 675,490C675.52,491.11 676.04,492.22 676.57,493.37C677.28,494.87 677.98,496.37 678.69,497.88C679.03,498.6 679.37,499.33 679.72,500.08C681.56,504.01 683.45,507.9 685.43,511.76C688.42,517.71 690.94,523.83 693.44,530C693.92,531.19 694.4,532.38 694.9,533.6C698.66,542.96 702.06,552.36 705,562C705.33,563.06 705.33,563.06 705.66,564.14C718.05,604.46 724.75,645.81 724,688C723.99,688.76 723.97,689.52 723.96,690.3C723.61,705.88 720.72,721.17 716,736C715.45,737.72 715.45,737.72 714.89,739.48C710.56,752.1 704.61,763.65 697.63,775C697.2,775.7 696.77,776.4 696.33,777.12C695.28,778.79 694.14,780.4 693,782C692.34,782 691.68,782 691,782C690.78,782.54 690.57,783.08 690.34,783.64C688.54,786.82 686.08,789.21 683.5,791.75C683,792.26 682.5,792.76 681.99,793.29C678.25,797 678.25,797 676,797C675.67,797.99 675.34,798.98 675,800C659.67,812.72 640.21,821.36 621,826C619.52,826.38 619.52,826.38 618.01,826.78C594.08,832.54 568.92,831.3 544.5,831.27C539.36,831.26 534.23,831.27 529.1,831.27C520.49,831.28 511.87,831.27 503.26,831.26C493.37,831.25 483.48,831.25 473.59,831.26C465.03,831.27 456.46,831.27 447.9,831.27C442.82,831.27 437.73,831.27 432.65,831.27C376.62,831.34 376.62,831.34 355,825C353.75,824.64 352.51,824.28 351.22,823.91C334.33,818.65 320.05,810.69 306,800C305.02,799.26 304.03,798.53 303.02,797.77C302.02,796.89 302.02,796.89 301,796C301,795.34 301,794.68 301,794C300.01,793.67 299.02,793.34 298,793C298,792.34 298,791.68 298,791C297.01,790.67 296.02,790.34 295,790C282.15,776.39 273.16,759.65 266.5,742.31C266.24,741.65 265.99,740.99 265.73,740.32C264.41,736.73 263.63,733.81 264,730C265.18,728.2 265.18,728.2 266.87,726.51C267.5,725.87 268.14,725.22 268.79,724.55C269.5,723.86 270.2,723.17 270.93,722.46C271.67,721.71 272.4,720.97 273.16,720.21C275.6,717.75 278.06,715.32 280.52,712.89C282.22,711.19 283.91,709.49 285.61,707.8C289.17,704.24 292.73,700.69 296.31,697.15C300.89,692.6 305.46,688.04 310.03,683.47C313.53,679.96 317.04,676.47 320.55,672.97C322.24,671.29 323.92,669.61 325.61,667.92C327.96,665.57 330.32,663.23 332.68,660.9C333.38,660.19 334.08,659.49 334.8,658.77C335.45,658.14 336.09,657.5 336.75,656.85C337.31,656.3 337.87,655.74 338.44,655.17C340,654 340,654 343,654C343.35,655.07 343.35,655.07 343.7,656.17C344.77,659.45 345.88,662.73 347,666C347.35,667.03 347.7,668.07 348.06,669.13C350.71,676.47 354.11,683.09 358.05,689.8C361,694.82 361,694.82 361,697C361.66,697 362.32,697 363,697C363.47,697.93 363.95,698.86 364.44,699.81C367.62,705.38 371.85,710.14 376,715C376.74,715.87 377.47,716.75 378.23,717.65C382.79,722.9 387.55,727.26 393.13,731.41C393.75,731.93 394.36,732.46 395,733C395,733.66 395,734.32 395,735C395.53,735.24 396.06,735.49 396.6,735.74C399.05,737.02 401.32,738.49 403.62,740.02C411.14,745.02 418.82,749.15 427,753C428.49,753.71 428.49,753.71 430.01,754.44C435.57,757.04 441.11,759.27 447,761C447.79,761.24 448.57,761.49 449.38,761.74C477.34,769.65 508.42,768.98 536,760C536.94,759.69 536.94,759.69 537.91,759.38C546.87,756.4 555.16,752.57 563.42,747.98C564.09,747.61 564.76,747.24 565.45,746.86C566.04,746.52 566.63,746.19 567.24,745.84C569.13,744.94 570.95,744.44 573,744C573,743.34 573,742.68 573,742C574.48,740.91 574.48,740.91 576.63,739.63C587.67,732.51 599.37,722.83 606.88,712C607.58,711.01 608.28,710.02 609,709C609.66,709 610.32,709 611,709C611.37,708.2 611.37,708.2 611.74,707.39C613.01,704.99 614.45,702.78 615.97,700.53C621.62,692.11 625.94,683.28 630,674C630.41,673.07 630.82,672.15 631.25,671.19C634.14,664.33 636.09,657.19 638,650C638.26,649.06 638.26,649.06 638.52,648.11C639.86,643.08 640.61,638.11 641.13,632.94C641.21,632.11 641.29,631.27 641.38,630.42C644.37,598.56 637.69,568.98 622.85,540.82C622,539 622,539 622,537C621.34,537 620.68,537 620,537C619.73,536.47 619.46,535.93 619.19,535.38C616.21,529.73 612.7,524.94 608.57,520.07C607,518 607,518 607,516C606.34,516 605.68,516 605,516C603.52,514.46 603.52,514.46 601.81,512.38C598.96,509.02 596.01,506.16 592.62,503.37C591,502 591,502 588.5,499.44C586.44,497.43 584.54,495.92 582.19,494.31C580.61,493.17 580.61,493.17 579,492C579,491.34 579,490.68 579,490C578.44,489.9 577.88,489.8 577.3,489.7C574.51,488.85 572.59,487.52 570.19,485.88C560.41,479.52 549.73,475.14 538.83,471.07C535.5,469.81 532.25,468.44 529,467C531.25,462.85 534.06,459.65 537.39,456.36C537.92,455.81 538.46,455.27 539.01,454.72C540.78,452.94 542.56,451.17 544.33,449.4C545.57,448.16 546.81,446.93 548.04,445.69C550.63,443.09 553.23,440.5 555.82,437.92C559.14,434.61 562.45,431.29 565.76,427.97C568.31,425.41 570.87,422.86 573.43,420.31C574.65,419.09 575.87,417.86 577.09,416.64C578.79,414.93 580.51,413.22 582.23,411.52C582.72,411.01 583.22,410.51 583.73,410C590.86,402.95 599,397.36 608.11,404.41Z"/>
-+      
-+    <path android:fillColor="#000000" android:pathData="M461.31,149.86C462.2,149.86 463.1,149.87 464.02,149.87C464.95,149.87 465.88,149.87 466.83,149.86C468.81,149.86 470.79,149.87 472.78,149.87C475.73,149.87 478.69,149.87 481.65,149.86C499.2,149.86 516.59,150.39 534,152.75C534.65,152.84 535.29,152.92 535.96,153.01C557.68,155.92 578.98,159.72 600,166C600.88,166.26 601.77,166.52 602.67,166.79C603.55,167.04 604.43,167.3 605.33,167.57C606.12,167.8 606.9,168.03 607.71,168.27C610.9,169.29 613.98,170.51 617.07,171.79C619.3,172.71 621.53,173.59 623.78,174.46C634.73,178.75 644.84,184.09 655,190C655,190.66 655,191.32 655,192C655.56,192.1 656.11,192.21 656.69,192.31C659.48,193.14 661.61,194.34 664,196C664,196.66 664,197.32 664,198C664.99,198 665.98,198 667,198C668.37,199.29 669.71,200.63 671,202C671.66,202.33 672.32,202.66 673,203C673.35,207.21 672.66,209.04 670.01,212.29C669.39,213.06 668.76,213.84 668.12,214.64C667.46,215.44 666.8,216.24 666.13,217.06C664.83,218.66 663.54,220.25 662.26,221.85C661.68,222.55 661.11,223.25 660.51,223.97C659.06,225.91 658.01,227.8 657,230C656.34,230 655.68,230 655,230C655,230.99 655,231.98 655,233C654.34,233 653.68,233 653,233C652.73,233.72 652.46,234.43 652.19,235.17C650.98,238.04 649.59,240.63 648,243.31C647.23,244.64 647.23,244.64 646.44,245.99C645.73,246.98 645.73,246.98 645,248C644.34,248 643.68,248 643,248C642.89,248.55 642.79,249.1 642.68,249.67C641.86,252.49 640.59,254.74 639.12,257.3C638.53,258.33 637.95,259.36 637.34,260.43C636.4,262.07 636.4,262.07 635.44,263.75C629.98,273.37 624.83,283.05 620,293C619.62,293.74 619.23,294.49 618.84,295.25C615.61,301.55 612.91,307.96 610.38,314.56C609.99,315.54 609.61,316.52 609.22,317.52C606.44,324.68 603.69,331.81 602,339.31C600.6,344.47 600.6,344.47 598,347C595.17,347.9 592.58,348.57 589.69,349.13C588.88,349.29 588.07,349.46 587.23,349.63C580.19,351.05 573.12,352.08 566,353C562.33,353.51 558.67,354.04 555,354.56C554.1,354.69 553.21,354.82 552.28,354.95C551,355.13 551,355.13 549.69,355.32C548.93,355.42 548.17,355.53 547.39,355.64C545.64,355.9 543.9,356.2 542.17,356.51C538.66,357.05 535.21,357.32 531.67,357.54C530.63,357.6 530.63,357.6 529.56,357.67C506.16,359.08 483.04,359.4 459.63,358.13C458.88,358.09 458.14,358.05 457.37,358.01C449.35,357.57 441.48,356.91 433.57,355.46C430.16,354.85 426.75,354.45 423.31,354.06C410.07,352.48 397,349.95 384,347C382.3,346.63 382.3,346.63 380.57,346.25C378.96,345.88 378.96,345.88 377.31,345.5C376.36,345.28 375.41,345.07 374.43,344.84C371.72,343.9 370.68,343.31 369,341C368.13,338.89 367.35,336.73 366.63,334.56C363.47,325.32 359.88,316.38 355.31,307.74C354.16,305.33 353.17,302.92 352.2,300.43C349.87,294.56 347.18,288.88 344.44,283.19C343.96,282.18 343.47,281.17 342.98,280.13C340.82,275.62 338.61,271.27 336,267C335.08,265.3 334.16,263.59 333.25,261.88C329.42,254.82 325.16,248.07 320.56,241.5C319,239 319,239 319,236C318.34,236 317.68,236 317,236C313,230.71 313,230.71 313,227C312.34,227 311.68,227 311,227C309.68,225.43 309.68,225.43 308.31,223.31C307.85,222.63 307.4,221.94 306.93,221.24C305.71,218.31 305.9,216.96 307,214C308.96,211.98 308.96,211.98 311.38,210.19C312.17,209.58 312.96,208.98 313.77,208.36C316,207 316,207 319,207C319,206.34 319,205.68 319,205C345.34,191.49 375.69,190.32 404,199C426.32,206.32 426.32,206.32 430,210C430.35,212.8 430.35,212.8 430.49,216.39C430.56,217.74 430.62,219.09 430.68,220.44C430.73,221.51 430.73,221.51 430.78,222.6C431.31,234.71 432.25,246.68 433.94,258.69C434.17,260.39 434.17,260.39 434.42,262.13C435.59,270.17 437.21,278.08 439,286C439.2,286.9 439.4,287.8 439.61,288.72C443.61,310.43 443.61,310.43 454.75,328.38C458.1,329.31 460.64,328.78 464,328C466.6,326.51 467.79,325.73 468.64,322.82C468.83,312.67 465.16,303.81 461.82,294.39C460.2,289.68 459.04,284.87 458,280C457.83,279.23 457.66,278.45 457.49,277.66C456.2,271.46 455.14,265.21 454.05,258.98C453.33,254.81 453.33,254.81 452.49,250.67C451.57,245.69 451.4,240.62 451.07,235.57C450.94,233.6 450.8,231.62 450.66,229.65C449.69,215.07 450.03,200.66 450.74,186.09C450.88,183.37 450.99,180.66 451.11,177.95C452.42,149.9 452.42,149.9 461.31,149.86Z"/>
-+      
-+    <path android:fillColor="#000000" android:pathData="M533.97,490.32C543.52,493.52 552.24,498.1 561,503C561,503.66 561,504.32 561,505C561.74,505.27 562.48,505.54 563.25,505.82C577.93,512.13 589.64,527.53 599,540C599.58,540.76 600.17,541.51 600.77,542.29C620.54,569.62 625.59,606.35 620.36,639.02C619.36,644.49 617.74,649.73 616,655C615.63,656.16 615.26,657.33 614.88,658.52C610.33,672.08 603.27,683.47 595,695C594.5,695.74 594,696.47 593.49,697.23C591.03,700.86 588.46,703.34 585,706C584.4,706.77 583.79,707.55 583.17,708.34C570.48,723.89 548.72,734.73 530,741C529.18,741.28 528.37,741.57 527.53,741.86C494.12,752.24 459.2,746.6 428.27,731.68C418.95,726.69 409.75,720.17 402,713C402,712.34 402,711.68 402,711C401.01,710.67 400.02,710.34 399,710C399,709.34 399,708.68 399,708C398.01,708 397.02,708 396,708C396,707.01 396,706.02 396,705C395.01,704.67 394.02,704.34 393,704C393,703.34 393,702.68 393,702C392.01,701.67 391.02,701.34 390,701C387.85,698.8 386.08,696.28 384.25,693.81C383.71,693.09 383.18,692.38 382.63,691.64C377.87,685.1 374.38,678.35 371,671C370.41,669.89 370.41,669.89 369.82,668.76C366.55,662.56 364.44,656.46 362.69,649.69C362.29,648.24 362.29,648.24 361.89,646.77C359.54,637.97 359.54,637.97 360,634C361.82,631.56 361.82,631.56 364.42,628.96C364.9,628.47 365.37,627.99 365.86,627.5C367.46,625.88 369.08,624.29 370.69,622.69C371.84,621.54 372.99,620.39 374.14,619.23C377.25,616.1 380.39,612.98 383.53,609.87C386.8,606.61 390.07,603.34 393.34,600.07C398.82,594.58 404.32,589.11 409.82,583.64C416.19,577.3 422.55,570.96 428.89,564.6C434.99,558.5 441.1,552.4 447.21,546.31C449.81,543.71 452.42,541.12 455.01,538.52C458.07,535.46 461.14,532.4 464.21,529.36C465.34,528.24 466.47,527.11 467.59,525.99C469.12,524.45 470.66,522.93 472.2,521.41C473.49,520.12 473.49,520.12 474.8,518.81C477,517 477,517 480,517C480.03,519.96 480.05,522.92 480.06,525.88C480.07,526.72 480.08,527.56 480.09,528.43C480.09,529.23 480.09,530.04 480.1,530.87C480.1,531.61 480.11,532.35 480.11,533.12C480,535 480,535 479,537C477.04,537.76 475.06,538.46 473.06,539.13C461.8,543.35 454.2,550.24 449.01,561.07C444.38,572.32 444.77,586.42 448,598C449.19,600.78 450.55,603.34 452,606C452,606.66 452,607.32 452,608C452.66,608 453.32,608 454,608C454.47,608.7 454.95,609.4 455.44,610.13C462.68,618.25 473.98,621.11 484.23,623.42C504.06,627.91 504.06,627.91 511,636C513.85,640.61 514.52,644.61 514.44,649.94C514.43,650.65 514.42,651.36 514.41,652.09C514.2,658.73 513.05,661.98 508.32,666.67C501.65,672.7 495.96,673.9 487,674C479.72,673.24 473.64,669.6 469,664C466.35,659.09 465.58,654.88 465.21,649.33C464.93,646.09 464.93,646.09 464,643C461.07,640.94 458.46,640.7 454.94,640.69C454.08,640.67 453.22,640.65 452.34,640.64C449.55,641.07 448.71,641.8 447,644C444.13,651.04 446.1,660.43 448.92,667.21C450.64,670.77 452.58,673.86 455,677C455,677.66 455,678.32 455,679C455.66,679 456.32,679 457,679C457.52,679.7 458.03,680.4 458.56,681.13C463.54,686.99 470.1,690.34 477.25,692.95C479,694 479,694 479.75,695.89C480,698 480,698 479.94,701.56C479.88,707.74 480.26,714.4 483.75,719.63C486.63,721.39 488.61,721.93 492,722C495.67,720.64 496.77,719.44 498.6,715.96C500.39,711.56 500.55,707.27 500.69,702.56C500.72,701.74 500.76,700.91 500.79,700.06C500.87,698.04 500.94,696.02 501,694C502.73,693.21 504.46,692.42 506.19,691.63C507.15,691.18 508.11,690.74 509.11,690.29C511.72,689.13 514.34,688.04 517,687C517,686.34 517,685.68 517,685C517.99,685 518.98,685 520,685C520.33,684.01 520.66,683.02 521,682C521.66,682 522.32,682 523,682C523.31,681.38 523.62,680.76 523.94,680.13C524.63,678.75 525.31,677.38 526,676C526.66,676 527.32,676 528,676C528.27,675.15 528.54,674.31 528.81,673.44C530,670 530,670 531.56,666.44C535.77,656.37 535.72,641.27 532,631C531.76,630.32 531.51,629.64 531.26,628.94C529.08,623.84 525.94,620.84 521.61,617.45C521.08,616.97 520.55,616.49 520,616C520,615.34 520,614.68 520,614C519.26,613.87 518.53,613.74 517.77,613.61C515.2,613.04 513.14,612.27 510.75,611.19C506.08,609.25 501.42,608.09 496.5,607C484.6,604.34 473.81,601.11 466.91,590.3C464.64,584.58 465.08,576.31 466.72,570.41C470.04,563.41 474.87,559.64 482,557C489.32,554.56 496.31,555.55 503.13,558.93C504.79,559.88 506.4,560.93 508,562C508,562.66 508,563.32 508,564C508.66,564 509.32,564 510,564C512.48,568.88 514.18,573.3 514.94,578.75C515.54,582.42 516.01,584.01 518.13,587.19C521.36,589.23 523.29,589.76 527.06,589.46C529.28,589.03 529.28,589.03 532,587.25C535.61,581.39 534.69,574.37 533.25,567.81C532.86,566.53 532.45,565.26 532,564C531.76,563.28 531.51,562.57 531.26,561.83C526.07,548.51 515.57,542.41 503.13,536.92C502.42,536.62 501.72,536.31 501,536C500.95,534.78 500.9,533.56 500.85,532.31C500.78,530.68 500.7,529.06 500.63,527.44C500.58,526.24 500.58,526.24 500.53,525.01C500.29,520.05 499.85,515.64 498,511C496.13,509.35 496.13,509.35 493.88,508.56C492.79,508.1 492.79,508.1 491.68,507.63C491.13,507.42 490.57,507.21 490,507C490.57,503.26 492.08,501.55 494.75,498.93C495.5,498.18 496.26,497.43 497.03,496.65C497.83,495.88 498.62,495.11 499.44,494.31C500.62,493.14 500.62,493.14 501.83,491.94C512.03,481.88 521.4,486.27 533.97,490.32Z"/>
-+      
-+    <path android:fillColor="#000000" android:pathData="M387,402C389.29,402.61 391.58,403.24 393.87,403.88C401.08,405.84 408.34,407.37 415.69,408.7C417.64,409.05 419.59,409.43 421.54,409.8C443.55,413.89 465.67,415.51 488.04,415.39C491.63,415.37 495.23,415.39 498.82,415.41C513.89,415.42 528.57,414.35 543.5,412.27C546.02,412 548.47,411.95 551,412C551,413.32 551,414.64 551,416C550.34,416 549.68,416 549,416C548.67,416.99 548.34,417.98 548,419C546.29,420.65 546.29,420.65 544.19,422.38C541.04,425.03 538.55,427.76 536,431C535.34,431 534.68,431 534,431C533.67,431.99 533.34,432.98 533,434C532.34,434 531.68,434 531,434C530.67,434.99 530.34,435.98 530,437C529.34,437 528.68,437 528,437C528,437.66 528,438.32 528,439C526.43,440.55 526.43,440.55 524.31,442.31C520.04,445.89 516.06,449.34 513.05,454.08C509.24,459.34 506.12,462.48 499.52,463.58C491.68,464.13 483.85,464 476,463.93C467.3,463.9 459.32,465.67 451,468C450.07,468.24 449.13,468.47 448.17,468.72C427.37,474.36 409.63,485.16 392.97,498.55C391,500 391,500 388.81,501.01C386.65,501.93 386.65,501.93 386,505C385.05,505.76 384.1,506.53 383.13,507.31C374.99,514.02 368.59,523.6 363.12,532.52C362.75,533.01 362.38,533.5 362,534C361.34,534 360.68,534 360,534C359.87,534.57 359.75,535.15 359.62,535.74C358.98,538.06 358.12,540.06 357.07,542.23C356.69,543.03 356.3,543.84 355.91,544.67C355.3,545.91 355.3,545.91 354.69,547.19C345.61,566.04 337.04,586.47 339.59,607.9C340.45,617.16 340.35,625.55 334.55,633.18C328.39,640.61 321.24,647.12 314.12,653.6C310.99,656.47 307.94,659.41 304.88,662.35C299.49,667.49 294.06,672.57 288.57,677.6C284.66,681.25 280.94,684.98 277.5,689.06C274.88,692.1 272.16,694.52 269,697C268.28,697.91 267.56,698.82 266.81,699.75C266.21,700.49 265.62,701.23 265,702C264.34,702 263.68,702 263,702C262.67,702.99 262.34,703.98 262,705C260.35,704.67 258.7,704.34 257,704C256.17,647.39 256.17,647.39 260.38,627.05C261.09,623.58 261.7,620.1 262.31,616.61C265.57,598.12 265.57,598.12 268,591C268.33,589.41 268.65,587.82 268.95,586.23C269.92,581.16 271.29,576.3 272.81,571.38C273.08,570.51 273.34,569.64 273.62,568.74C274.16,566.98 274.7,565.23 275.24,563.47C275.91,561.28 276.57,559.08 277.22,556.89C281.9,541.37 287.51,526.27 295,511.89C296.76,508.51 298.37,505.07 299.95,501.6C303.49,493.86 307.47,486.58 311.95,479.34C314.43,475.3 316.75,471.18 319,467C319.66,467 320.32,467 321,467C321.29,466.26 321.58,465.52 321.88,464.75C323.52,460.73 324.94,458.06 328,455C328.68,453.95 329.36,452.9 330.06,451.81C331.02,450.42 331.02,450.42 332,449C332.66,449 333.32,449 334,449C334,448.01 334,447.02 334,446C334.66,446 335.32,446 336,446C336.37,445.19 336.37,445.19 336.75,444.36C338.28,441.47 340.09,438.9 342,436.25C342.7,435.27 343.4,434.28 344.13,433.27C344.74,432.52 345.36,431.77 346,431C346.66,431 347.32,431 348,431C348.24,430.43 348.48,429.86 348.73,429.28C350.26,426.54 352.11,424.73 354.38,422.56C356.77,420.23 358.99,418.01 361.06,415.38C363.44,412.46 366.12,410.13 369,407.72C370.98,406.08 370.98,406.08 372.5,404.41C377.1,399.71 381.11,400.77 387,402Z"/>
-+      
-+    <path android:fillColor="#010101" android:pathData="M480,484C480,484.99 480,485.98 480,487C479.34,487 478.68,487 478,487C477.67,487.99 477.34,488.98 477,490C476.34,490 475.68,490 475,490C474.67,490.99 474.34,491.98 474,493C473.34,493 472.68,493 472,493C471.67,493.99 471.34,494.98 471,496C470.34,496 469.68,496 469,496C468.67,496.99 468.34,497.98 468,499C467.34,499 466.68,499 466,499C466,499.66 466,500.32 466,501C464.36,502.36 462.68,503.69 461,505C458.29,507.57 455.86,510.17 453.5,513.06C451.18,515.79 448.82,517.81 446,520C445.51,520.99 445.51,520.99 445,522C444.34,522 443.68,522 443,522C442.67,522.99 442.34,523.98 442,525C441.34,525 440.68,525 440,525C439.67,525.99 439.34,526.98 439,528C438.34,528 437.68,528 437,528C436.67,528.99 436.34,529.98 436,531C435.34,531 434.68,531 434,531C433.67,531.99 433.34,532.98 433,534C432.34,534 431.68,534 431,534C430.67,534.99 430.34,535.98 430,537C429.34,537 428.68,537 428,537C427.67,537.99 427.34,538.98 427,540C426.34,540 425.68,540 425,540C424.67,540.99 424.34,541.98 424,543C423.34,543 422.68,543 422,543C421.67,543.99 421.34,544.98 421,546C420.34,546 419.68,546 419,546C418.67,546.99 418.34,547.98 418,549C417.34,549 416.68,549 416,549C415.51,550.48 415.51,550.48 415,552C414.34,552 413.68,552 413,552C412.51,553.48 412.51,553.48 412,555C411.34,555 410.68,555 410,555C409.51,556.48 409.51,556.48 409,558C408.34,558 407.68,558 407,558C406.51,559.48 406.51,559.48 406,561C405.34,561 404.68,561 404,561C404,561.66 404,562.32 404,563C402.34,564.34 400.67,565.67 399,567C398.34,567.83 397.68,568.65 397,569.5C394.89,572.14 392.66,573.93 390,576C388.32,577.66 386.66,579.32 385,581C383.99,582 382.97,583.01 381.96,584.01C380.91,585.05 379.86,586.09 378.81,587.13C378.28,587.65 377.75,588.17 377.2,588.71C374.85,591.05 372.84,593.23 371,596C370.34,596 369.68,596 369,596C369,596.66 369,597.32 369,598C367.13,600.13 367.13,600.13 365,602C364.34,602 363.68,602 363,602C363,602.66 363,603.32 363,604C361.68,603.67 360.36,603.34 359,603C359.32,593.47 361.03,585.04 364,576C364.38,574.82 364.77,573.64 365.16,572.43C368.71,562.04 373.42,552.44 379,543C379.66,543 380.32,543 381,543C381.23,542.32 381.45,541.64 381.69,540.94C383.31,537.3 385.33,533.97 388,531C388.66,531 389.32,531 390,531C390.2,530.47 390.41,529.94 390.62,529.39C392.59,525.97 395.26,523.45 398.06,520.69C398.65,520.11 399.24,519.53 399.84,518.93C419.88,499.36 451.15,482.17 480,484Z"/>
-+      
-+    <path android:fillColor="#000000" android:pathData="M381,367C382.22,367.25 383.45,367.51 384.71,367.77C400.5,371.01 416.31,373.6 432.31,375.63C433.25,375.75 434.18,375.87 435.14,376C453.09,378.18 471.25,378.17 489.3,378.13C492.56,378.13 495.83,378.13 499.1,378.14C509.31,378.14 519.5,378.02 529.7,377.55C530.98,377.49 530.98,377.49 532.28,377.43C537.6,377.15 542.76,376.54 548,375.53C551.73,374.87 555.48,374.47 559.25,374.06C565.72,373.35 572.06,372.3 578.44,371.04C583.61,370.03 588.75,369.37 594,369C593.67,370.65 593.34,372.3 593,374C592.01,374.33 591.02,374.66 590,375C589.67,375.99 589.34,376.98 589,378C587.14,379.75 587.14,379.75 584.81,381.56C584.06,382.16 583.3,382.76 582.52,383.38C576.18,387.46 568.41,388.15 561.13,389.44C559.46,389.74 559.46,389.74 557.77,390.06C553.85,390.76 549.93,391.39 546,392C545.17,392.13 544.33,392.26 543.47,392.4C527.48,394.86 511.72,395.47 495.56,395.39C491.64,395.38 487.72,395.39 483.8,395.41C461.92,395.43 440.51,393.5 419.06,389.13C417.77,388.86 416.48,388.6 415.15,388.34C411.43,387.57 407.71,386.79 404,386C402.96,385.79 401.92,385.57 400.85,385.35C398.16,384.79 395.49,384.19 392.81,383.56C392.06,383.41 391.31,383.25 390.53,383.09C387.72,382.38 385.54,381.65 383.66,379.38C381.71,376.07 380.33,372.84 380,369C380.33,368.34 380.66,367.68 381,367Z"/>
-+    
-+</vector>
-Index: app/src/main/res/drawable/ic_no_goals.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/drawable/ic_no_goals.xml b/app/src/main/res/drawable/ic_no_goals.xml
-new file mode 100644
---- /dev/null	(date 1762070977870)
-+++ b/app/src/main/res/drawable/ic_no_goals.xml	(date 1762070977870)
-@@ -0,0 +1,33 @@
-+<vector xmlns:android="http://schemas.android.com/apk/res/android"
-+    android:width="512dp"
-+    android:height="512dp"
-+    android:viewportWidth="512"
-+    android:viewportHeight="512">
-+  <path
-+      android:pathData="M207.88,145.75C209.39,145.76 209.39,145.76 210.94,145.77C248.23,146.3 284.36,158.27 314,181C312.65,184.01 311.12,186.14 308.82,188.5C308.18,189.16 307.53,189.83 306.87,190.51C305.83,191.57 305.83,191.57 304.76,192.64C304.04,193.37 303.33,194.1 302.59,194.85C301.07,196.39 299.55,197.92 298.02,199.46C295.69,201.81 293.38,204.18 291.07,206.55C289.6,208.04 288.12,209.53 286.64,211.02C285.6,212.09 285.6,212.09 284.55,213.18C283.89,213.83 283.24,214.48 282.57,215.15C282,215.72 281.43,216.3 280.84,216.89C279,218 279,218 276.5,217.79C272.85,216.64 269.68,214.7 266.38,212.81C238.13,197.37 204.47,195.09 173.75,203.82C156.67,209.21 141.42,217.06 128,229C127.16,229.7 126.32,230.39 125.46,231.11C103.35,249.89 90.37,279.66 87,308C84.65,342.37 93.24,375.62 116,402C116.92,402.9 117.85,403.8 118.8,404.73C121,407 121,407 121,409C121.86,409.37 121.86,409.37 122.74,409.75C125.33,411.18 127.03,412.86 129.13,414.94C151.98,435.72 184.2,445.22 214.72,444.13C241.64,442.58 267.28,433.41 288,416C288.92,415.24 289.84,414.49 290.79,413.71C313.38,394.22 327.64,365.49 331,336C331.28,331.25 331.33,326.51 331.31,321.75C331.31,320.48 331.3,319.21 331.3,317.9C331.05,297.87 326.15,280.37 316.87,262.66C315.05,259.18 313.5,255.63 312,252C317.18,246.73 322.38,241.58 328,236.78C330.26,234.77 332.38,232.65 334.5,230.5C344.98,219.91 344.98,219.91 351,217C379.09,257.31 391.79,303.24 383.63,352.25C375.23,398.34 349.06,439.72 310.61,466.6C303.34,471.57 295.82,475.95 288,480C287.39,480.32 286.78,480.64 286.15,480.96C262.85,492.94 236.81,498.23 210.75,498.25C209.68,498.25 209.68,498.25 208.59,498.25C196.84,498.23 185.5,497.54 174,495C173.2,494.82 172.4,494.65 171.57,494.46C139.38,487.11 110.79,470.76 87,448C86.06,447.11 85.12,446.23 84.15,445.31C53.91,416.05 34.71,373.23 33.8,331.08C33.28,279.7 49.62,236.84 84.29,198.76C85.18,197.85 86.08,196.94 87,196C88.25,194.59 88.25,194.59 89.53,193.15C94.15,189.41 100.34,190.62 105.94,190.88C132.64,191.45 155.13,183.24 175,165C179.31,160.62 183.3,156.22 186.56,151C191.62,144.77 200.43,145.68 207.88,145.75Z"
-+      android:fillColor="#020202"/>
-+  <path
-+      android:pathData="M104.56,14.84C117.98,14.42 130.96,17.05 143,23C144.37,23.63 144.37,23.63 145.76,24.27C153.7,28.2 159.82,33.78 166,40C166.83,40.83 167.66,41.66 168.51,42.51C183.16,57.95 189.64,78.22 189.25,99.3C188.03,117.53 182.05,132.57 171,147C170.53,147.65 170.06,148.3 169.58,148.98C157.4,164.79 137.62,173.41 118.46,176.59C98.12,179.02 77.53,174.28 61,162C57.53,159.13 54.25,156.11 51,153C50.37,152.45 49.75,151.9 49.1,151.33C34.93,138.37 27.88,117.45 26.88,98.68C26.33,77.48 33.97,57.75 48,42C48.67,41.24 49.33,40.48 50.02,39.7C64.15,24.55 84.06,16.12 104.56,14.84ZM74,62C75.21,75.64 80.11,80.69 90.2,89.43C95.76,94.28 95.76,94.28 97,98C96.41,98.26 95.83,98.53 95.23,98.8C91.36,100.89 88.49,104.06 85.38,107.13C84.69,107.76 84.01,108.4 83.31,109.06C77.78,114.51 76.16,118.66 75.88,126.5C75.92,127.32 75.96,128.15 76,129C77.56,128.91 79.13,128.8 80.69,128.69C81.56,128.63 82.43,128.57 83.32,128.51C91.07,127.03 96.01,120.08 101.21,114.63C101.89,113.92 102.58,113.22 103.29,112.49C103.9,111.85 104.52,111.2 105.16,110.53C107.13,108.89 108.49,108.4 111,108C111.26,108.59 111.53,109.17 111.8,109.77C113.88,113.63 117.02,116.51 120.06,119.63C120.69,120.31 121.32,120.99 121.97,121.69C127.38,127.21 132.1,128.94 139.77,129.03C140.51,129.02 141.24,129.01 142,129C141.63,119.77 139.77,114.52 133.07,108.1C132.18,107.31 131.29,106.51 130.38,105.69C129.48,104.84 128.58,103.99 127.66,103.12C125.46,101.05 123.24,99.01 121,97C122.42,94.02 123.78,92.02 126.19,89.75C135.82,80.51 135.82,80.51 140.13,68.31C140.29,67.13 140.46,65.95 140.63,64.74C140.81,63.38 140.81,63.38 141,62C135.28,61.8 129.72,61.91 125.06,65.49C121.25,69.13 117.93,73.15 114.58,77.21C112.28,79.81 109.73,81.87 107,84C106.46,83.4 105.92,82.81 105.37,82.2C102.88,79.48 100.35,76.8 97.81,74.13C96.97,73.19 96.12,72.25 95.25,71.29C88.68,64.45 83.47,62.31 74,62Z"
-+      android:fillColor="#030303"/>
-+  <path
-+      android:pathData="M208.63,245.63C209.68,245.63 210.73,245.63 211.81,245.63C222.36,245.78 231.25,247.98 241,252C240.51,256.51 239.01,258.48 235.82,261.64C234.97,262.49 234.13,263.33 233.26,264.19C232.37,265.06 231.48,265.92 230.56,266.81C229.68,267.7 228.79,268.58 227.88,269.49C221.28,276 221.28,276 219,276C218.79,276.56 218.59,277.11 218.38,277.69C216.85,280.26 215,281.7 212.68,283.55C210.9,285.08 209.45,286.71 207.94,288.5C204.1,293.03 199.89,297.14 195.62,301.26C189.5,307.24 185.88,312.43 185.69,321.19C185.75,327.92 186.82,332.52 191.39,337.52C197.58,343.16 204.52,343.51 212.52,343.37C219.4,342.64 223.82,339.6 228.25,334.44C228.78,333.78 229.32,333.11 229.87,332.43C232.31,329.64 234.99,327.18 237.75,324.71C245.69,317.47 253.24,309.87 260.81,302.25C262.2,300.86 263.58,299.47 264.97,298.08C268.32,294.72 271.66,291.36 275,288C278.54,291.33 279.86,293.73 281.19,298.44C281.67,300.11 281.67,300.11 282.17,301.81C287.57,322.53 283.47,342.86 273.07,361.23C270.47,365.53 267.38,369.31 264,373C263.44,373.63 262.87,374.26 262.29,374.91C248.99,389.06 230.43,396.82 211.2,397.47C191.73,397.67 173.7,392.25 159,379C158.11,378.2 157.21,377.4 156.29,376.57C142.79,363.81 133.35,346.39 132.7,327.55C132.48,306.48 136.43,287.99 151,272C151.72,271.19 152.43,270.39 153.17,269.55C167.89,253.85 187.15,245.59 208.63,245.63Z"
-+      android:fillColor="#030303"/>
-+  <path
-+      android:pathData="M430,47C433.54,49.86 434.78,51.59 435.49,56.12C435.72,59.88 435.8,63.61 435.81,67.38C435.84,68.68 435.86,69.99 435.89,71.34C435.95,74.56 435.98,77.78 436,81C436.61,80.3 437.23,79.6 437.86,78.88C438.67,77.97 439.48,77.06 440.31,76.13C441.51,74.77 441.51,74.77 442.74,73.38C445.61,70.36 447.18,69.09 451.38,68.63C455.56,69.06 457.06,70.06 460,73C461.57,76.15 461.97,78.65 461,82C458.31,85.65 455.22,88.82 452,92C451,93 450,94 449,95C450.32,95.01 450.32,95.01 451.67,95.01C454.96,95.04 458.25,95.09 461.54,95.15C462.96,95.18 464.38,95.19 465.81,95.2C467.85,95.2 469.9,95.25 471.95,95.29C473.18,95.31 474.41,95.32 475.68,95.34C479.88,96.17 481.35,97.7 484,101C485,104 485,104 485,107C483.05,110.82 480.6,113.65 477.59,116.68C476.7,117.58 475.82,118.48 474.9,119.4C473.94,120.37 472.97,121.33 472,122.3C471.01,123.3 470.01,124.3 469.02,125.29C466.94,127.38 464.85,129.47 462.77,131.55C460.09,134.22 457.43,136.89 454.77,139.58C452.73,141.64 450.67,143.7 448.61,145.75C447.63,146.74 446.64,147.72 445.67,148.71C444.3,150.09 442.92,151.46 441.54,152.83C440.76,153.62 439.97,154.4 439.17,155.21C436.46,157.44 434.48,158.07 430.98,157.91C430.26,157.81 429.54,157.71 428.8,157.61C410,155.36 389.95,153.7 374.14,165.72C363.85,174.09 354.81,183.87 345.83,193.6C341.74,197.98 337.54,202.24 333.34,206.51C325.03,214.94 316.83,223.47 308.7,232.08C300.84,240.41 292.92,248.69 284.95,256.92C284.21,257.69 284.21,257.69 283.45,258.47C278.54,263.54 273.61,268.6 268.69,273.67C266.3,276.13 263.92,278.58 261.53,281.04C261.06,281.52 260.6,282 260.12,282.49C254.13,288.66 248.18,294.85 242.26,301.07C238.89,304.63 235.5,308.17 232.11,311.71C230.54,313.36 228.98,315.01 227.42,316.66C225.3,318.92 223.16,321.16 221.01,323.39C220.4,324.06 219.79,324.72 219.16,325.4C216.12,328.52 214.53,329.87 210.2,330.97C206.77,331 205.61,330.78 203.06,328.56C202.18,327.85 202.18,327.85 201.29,327.13C199.3,323.84 199.24,320.67 200,317C201.77,314.18 204.08,312.08 206.52,309.84C207.58,308.83 207.58,308.83 208.65,307.8C211.01,305.55 213.39,303.32 215.77,301.1C217.47,299.48 219.16,297.87 220.85,296.25C224.5,292.77 228.16,289.3 231.82,285.83C237.64,280.32 243.4,274.75 249.15,269.18C250.13,268.22 251.12,267.27 252.1,266.32C254.09,264.39 256.08,262.46 258.07,260.53C263.19,255.57 268.31,250.61 273.43,245.66C274.2,244.91 274.2,244.91 274.99,244.15C283.27,236.16 291.62,228.24 299.99,220.35C308.63,212.21 317.17,203.98 325.63,195.65C330.37,191 335.15,186.39 340.04,181.9C365.1,159.29 365.1,159.29 374.48,128.08C374.68,119.53 374.26,110.91 373.02,102.45C372.56,98.55 372.32,96.08 374.45,92.68C376.21,90.65 378.03,88.82 380,87C380.8,86.16 381.59,85.31 382.42,84.44C384.71,82.12 387.01,79.81 389.31,77.5C390.12,76.68 390.93,75.86 391.77,75.01C392.93,73.84 392.93,73.84 394.11,72.66C394.81,71.95 395.51,71.25 396.23,70.53C398,69 398,69 400,69C400,68.34 400,67.68 400,67C401.29,65.73 401.29,65.73 403.19,64.19C407.94,60.17 412.26,55.8 416.61,51.36C421.41,46.48 423.14,45.26 430,47Z"
-+      android:fillColor="#020202"/>
-+  <path
-+      android:pathData="M393.49,154.98C394.81,155.01 394.81,155.01 396.16,155.04C397.1,155.07 398.05,155.09 399.02,155.12C400.47,155.16 400.47,155.16 401.96,155.19C405.06,155.27 408.15,155.35 411.25,155.44C413.35,155.49 415.45,155.54 417.55,155.6C422.7,155.72 427.85,155.86 433,156C433,156.66 433,157.32 433,158C417.49,158 401.98,158 386,158C385.67,157.34 385.34,156.68 385,156C387.93,155.15 390.45,154.9 393.49,154.98Z"
-+      android:fillColor="#868686"/>
-+  <path
-+      android:pathData="M100,254C101.65,254 103.3,254 105,254C103.63,257.54 102.09,260.93 100.38,264.31C99.93,265.2 99.48,266.08 99.02,266.99C98.69,267.65 98.35,268.32 98,269C97.34,267.68 96.68,266.36 96,265C96.99,263.67 96.99,263.67 98,262.31C99.99,259.02 100.44,257.72 100,254Z"
-+      android:fillColor="#2A2A2A"/>
-+  <path
-+      android:pathData="M286,479C286,479.66 286,480.32 286,481C284.76,481.7 283.51,482.39 282.25,483.06C281.21,483.64 281.21,483.64 280.14,484.22C277.64,485.13 276.47,484.88 274,484C274.66,484 275.32,484 276,484C276.33,483.34 276.66,482.68 277,482C283.35,479 283.35,479 286,479Z"
-+      android:fillColor="#202020"/>
-+  <path
-+      android:pathData="M367,397C367.66,397.33 368.32,397.66 369,398C366.52,402.45 366.52,402.45 364,407C362.78,403.35 363.36,402.37 365,399C365.66,398.34 366.32,397.68 367,397Z"
-+      android:fillColor="#424242"/>
-+  <path
-+      android:pathData="M194,300C194,303.59 193.34,304.11 191,306.69C190.44,307.31 189.89,307.93 189.31,308.57C188.88,309.04 188.45,309.52 188,310C187.34,309.67 186.68,309.34 186,309C186.76,307.87 187.54,306.75 188.31,305.63C188.74,305 189.17,304.37 189.61,303.73C191,302 191,302 194,300Z"
-+      android:fillColor="#191919"/>
-+</vector>
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_1_2025_2_18_PM__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2025_2_18_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2025_2_18_PM__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2025_2_18_PM__Changes_.xml	(revision 1486cf98ba68e2e616a45444c2f5a954b448662b)
+++ /dev/null	(revision 1486cf98ba68e2e616a45444c2f5a954b448662b)
@@ -1,16 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_11_1_2025_2_18_PM_[Changes]" date="1761986926931" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2025_2_18_PM_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/1/2025 2:18 PM [Changes]" />
-  <binary>
-    <option name="AFTER_PATH" value="app/src/main/res/drawable/ic_no_categories.png" />
-    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2025_2_18_PM_[Changes]/ic_no_categories.png" />
-  </binary>
-  <binary>
-    <option name="AFTER_PATH" value="app/src/main/res/drawable/ic_arrow_back.png" />
-    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2025_2_18_PM_[Changes]/ic_arrow_back.png" />
-  </binary>
-  <binary>
-    <option name="AFTER_PATH" value="app/src/main/res/drawable/ic_search.png" />
-    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2025_2_18_PM_[Changes]/ic_search.png" />
-  </binary>
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_2_2025_3_30_PM__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_2_2025_3_30_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_2_2025_3_30_PM__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_2_2025_3_30_PM__Changes_.xml	(revision 1486cf98ba68e2e616a45444c2f5a954b448662b)
+++ /dev/null	(revision 1486cf98ba68e2e616a45444c2f5a954b448662b)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_11_2_2025_3_30_PM_[Changes]" date="1762077691446" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_2_2025_3_30_PM_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/2/2025 3:30 PM [Changes]" />
-</changelist>
\ No newline at end of file
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2025_2_18_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2025_2_18_PM_[Changes]/shelved.patch
deleted file mode 100644
